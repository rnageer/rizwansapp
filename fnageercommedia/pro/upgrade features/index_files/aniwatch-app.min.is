"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var app=angular.module("MainApplication",["ngRoute","ngProgress","ngCookies","ngSanitize","ngMaterial","angularCSS","angular-google-analytics","vcRecaptcha","googlechart"]),CSS_ROUTE="https://anilivery.aniwatch.me/app/css/",APP_PRELOAD_CSS=!1;app.config(["$routeProvider","$locationProvider",function(e,t){var i={template:"<md-content class=\"mt-20\" ng-cloak> <div layout=\"row\" class=\"mb-40\"> <div flex> <div class=\"text-center mb-10\"> <h2 class=\"section-title\">What is aniwatch.me?</h2> </div> <div> <p class=\"md-subhead no-margin\"> We are Aniwatch and here you will find an anime haven, including the best user experience you will ever have. Our anime collection is curated with delicacy by our staff, being extended day by day. Seasonal anime and airing anime of <span ng-bind=\"current_date | date:'yyyy'\"></span> are not the only anime you will find at aniwatch.me, there are also classics like Neon Genesis Evangelion, Attack on Titan, Sword Art Online and Death Note, blockbuster like Kimi no Na wa and eternal anime like One Piece, Fairy Tail, Naruto and Dragonball. To put the cherry on top, all our anime are available in the highest possible quality at 1080p, but there are also 720p, 480p and 360p streams to support users with slow connection or old devices.<br><br> Is there a hook to all those advantages? The answer is simple: No! You won\u2019t see any ads or banners whenever visiting aniwatch.me, because advertisements are annoying, and we believe that too. But let\u2019s forget our big anime collection, seasonal anime and airing anime.<br><br> If you are still unsure, take a look at our website, being developed in a modern environment, using a non-harming and fully personalized HTML5 player alongside the newest technology in serving videos, HLS (HTTP Live Streaming). Our modern website is of course fully optimized for mobile- and desktop-devices. Don't hesitate, use aniwatch.me when you're bathing, in school or in your bed. To put an end to your uncertainty, we even have a watch2gether feature coming with a chat using web sockets and having your favorite emotes ready to be shared.<br><br> </p> </div> </div> </div> <div flex class=\"mb-40\"> <div class=\"text-center\"> <h2 class=\"top-headline\">What are you waiting for?<br><a ng-href=\"/login\">Join</a> aniwatch.me in <span ng-bind=\"current_date | date:'yyyy'\"></span> and be part of our community!</h2> </div> </div> <div layout=\"row\" layout-xs=\"column\" layout-sm=\"column\" class=\"mb-40\"> <div flex=\"60\" flex-xs=\"100\" flex-sm=\"100\" flex-md=\"50\" class=\"mb-40\"> <div class=\"text-center mb-10\"> <h2 class=\"section-title\"> MOTD <i class=\"material-icons cursor-pointer\" ng-click=\"reloadMOTD()\"> <md-tooltip md-direction=\"top\" ng-bind=\"'Reload MOTD'\"></md-tooltip> refresh </i> </h2> </div> <div class=\"motd pd-all-10 ml-5 mr-5 shadow\"> <h5 class=\"md-headline text-center\">Welcome to Aniwatch!</h5> <hr> <div class=\"content mt-20\"> <div onload=\"hideLoadingScreen()\" ng-include=\"'https://nocache.aniwatch.me/app/Templates/MOTD.html?v=' + motd_v | trustUrl\"></div> <div layout=\"row\" layout-align=\"center center\" class=\"angular-main-preloader\" ng-show=\"loading_motd === true\"> <md-progress-circular md-mode=\"indeterminate\"></md-progress-circular> </div> </div> </div> </div> <div flex=\"40\" flex-xs=\"100\" flex-sm=\"100\" flex-md=\"50\"> <div class=\"text-center mb-10\"> <h2 class=\"section-title\"> Random Pick </h2> </div> <div layout=\"row\" layout-align=\"center center\" class=\"card-row mt-20 anime-card\"> <div flex class=\"card-margin anime-boxes\"> <div class=\"portfolio-item mb-15 box-style-2 full-width no-select\" layout=\"row\" layout-align=\"center center\"> <div class=\"card\"> <div class=\"card-content\"> <a ng-href=\"/random\"> <div class=\"icon anime-cover-frame\"> <img class=\"anime-cover scale-img\" ng-src=\"https://anilivery.aniwatch.me/img/covers/random.png\" alt=\"Random Pick\" onmousedown=\"return false;\"> </div> </a> </div> </div> </div> </div> </div> </div> </div> <div layout=\"row\" class=\"mb-40\" ng-repeat=\"bundle in bundleObjects\" ng-if=\"bundle.object\"> <div flex> <div class=\"text-center mb-30\"> <h2 class=\"section-title\" ng-bind=\"bundle.caption\"></h2> <p class=\"section-sub\" ng-bind-html=\"bundle.desc\"></p> </div> <data-owl-carousel class=\"owl-carousel owl-theme featured-carousel brand-dot card-row mt-20 anime-card\" ng-class=\"{'anime-card': !bundle.ep, 'anime-media-boxes': bundle.ep}\" data-owl-option> <div class=\"card-margin\" ng-class=\"{'anime-boxes': !bundle.ep}\" ng-repeat=\"entry in bundle.object\"> <div ng-init=\"anime_boxes = 0; animeObject = entry; hide_broadcast_time = true;\" ng-show=\"!bundle.ep\" ng-include=\"'AnimeBox'\"></div> </div> </data-owl-carousel> </div> </div></md-content>",controller:"HomeController",css:[{href:"https://anilivery.aniwatch.me/assets/owl.carousel/assets/owl.carousel.css",preload:APP_PRELOAD_CSS},{href:"https://anilivery.aniwatch.me/assets/owl.carousel/assets/owl.theme.default.min.css",preload:APP_PRELOAD_CSS},{href:CSS_ROUTE+"Home.css",preload:APP_PRELOAD_CSS}]};t.html5Mode(!0),e.when("/login",{template:"<md-content style=\"overflow: hidden !important\" ng-cloak> <section class=\"section-padding login-padding login-alt banner-login-1\"> <div class=\"container\"> <div class=\"login-wrapper\"> <div class=\"card-wrapper\"></div> <div class=\"card-wrapper\"> <h1 class=\"title\">Login</h1> <form name=\"lForm\" ng-submit=\"login()\"> <div class=\"input-container\"> <input type=\"text\" ng-model=\"username\" required> <label>Username / E-Mail Address</label> <div class=\"bar\"></div> </div> <div class=\"input-container\"> <input type=\"password\" ng-model=\"password\" required> <label>Password</label> <div class=\"bar\"></div> </div> <div class=\"input-container\"> <md-checkbox aria-label=\"RememberMe\" class=\"no-margin\" ng-model=\"remember_login\" ng-checked=\"remember_login\"> <md-tooltip md-direction=\"top\">This will remember your session.</md-tooltip> Remember login </md-checkbox> </div> <div class=\"button-container\"> <button class=\"ani-effect waves-light md-primary md-raised btn btn-lg btn-block md-button md-ink-ripple\" ng-disabled=\"lForm.$invalid || dataLoading\"> Login </button> </div> </form> <div class=\"button-container mt-10\"> <md-button class=\"ani-effect waves-light md-primary md-raised btn btn-lg pink btn-block\" ng-click=\"forgotPW()\" ng-disabled=\"dataLoading\">Forgot PW</md-button> </div> <div class=\"button-container mt-10\"> <md-button class=\"ani-effect waves-light md-primary md-raised btn btn-lg pink btn-block\" ng-show=\"has_token === true\" ng-click=\"resetPW()\" ng-disabled=\"dataLoading\">Reset PW</md-button> </div> </div> <div class=\"card-wrapper alt\"> <div class=\"toggle\" ng-click=\"showRegister()\"> <i class=\"fas fa-pencil-alt\" ng-show=\"AniwatchMeta.title() == 'Login'\"></i> </div> <h1 class=\"title\"> Register <div class=\"close\" ng-click=\"showLogin()\"></div> </h1> <form name=\"rForm\" ng-submit=\"register()\"> <div class=\"input-container\"> <input type=\"text\" ng-model=\"new_username\" required> <label>Username</label> <div class=\"bar\"></div> </div> <div class=\"input-container\"> <input type=\"email\" ng-model=\"new_email\" required> <label>E-Mail address</label> <div class=\"bar\"></div> </div> <div class=\"input-container\"> <input type=\"email\" ng-model=\"new_email_confirmation\" required> <label>Repeat E-Mail address</label> <div class=\"bar\"></div> </div> <div class=\"input-container\"> <input type=\"password\" ng-model=\"new_password\" required> <label>Password</label> <div class=\"bar\"></div> </div> <div class=\"input-container\"> <input type=\"password\" ng-model=\"new_password_confirmation\" required> <label>Repeat Password</label> <div class=\"bar\"></div> </div> <div class=\"input-container\"> <div flex ng-include=\"'reCaptcha'\"></div> </div> <div class=\"button-container\"> <button class=\"ani-effect waves-light md-primary md-raised btn btn-lg pink btn-block md-button md-ink-ripple\" ng-disabled=\"rForm.$invalid || dataLoading || (new_password && new_password !== new_password_confirmation) || (new_email && new_email !== new_email_confirmation)\"> Register </button> </div> </form> </div> </div> </div> </section></md-content>",controller:"LoginController",css:[{href:CSS_ROUTE+"Login.css",preload:APP_PRELOAD_CSS},{href:"https://anilivery.aniwatch.me/css/components/login.min.css",preload:APP_PRELOAD_CSS}]}).when("/logout",{redirectTo:"/login"}).when("/",i).when("/home",i).when("/404",{template:"<section class=\"valign-wrapper error-wrapper-alt mt-50\"> <div class=\"valign-cell\"> <div class=\"container\"> <div class=\"text-center\"> <h1 class=\"mb-30\" ng-bind=\"lang.not_found.title\"></h1> <span class=\"error-sub\" ng-bind=\"lang.not_found.subtitle\"></span> <p class=\"no-margin\" ng-bind=\"lang.not_found.info\"></p> <p class=\"no-margin\" ng-if=\"!session.userid\" ng-bind=\"'However, if you think this page should exist, try logging in. ;)'\"></p> <div class=\"mt-30\"> <md-button class=\"md-raised md-primary btn-lg\" ng-href=\"/home\"> {{lang.not_found.home_btn}} </md-button> </div> </div> </div> </div></section>",controller:"404Controller"}).when("/policy",{template:"<md-content class=\"mt-40 no-overflow\" ng-cloak> <div layout=\"column\" layout-align=\"center center\"> <h1 class=\"section-title text-capitalize no-margin\" ng-bind=\"'Privacy Policy'\"></h1> <small class=\"db\">Effective date: February 16, 2019 | Last update: June 15, 2019</small> </div> <div layout=\"column\" class=\"mt-40\"> <div flex> <div class=\"pp_head\"> <h3 class=\"section-title text-capitalize no-margin\">Aniwatch Privacy Policy</h3> <p class=\"mt-10\"> Aniwatch (\"us\", \"we\", or \"our\") operates the <a ng-href=\"https://aniwatch.me\">https://aniwatch.me</a> website (the \"Service\").<br> This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data. We use your data to provide and improve the Service.<br><br> <strong>By using the Service, you agree to the collection and use of information in accordance with this policy.</strong> </p> </div> <hr class=\"mg-20\"> <div class=\"pp_info\"> <h5>Information Collection And Use</h5> <p>We collect several different types of information for various purposes to provide and improve our Service to you.</p> <h5>Types of Data Collected:</h5> <ul> <li> Usage Data <p>We may also collect information how the Service is accessed and used (\"Usage Data\"). This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data.</p> </li> <li> Tracking & Cookies Data <p>We use cookies and similar tracking technologies to track the activity on our Service and hold certain information.<br> Cookies are files with small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Tracking technologies also used are beacons, tags, and scripts to collect and track information and to improve and analyze our Service.<br> You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service.<br><br> Examples of Cookies we use:</p> <ul> <li><strong>Session Cookies.</strong> We use Session Cookies to operate our Service.</li> <li><strong>Preference Cookies.</strong> We use Preference Cookies to remember your preferences and various settings.</li> <li><strong>Security Cookies.</strong> We use Security Cookies for security purposes.</li> </ul> </li> </ul> <h5>Use of Data</h5> <p>Aniwatch uses the collected data for various purposes:</p> <ul> <li>To provide and maintain the Service</li> <li>To notify you about changes to our Service</li> <li>To allow you to participate in interactive features of our Service when you choose to do so</li> <li>To provide customer care and support</li> <li>To provide analysis or valuable information so that we can improve the Service</li> <li>To monitor the usage of the Service</li> <li>To detect, prevent and address technical issues</li> </ul> <h5>Transfer Of Data</h5> <p> Your information, including Personal Data, may be transferred to \u2014 and maintained on \u2014 computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from your jurisdiction.<br> Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer.<br> Aniwatch will take all steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of your data and other personal information. </p> <h5>Disclosure Of Data</h5> <p>Aniwatch may disclose your Personal Data in the good faith belief that such action is necessary to:</p> <ul> <li>To comply with a legal obligation</li> <li>To protect and defend the rights or property of Aniwatch</li> <li>To prevent or investigate possible wrongdoing in connection with the Service</li> <li>To protect the personal safety of users of the Service or the public</li> <li>To protect against legal liability</li> </ul> <h5>Security Of Data</h5> <p> The security of your data is important to us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security. </p> <h5>Analytics</h5> <p>We may use third-party Service Providers to monitor and analyze the use of our Service, such as:</p> <ul> <li> Google Analytics <p> Google Analytics is a web analytics service offered by Google that tracks and reports website traffic. Google uses the data collected to track and monitor the use of our Service. This data is shared with other Google services. Google may use the collected data to contextualize and personalize the ads of its own advertising network.<br> You can opt-out of having made your activity on the Service available to Google Analytics by installing the Google Analytics opt-out browser add-on. The add-on prevents the Google Analytics JavaScript (ga.js, analytics.js, and dc.js) from sharing information with Google Analytics about visits activity.<br> For more information on the privacy practices of Google, please visit the Google Privacy & Terms web page: <a target=\"_blank\" href=\"https://policies.google.com/privacy?hl=en\">https://policies.google.com/privacy?hl=en</a>. </p> </li> </ul> <h5>Links To Other Sites</h5> <p> Our Service may contain links to other sites that are not operated by us. If you click on a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit.<br> We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services. </p> <h5>Changes To This Privacy Policy</h5> <p> We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.<br> We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update the \"effective date\" at the top of this Privacy Policy.<br> You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page. </p> <h5>Your Data</h5> <p>There are two options on how you can manage your data on the Service.</p> <ul> <li> Anonymization of your Data <p> Since we don't delete accounts on the Service, you can request an anonymization of your account. Please contact our <a href=\"mailto:{{Utils.deObfMailSup('6hill', 'fx0ej', '2l', 35, 34, 33)}}\">support</a> with the email you registered your account with to do so. After that you should delete all cookies and the cache from the Service. </p> </li> <li> Insight into your Data <p> You can request an insight into your data on the Service anytime. Please contact our <a href=\"mailto:{{Utils.deObfMailSup('6hill', 'fx0ej', '2l', 35, 34, 33)}}\">support</a> with the email you registered your account with to do so. </p> </li> </ul> <h5>DMCA Takedown</h5> <p> Please contact us by <a href=\"mailto:{{Utils.deObfMail('7dv', 'e7rhm', '2j', 36, 35, 34)}}\">email</a>. </p> <h5>Contact Us</h5> <p> If you have any questions about this Privacy Policy or would like to know something which isn't stated here, please contact us by <a href=\"mailto:{{Utils.deObfMailSup('6hill', 'fx0ej', '2l', 35, 34, 33)}}\">email</a>. </p> </div> </div> </div></md-content>",controller:"PolicyController"}).when("/search",{template:"<md-content class=\"mt-40\" ng-cloak> <div layout-xs=\"column\" layout=\"row\" layout-align=\"center center\" id=\"search_carousel\" ng-show=\"!firstSearch\" class=\"mt-50 absolute wd-100\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <h1 class=\"tt-headline letters type md-headline\"> <span>FIND YOUR </span> <span class=\"tt-words-wrapper\"> <b class=\"is-visible\">Anime</b> <b>Movie</b> <b ng-bind=\"session && session.nsfw ? 'Special' : 'Hentai'\"></b> </span> </h1> </div> </div> </div> <div layout-xs=\"column\" layout=\"row\" layout-align=\"center center\" search-caption style=\"margin-top: 30vh;\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <h1 class=\"md-display-2\">Search</h1> </div> </div> </div> <div layout-xs=\"column\" layout=\"row\" class=\"mb-20\"> <div flex> <input aria-label=\"Search Input\" type=\"text\" class=\"full-width\" placeholder=\"Type here..\" ng-model=\"searchInput\" ng-change=\"onInput()\" ng-model-options=\"{debounce: 500}\" auto-focus> <div layout=\"row\" layout-xs=\"column\" layout-align=\"start start\" layout-align-xs=\"start start\"> <div flex=\"50\" flex-xs=\"100\"> <div layout=\"row\" layout-align=\"start center\" layout-align-xs=\"start start\"> <md-menu> <md-button aria-label=\"Open order menu\" class=\"no-margin\" ng-click=\"$mdMenu.open($event);\" layout=\"row\" layout-align=\"center center\"> &nbsp; <i class=\"material-icons\">sort</i> Sort By </md-button> <md-menu-content width=\"2\"> <md-menu-item ng-repeat=\"option in listOrderOptions\"> <md-button aria-label=\"Sort results by {{option.str}}\" ng-click=\"setListOrder(option); onInput();\" ng-class=\"{'md-selected': option === listOrder}\" ng-bind=\"option.str\"></md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div layout=\"row\" layout-align=\"start center\" layout-align-xs=\"start start\" class=\"ml-10 fs-13 text-uppercase\"> <a ng-click=\"searchInputDisabled = !searchInputDisabled\" ng-bind=\"(searchInputDisabled ? 'Hide' : 'Show') + (' search filters')\"></a> </div> </div> <div flex=\"50\" flex-xs=\"100\" class=\"mr-10\"> <div layout=\"row\" layout-align=\"end center\" layout-align-xs=\"start start\" class=\"ml-10 fs-13\"> <span>Displaying {{animeObject.length ? animeObject.length : '0'}} results!</span> </div> </div> </div> </div> </div> <div ng-show=\"searchInputDisabled\">  <hr class=\"mg-20\"> <div layout-xs=\"column\" layout-sm=\"column\" layout=\"row\"> <div flex class=\"pd-all-10\"> <div ng-show=\"session.userid\"> <h3 class=\"md-headline no-margin\"> Animelist <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetSelects(1)\">clear</i> </h3> <div layout=\"row\"> <md-input-container class=\"full-width\"> <md-select aria-label=\"Select Filters\" ng-model=\"selectedFilters\" ng-change=\"manageSelections(1)\" multiple> <md-option ng-value=\"f.value\" ng-repeat=\"f in filterOptions\" ng-hide=\"f.value === 3\">{{f.str}}</md-option> </md-select> </md-input-container> </div> </div> <h3 class=\"md-headline no-margin\"> Type <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetSelects(2)\">clear</i> </h3> <div layout=\"row\"> <md-input-container class=\"full-width\"> <md-select aria-label=\"Select Types\" ng-model=\"selectedTypes\" ng-change=\"manageSelections(2)\" multiple> <md-option ng-value=\"o.value\" ng-repeat=\"o in listTypeOptions\">{{o.str}}</md-option> </md-select> </md-input-container> </div> <h3 class=\"md-headline no-margin\"> Status <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetSelects(3)\">clear</i> </h3> <div layout=\"row\"> <md-input-container class=\"full-width\"> <md-select aria-label=\"Select Status\" ng-model=\"selectedStatus\" ng-change=\"manageSelections(3)\" multiple> <md-option ng-value=\"o.value\" ng-repeat=\"o in listStatusOptions\">{{o.str}}</md-option> </md-select> </md-input-container> </div> </div> <hr class=\"mg-20 mobile-show\"> <div flex class=\"pd-all-10\"> <h3 class=\"md-headline no-margin\"> Genre <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetChips(2)\">clear</i> </h3> <md-checkbox aria-label=\"Broad Matches\" class=\"no-margin\" ng-model=\"anyGenre\" ng-checked=\"anyGenre\"> Match any genre rather than all. </md-checkbox> <div layout=\"row\" class=\"mt-10\"> <div flex> <md-chips ng-model=\"selectedGenres\" md-autocomplete-snap md-transform-chip=\"transformChip($chip)\" md-require-match=\"true\"> <md-autocomplete md-search-text=\"genre_searchText\" md-items=\"genre in querySearch(genre_searchText, 0)\" md-item-text=\"genre\" placeholder=\"Search for a genre\" class=\"color-white\"> <span md-highlight-text=\"genre_searchText\">{{genre}}</span> </md-autocomplete> <md-chip-template> <span> <strong>{{$chip.name}}</strong> </span> </md-chip-template> </md-chips> </div> </div> </div> <hr class=\"mg-20 mobile-show\"> <div flex class=\"pd-all-10\"> <h3 class=\"md-headline no-margin\"> Company <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetChips(4)\">clear</i> </h3> <md-checkbox aria-label=\"Broad Matches\" class=\"no-margin\" ng-model=\"anyStaff\" ng-checked=\"anyStaff\"> Match any company rather than all. </md-checkbox> <div layout=\"row\" class=\"mt-10\"> <div flex> <md-chips ng-model=\"selectedStaffs\" md-autocomplete-snap md-transform-chip=\"transformChip($chip)\" md-require-match=\"true\"> <md-autocomplete md-search-text=\"staff_searchText\" md-items=\"staff in querySearch(staff_searchText, 1)\" md-item-text=\"staff\" placeholder=\"Search for a company\"> <span md-highlight-text=\"staff_searchText\">{{staff}}</span> </md-autocomplete> <md-chip-template> <span> <strong>{{$chip.name}}</strong> </span> </md-chip-template> </md-chips> </div> </div> </div> </div>  <hr class=\"mg-20\"> <div layout-xs=\"column\" layout-sm=\"column\" layout=\"row\" class=\"mb-30\"> <div flex class=\"pd-all-10\"> <h3 class=\"md-headline no-margin\"> Max episodes <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetSelects(4)\">clear</i> </h3> <div layout=\"row\"> <md-select aria-label=\"Select Max Episodes\" ng-model=\"selectedMaxEpisodes\" class=\"full-width\"> <md-option ng-value=\"m.value\" ng-repeat=\"m in maxEpisodesOptions\">{{m.str}}</md-option> </md-select> </div> <div class=\"mt-20\"> <h3 class=\"md-headline no-margin\"> Only anime with franchises </h3> <md-checkbox aria-label=\"Relation\" class=\"no-margin mt-10\" ng-model=\"has_relation\" ng-checked=\"has_relation\"> Yes </md-checkbox> </div> </div> <hr class=\"mg-20 mobile-show\"> <div flex class=\"pd-all-10\"> <h3 class=\"md-headline no-margin\"> Language <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetChips(1)\">clear</i> </h3> <md-checkbox aria-label=\"Broad Matches\" class=\"no-margin\" ng-model=\"anyLang\" ng-checked=\"anyLang\"> Match any language rather than all. </md-checkbox> <div layout=\"row\"> <div flex> <md-input-container class=\"full-width\"> <md-select aria-label=\"Select Languages\" ng-model=\"selectedLangs\" placeholder=\"Select Language\" multiple> <md-option ng-value=\"l.value\" ng-repeat=\"l in languageOptions\">{{l.str}}</md-option> </md-select> </md-input-container> </div> </div> </div> <hr class=\"mg-20 mobile-show\"> <div flex class=\"pd-all-10\"> <h3 class=\"md-headline no-margin\"> Tag <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetChips(3)\">clear</i> </h3> <md-checkbox aria-label=\"Broad Matches\" class=\"no-margin\" ng-model=\"anyTag\" ng-checked=\"anyTag\"> Match any tag rather than all. </md-checkbox> <div layout=\"row\"> <div flex> <md-input-container class=\"full-width\"> <md-select aria-label=\"Select Tags\" ng-model=\"selectedTags\" placeholder=\"Select Tag\" multiple> <md-option ng-value=\"t.value\" ng-repeat=\"t in tagOptions\">{{t.str}}</md-option> </md-select> </md-input-container> </div> </div> </div> </div>  <hr class=\"mg-20\"> <div layout-xs=\"column\" layout-sm=\"column\" layout=\"row\" class=\"mb-40\"> <div flex class=\"pd-all-10\"> <div layout=\"row\"> <div flex> <h3 class=\"md-headline no-margin\"> Year <small> <span ng-show=\"range_slider === true\"> <span ani-slider-year-from ng-bind=\"airingYearsOptions.minYear\"></span> - <span ani-slider-year-to ng-bind=\"airingYearsOptions.maxYear\"></span> </span> <span ng-show=\"range_slider === false\"> <span ani-slider-year ng-bind=\"current_date | date: 'yyyy'\"></span> </span> </small> <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetYearRange()\">clear</i> </h3> <md-checkbox aria-label=\"Range slider\" class=\"no-margin\" ng-model=\"range_slider\" ng-checked=\"range_slider\"> Range slider </md-checkbox> </div> </div> <div layout=\"row\" class=\"mt-40\" ng-show=\"range_slider === true\"> <div flex=\"80\" flex-offset=\"10\"> <div ani-slider ani-slider-event-update=\"true\" ani-slider-event-change=\"true\" ani-slider-event-watch=\"true\"></div> </div> </div> <div layout=\"row\" class=\"mt-40\" ng-show=\"range_slider === false\"> <div flex=\"80\" flex-offset=\"10\"> <div ani-slider ani-slider-single=\"true\" ani-slider-event-update=\"true\" ani-slider-event-change=\"true\" ani-slider-event-watch=\"true\"></div> </div> </div> </div> <hr class=\"mg-20 mobile-show\" ng-show=\"range_slider === false\"> <div flex class=\"pd-all-10\" ng-show=\"range_slider === false\"> <h3 class=\"md-headline no-margin\"> Season <i class=\"material-icons fs-15 cursor-pointer\" ng-click=\"resetSeason()\">clear</i> </h3> <div layout=\"row\" class=\"mt-20\"> <md-select aria-label=\"Select Season\" ng-model=\"selectedSeason\" class=\"full-width\"> <md-option ng-value=\"a.index\" ng-repeat=\"a in allAnimeAiringsV\">{{a.str}}</md-option> </md-select> </div> </div> </div>  <hr class=\"mg-20\"> <div layout=\"row\" layout-xs=\"column\" class=\"mt-20\"> <div flex layout=\"row\" layout-align=\"start center\"> <md-button class=\"md-raised md-primary no-margin\" ng-click=\"onInput()\" ng-disabled=\"dataLoading\">Search</md-button> </div> </div> </div> <div flex ng-show=\"firstSearch\"> <hr class=\"wd-20 search-divider\" flex-offset=\"40\"> </div> <div flex ng-show=\"animeObject.length == 0\" layout=\"row\" layout-align=\"center center\" class=\"mt-20\"> <h5 class=\"md-headline\" ng-bind=\"'Senpai, we have no results here! :('\"></h5> </div> <div ng-include=\"'AnimeBoxes'\"></div> <div layout=\"row\" layout-align=\"center center\" class=\"mt-20\" ng-show=\"animeObject.length > 0 && loadMoreResults.indexOf('no more') === -1\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <md-button class=\"md-raised md-primary\" aria-label=\"Load more results\" ng-click=\"loadMore()\" ng-disabled=\"dataLoading\">Load more</md-button> </div> </div> </div></md-content>",controller:"SearchController"}).when("/anime/:detail_id/:episode?",{template:"<div nsfw-wrapper></div><md-content class=\"mt-40 no-overflow\" ng-cloak> <md-tabs md-dynamic-height md-border-bottom md-selected=\"tabs_selected_index\" ng-hide=\"!search\"> <md-tab label=\"{{lang.anime.tabs.overview}}\" ng-click=\"assignFix(0);\" ng-bind=\"lang.anime.tabs.overview\"></md-tab> <md-tab label=\"{{loading.episodes ? lang.general.loading : lang.anime.tabs.episodes}}\" ng-if=\"search.anime.episodes_max !== 1\" ng-disabled=\"!episodes\" ng-click=\"assignFix(0);\" ng-bind=\"lang.anime.tabs.episodes\"></md-tab> <md-tab label=\"{{loading.watch ? lang.general.loading : lang.anime.tabs.watch}}\" ng-disabled=\"search.anime.episodes_max !== 1 && !anime || 1 > search.anime.cur_episodes || !session.userid\" ng-click=\"search.anime.episodes_max === 1 && !anime ? (!isGoogleBot ? setEpisode(search.anime.watching ? search.anime.cur_episodes == search.anime.progress ? search.anime.progress : search.anime.progress + 1 : 1) : return) : assignFix(1);\" ng-bind=\"lang.anime.tabs.watch\"> </md-tab> <md-tab label=\"{{loading.relation ? lang.general.loading : lang.anime.tabs.relation}}\" ng-click=\"assignFix(0); getRelation()\" ng-bind=\"lang.anime.tabs.relation\"></md-tab> <md-tab label=\"{{loading.media ? lang.general.loading : lang.anime.tabs.media}}\" ng-click=\"assignFix(0); getMedia()\" ng-bind=\"lang.anime.tabs.media\"></md-tab> <md-tab label=\"{{loading.recommendations ? lang.general.loading : 'Recommendations'}}\" ng-click=\"assignFix(0); getRecommendations()\" ng-bind=\"'Recommendations'\"></md-tab> </md-tabs> <div ng-switch=\"search.anime.episodes_max === 1 && tabs_selected_index > 1 ? tabs_selected_index + 1 : tabs_selected_index\">  <div class=\"animate-switch\" ng-switch-when=\"0\" ng-hide=\"!search\"> <md-content class=\"md-padding mt-30\"> <div layout=\"row\" layout-align=\"center center\" ng-show=\"search.anime.exAiring && search.anime.exAiring !== 0\"> <div class=\"alert info-border full-width\" role=\"alert\"> <i class=\"material-icons\">info</i> <span ng-show=\"search.anime.exAiring === -1\" ng-bind-html=\"'There is <b>no</b> release date for the next episode yet.'\"></span> <span ng-show=\"search.anime.exAiring > 0\" ng-bind-html=\"'The next episode will air in <b>' + (remainingDaysToAir + 7) + '</b> days.'\"></span> </div> </div> <div layout=\"row\" layout-xs=\"column\" layout-sm=\"column\"> <div layout=\"column\" flex-xs=\"100\" flex-sm=\"100\" flex-md=\"20\" flex-lg=\"20\" flex-xl=\"20\" class=\"anime-boxes-margin ml-0\"> <div layout=\"row\" layout-align=\"center start\"> <img src=\"https://anilivery.aniwatch.me/img/covers/lazy.png\" lazy-load=\"search.anime.cover\" class=\"responsive-cover\" alt=\"{{search.anime.title}} cover\"> </div> </div> <div flex-xs=\"100\" flex-sm=\"100\" flex-md=\"45\" flex-lg=\"55\" flex-xl=\"55\" class=\"responsive-anime anime-boxes-margin\"> <h1 class=\"md-headline\" ng-bind=\"search.anime.title\"></h1> <div layout=\"row\" layout-xs=\"column\"> <div flex-xs=\"100\" flex-sm=\"100\" flex-md=\"60\" flex-lg=\"80\" flex-xl=\"80\" layout=\"row\" layout-align=\"start center\"> <a ng-href=\"{{getSeasonalRedirect(1)}}\"> <span class=\"airing\" ng-bind=\"!search.anime.airing_start_unknown ? (search.anime.airing_index_unknown ? search.anime.airing_start.split(' ')[1] : search.anime.airing_start) : '?'\"></span> </a> <a ng-href=\"{{getSeasonalRedirect(2)}}\"> <span class=\"airing\" ng-if=\"search.anime.airing_start != search.anime.airing_end\" ng-bind=\"('&nbsp;-&nbsp;') + (!search.anime.airing_end_unknown ? search.anime.airing_end : '?')\"></span> </a> </div> <div class=\"cursor-default\" flex-xs=\"100\" flex-sm=\"100\" flex-md=\"40\" flex-lg=\"20\" flex-xl=\"20\" layout=\"row\" layout-align=\"end center\" layout-align-xs=\"start center\"> <span class=\"label fs-10 transparent grey-border mr-5\" ng-show=\"!dataLoading && episodes.length > 0 && search.anime.episodes_max === 1 && episodes[0].filler\" ng-bind=\"'Filler'\"></span> <span class=\"label explicit-bg mr-5\" ng-show=\"(search.anime.type === 'Hentai' || search.anime.hasNudity)\"> <md-tooltip md-direction=\"top\" ng-bind=\"'This anime contains nudity'\"></md-tooltip> Explicit </span> <span class=\"label\" ng-class=\"{'pink': search.anime.status == 1 || search.anime.status == 4, 'green': search.anime.status == 2, 'orange': search.anime.status == 3}\" ng-bind=\"Utils.statusToString(search.anime.status)\"></span> </div> </div> <div class=\"description-box mt-20 md-subhead\" layout=\"column\"> <div class=\"description\"> <p class=\"caption no-margin\" ng-bind=\"lang.anime.description_text\"></p> <p ng-bind-html=\"search.anime.description ? search.anime.description : lang.anime.no_description\"></p> </div> <hr class=\"mb-30\"> <div layout-align=\"none end\"> <div class=\"staff\"> <p class=\"caption no-margin\" ng-bind=\"lang.anime.staff\"></p> <span class=\"fw-light fs-13\" ng-repeat=\"staff in search.anime.staff\"> <a ng-href=\"{{!isGoogleBot ? '/search?s=[%22'+staff+'%22]' : ''}}\" ng-right-click=\"(session.staff || session.admin) ? deleteEntry('Staff', staff) : return\"> <span ng-bind=\"staff\"></span> </a> <span ng-show=\"!$last\" class=\"white-text\">\u2022</span> </span> <small ng-show=\"search.anime.staff.length === 0\" ng-bind=\"lang.global.empty\"></small> </div> <div class=\"staff mt-20\"> <p class=\"caption no-margin\" ng-bind=\"lang.anime.genre\"></p> <a class=\"dib label mr-5 brand-bg\" ng-href=\"{{!isGoogleBot ? '/search?g=[%22'+genre+'%22]' : ''}}\" ng-right-click=\"(session.staff || session.admin) ? deleteEntry('Genre', genre) : return\" ng-repeat=\"genre in search.anime.genre\" ng-bind=\"genre\"></a> <small ng-show=\"search.anime.genre.length === 0\" ng-bind=\"lang.global.empty\"></small> </div> <div class=\"staff mt-20\" ng-show=\"search.anime.type !== 'Hentai'\"> <p class=\"caption no-margin\" ng-bind=\"lang.anime.tags\"></p> <span> <a class=\"dib label mr-5 brand-bg\" ng-href=\"{{!isGoogleBot ? '/search?t=['+tagToInt(tag)+']' : ''}}\" ng-right-click=\"(session.staff || session.admin) ? deleteEntry('Tag', tag) : return\" ng-repeat=\"tag in search.anime.tags\" ng-bind=\"tag\"></a> <small class=\"db\" ng-show=\"search.anime.tags.length === 0\" ng-bind=\"lang.global.empty\"></small> </span> </div> <div class=\"staff mt-20\" ng-if=\"session.admin || isGoogleBot\"> <p class=\"caption no-margin\" ng-bind=\"'Alternative Titles'\"></p> <span class=\"fw-light fs-13\" ng-repeat=\"synonym in search.anime.synonyms\"> <span ng-bind=\"synonym.value\"></span> <span ng-show=\"!$last\" class=\"white-text\">\u2022</span> </span> <small ng-show=\"search.anime.synonyms.length === 0\" ng-bind=\"lang.global.empty\"></small> </div> </div> </div> </div> <div flex-xs=\"100\" flex-sm=\"100\" flex-md=\"35\" flex-lg=\"25\" flex-xl=\"25\" class=\"anime-boxes-margin\"> <md-button aria-label=\"Watch/Resume anime\" class=\"ani-effect waves-light md-primary md-raised btn full-width no-margin\" style=\"margin-left: 0px !important;\" ng-click=\"!isGoogleBot ? setEpisode(search.anime.progress > 0 ? search.anime.cur_episodes === search.anime.progress ? search.anime.progress : search.anime.progress + 1 : 1) : return\"> <div layout=\"row\" layout-align=\"center center\"> <i class=\"material-icons fs-24\" ng-bind=\"lang.global.icons.play\"></i> <span ng-bind=\"search.anime.progress > 0 ? lang.anime.resume_text : lang.anime.watch_text\"></span> </div> </md-button> <div layout=\"row\" layout-align=\"center center\" class=\"pd-all-5 brand-bg\" ng-show=\"episodes.length > 0 && search.anime.episodes_max === 1 && (episodes[0].lang.dub === true || episodes[0].lang.sub === true)\"> <div flex layout=\"row\" layout-align=\"start center\" ng-show=\"episodes[0].lang.dub === true\"> <i class=\"material-icons mr-3\" ng-bind=\"lang.global.icons.sound\"></i> <i class=\"flag flag-en mg-all-1\" ng-hide=\"episodes[0].lang.endub === 0\"></i> <i class=\"flag flag-de mg-all-1\" ng-hide=\"episodes[0].lang.dedub === 0\"></i> </div> <div flex layout=\"row\" layout-align=\"start center\" ng-show=\"episodes[0].lang.sub === true\"> <i class=\"material-icons mr-3\" ng-bind=\"lang.global.icons.caption\"></i> <i class=\"flag flag-en mg-all-1\" ng-hide=\"episodes[0].lang.ensub === 0\"></i> <i class=\"flag flag-de mg-all-1\" ng-hide=\"episodes[0].lang.desub === 0\"></i> </div> </div> <div layout=\"column\" class=\"information-box md-subhead border-padding\"> <div class=\"mg-2 text-center mb-15\"> <div layout=\"row\"> <div flex> <div layout=\"row\" layout-align=\"start center\"> <div flex> <div layout=\"row\" layout-align=\"start center\"> <p class=\"progress-caption\" ng-bind=\"lang.general.progress\"></p> </div> </div> </div> <div class=\"progress\"> <div class=\"progress-bar\" role=\"progressbar\" ng-style=\"{'width': (search.anime.cur_episodes > 0 ? ((search.anime.progress / search.anime.cur_episodes) * 100) : 0 | number:0) + ('%')}\"></div> </div> <p class=\"text-left\" ng-bind=\"(search.anime.progress) + ('/') + (search.anime.cur_episodes) + (' ') + (lang.anime.available_episodes) + (' (') + (search.anime.cur_episodes > 0 ? ((search.anime.progress / search.anime.cur_episodes) * 100) : 0 | number:0) + ('%)')\"></p> </div> </div> </div> <div class=\"no-margin\"> <div layout=\"row\"> <div flex=\"40\" class=\"mr-5\"> <span class=\"caption\" ng-bind=\"lang.general.type\"></span> </div> <div flex=\"60\"> <span class=\"label grey darken-2\" ng-bind=\"search.anime.type != 0 ? search.anime.type : lang.general.unknown\"></span> </div> </div> </div> <div class=\"no-margin\"> <div layout=\"row\"> <div flex=\"40\" class=\"mr-5\"> <span class=\"caption\" ng-bind=\"lang.general.launch\"></span> </div> <div flex=\"60\"> <span class=\"label grey darken-2\" ng-show=\"search.anime.airing_start_unknown || search.anime.broadcast_start == null\" ng-bind=\"lang.general.unknown\"></span> <span class=\"label cursor-pointer\" ng-class=\"search.anime.broadcast_start > date_now ? 'pink' : 'green'\" ng-show=\"!search.anime.airing_start_unknown && search.anime.broadcast_start != null\"> <md-tooltip md-direction=\"top\" ng-bind=\"current_timezone\"></md-tooltip> <span class=\"no-padding\" ng-bind=\"(search.anime.broadcast_start * 1000 | date:'dd/MM/yyyy') + (' (') + (search.anime.broadcast_start * 1000 | date:'EEE') + (')')\"></span> </span> </div> </div> </div> <div class=\"no-margin\"> <div layout=\"row\"> <div flex=\"40\" class=\"mr-5\"> <span class=\"caption\" ng-bind=\"lang.general.broadcast\"></span> </div> <div flex=\"60\"> <span class=\"label grey darken-2\" ng-show=\"search.anime.launch_day == null\" ng-bind=\"lang.general.unknown\"></span> <span class=\"label cursor-pointer broadcast-label\" ng-class=\"search.anime.launch_day > date_now ? 'pink' : 'green'\" ng-show=\"search.anime.launch_day != null\"> <md-tooltip md-direction=\"top\" ng-bind=\"current_timezone\"></md-tooltip> <span class=\"no-padding\" ng-bind=\"(search.anime.launch_day * 1000 | date:'EEEE') + (search.anime.episodes_max === 1 ? '' : 's')\"></span> <span class=\"no-padding\" ng-show=\"search.anime.broadcast_time_string !== -1\" ng-bind=\"' at ' + search.anime.broadcast_time_string\"></span> </span> </div> </div> </div> <div class=\"no-margin\"> <div layout=\"row\"> <div flex=\"40\" class=\"mr-5\"> <span class=\"caption\" ng-bind=\"lang.anime.tabs.episodes\"></span> </div> <div flex=\"60\"> <span class=\"label grey darken-2\" ng-bind=\"search.anime.episodes_max !== 0 ? search.anime.episodes_max : lang.general.unknown\"></span> </div> </div> </div> <div class=\"no-margin\"> <div layout=\"row\"> <div flex=\"40\" class=\"mr-5\"> <span class=\"caption\" ng-bind=\"'Filler'\"></span> </div> <div flex=\"60\"> <span class=\"label grey darken-2\" ng-bind=\"(!fillerEpisodes || fillerEpisodes === 0 ? 'N/A' : fillerEpisodes) + (search.anime.cur_episodes === 0 || !fillerEpisodes || fillerEpisodes === 0 ? '' : ' ('+((fillerEpisodes/search.anime.cur_episodes * 100) | number:0)+'%)')\"></span> </div> </div> </div> <div class=\"no-margin\" ng-show=\"episodes.length > 0 && search.anime.episodes_max === 1 && episodes[0].duration\"> <div layout=\"row\"> <div flex=\"40\" class=\"mr-5\"> <span class=\"caption\" ng-bind=\"'Duration'\"></span> </div> <div flex=\"60\"> <span class=\"label grey darken-2\" ng-bind=\"episodes[0].duration\"></span> </div> </div> </div> </div> </div> </div> </md-content> </div>  <div class=\"animate-switch\" ng-if=\"search.anime.episodes_max !== 1\" ng-switch-when=\"1\"> <md-content class=\"md-padding mt-20\"> <div flex> <div class=\"text-center mt-30\" ng-show=\"episodes.length == 0\"> <h5 class=\"md-headline\" ng-bind-html=\"lang.anime.no_episodes.caption\"></h5> <ul> <li ng-bind=\"lang.anime.no_episodes.option_1\"></li> <li ng-bind=\"lang.anime.no_episodes.option_2\"></li> <li ng-show=\"!search.anime.airing_start_unknown && search.anime.broadcast_start != null && search.anime.broadcast_start >= date_now\" ng-bind=\"(lang.anime.no_episodes.option_3) + (' ') + (search.anime.broadcast_start * 1000 | date:'dd/MM/yyyy')\"></li> </ul> </div> </div> <div flex ng-show=\"episodes.length > 0\"> <div layout=\"row\" class=\"mb-10\"> <div layout=\"row\" layout-align=\"start center\" flex=\"70\"> <h1 class=\"md-headline no-margin\" ng-bind=\"search.anime.title\"></h1> </div> <div layout=\"row\" layout-align=\"end center\" flex=\"30\"> <i class=\"material-icons right cursor-pointer\" ng-click=\"session.userid ? reportMissingStreams() : loginNeeded()\" ng-if=\"false\" ng-bind=\"lang.global.icons.report\"></i> <md-menu> <md-button aria-label=\"Open order menu\" class=\"no-margin md-icon-button\" ng-click=\"$mdMenu.open($event);\" layout=\"row\" layout-align=\"start center\"> <i class=\"material-icons\">{{curView === 0 ? 'view_comfy' : 'view_compact'}}</i> </md-button> <md-menu-content width=\"2\"> <md-menu-item> <md-button aria-label=\"Show episode list in box view\" ng-click=\"episodeThView()\" ng-class=\"{'md-selected': curView === 0}\" ng-bind=\"'Box view'\"></md-button> </md-menu-item> <md-menu-item ng-show=\"!isMobile\"> <md-button aria-label=\"Show episode list in list view\" ng-click=\"episodeListView(1)\" ng-class=\"{'md-selected': curView === 1}\" ng-bind=\"'List view'\"></md-button> </md-menu-item> <md-menu-item> <md-button aria-label=\"Show episode list in compact mode\" ng-click=\"episodeListView(2)\" ng-class=\"{'md-selected': curView === 2}\" ng-bind=\"'Compact mode'\"></md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </div> <hr> <div layout=\"row\"> <div flex> <span> <span ng-bind=\"lang.anime.jump_to\"></span> <a ng-click=\"firstEpisode()\" ng-bind=\"lang.anime.first_episode\"></a> <span ng-bind=\"','\"></span> <a ng-click=\"lastEpisode()\" ng-bind=\"lang.anime.last_episode\"></a> <span ng-bind=\"lang.general.or\"></span> <a ng-click=\"setCustomEpisode()\" ng-bind=\"'episode X'\"></a> </span> </div> </div> <div layout=\"row\" layout-xs=\"column\" class=\"card-row mt-20 anime-media-boxes\" ng-show=\"curView === 0\"> <div flex-xs=\"100\" flex-sm=\"100\" flex-md=\"50\" flex-lg=\"33\" flex-xl=\"33\" class=\"card-margin full-width\" ng-repeat=\"ep in episodes | limitTo:epLimit:epBegin\"> <div ng-init=\"episodeObject = ep; useSetEpFunc = true;\" ng-include=\"'EpisodeBox'\"></div> </div> </div> <md-content class=\"md-padding mt-20\" layout-xs=\"column\" layout=\"row\" ng-show=\"curView === 1 || curView === 2\"> <div flex layout=\"column\"> <md-list flex layout=\"column\" class=\"ep-view\"> <md-list-item class=\"md-2-line animelist-default\" ng-click=\"setEpisode(ep.number, ep.default_lang)\" ng-class=\"{'animelist-completed': ep.watched}\" ng-repeat=\"ep in episodes | limitTo:epLimit:epBegin\"> <div class=\"md-list-item-text\" style=\"padding: 5px 0px;\" layout=\"row\" layout-align=\"none center\"> <div class=\"thumb-ov\" flex=\"10\" flex-md=\"10\" flex-sm=\"10\" flex-xs=\"10\" layout=\"row\" layout-align=\"none center\" ng-click=\"setEpisode(ep.number, ep.default_lang)\" ng-hide=\"curView === 2\"> <img src=\"https://anilivery.aniwatch.me/img/thumbnails/default.png\" lazy-load=\"ep.thumbnail\" alt=\"{{ep.title ? ep.title : 'Episode ' + ep.number}}\" ng-class=\"{'cover-blur-less': session.blur_thumbnails && ep.number > search.anime.progress}\"> <div class=\"overlay\"> <i class=\"material-icons cursor-pointer\"> <md-tooltip md-direction=\"top\" ng-bind=\"lang.anime.play\"></md-tooltip> {{lang.global.icons.play}} </i> <div class=\"progress no-margin bottom-0 left-0 absolute\" ng-show=\"ep.resumeProgress\"> <div class=\"progress-bar\" role=\"progressbar\" ng-style=\"{'width': ep.resumeProgress + '%'}\"></div> </div> </div> </div> <h3 flex=\"80\" flex-md=\"80\" flex-sm=\"75\" flex-xs=\"75\"> <div layout=\"row\" layout-align=\"start center\"> <span ng-bind-html=\"(ep.number + ') ') + (ep.title && (!session.mask_episode_info || ep.number <= search.anime.progress) ? ep.title : 'Episode ' + ep.number)\" class=\"fw-bold overflow-ellipsis\"></span> </div> <div layout=\"row\" layout-align=\"start center\" class=\"mt-5\"> <small class=\"md-caption\" ng-bind=\"(ep.is_aired === false ? lang.anime.will_air : lang.anime.aired) + (': ') + (ep.added * 1000 | date:'dd/MM/yyyy') + (ep.is_aired === false && search.anime.broadcast_time_string !== -1 ? ', ' + search.anime.broadcast_time_string : '')\"></small> <small ng-show=\"ep.duration\" class=\"white-text mr-5 ml-5\">\u2022</small> <small class=\"md-caption\" ng-show=\"ep.duration\" ng-bind=\"ep.duration\"></small> <small ng-show=\"ep.filler\" class=\"white-text mr-5 ml-5\">\u2022</small> <small class=\"md-caption white-text\" ng-show=\"ep.filler\" ng-bind=\"'Filler'\"></small> </div> </h3> <h3 flex layout=\"row\" layout-align=\"end center\"> <div layout=\"column\"> <div layout=\"row\" layout-align=\"start center\" ng-if=\"ep.lang.dub === true\"> <i class=\"material-icons mr-3\" ng-bind=\"lang.global.icons.sound\"></i> <i class=\"flag flag-en mg-all-1\" ng-hide=\"ep.lang.endub === 0\"></i> <i class=\"flag flag-de mg-all-1\" ng-hide=\"ep.lang.dedub === 0\"></i> </div> <div layout=\"row\" layout-align=\"start center\" ng-if=\"ep.lang.sub === true\"> <i class=\"material-icons mr-3\" ng-bind=\"lang.global.icons.caption\"></i> <i class=\"flag flag-en mg-all-1\" ng-hide=\"ep.lang.ensub === 0\"></i> <i class=\"flag flag-de mg-all-1\" ng-hide=\"ep.lang.desub === 0\"></i> </div> </div> </h3> </div> </md-list-item> </md-list> </div> </md-content> <div layout=\"row\" layout-align=\"center center\" class=\"mt-20\"> <div class=\"form-group\"> <md-button class=\"md-raised md-primary page-btn\" ng-class=\"{'active': ep_filter.str == epSelPage}\" ng-repeat=\"ep_filter in episodes_filter\" ng-hide=\"episodes_filter.length <= 1\" ng-click=\"switchEpisodes(ep_filter)\" ng-if=\"Utils.limitPages($index, episodes_filter.length, epSelPage)\" ng-disabled=\"dataLoading\" ng-bind=\"ep_filter.str\" aria-label=\"{{'Page ' + ep_filter.str}}\"></md-button> </div> </div> </div> </md-content> </div>  <div class=\"animate-switch\" ng-switch-when=\"3\"> <md-content class=\"md-padding mt-30\"> <div flex ng-include=\"'Loading'\" class=\"hg-15v\" ng-show=\"loading.relation\"></div> <div ng-show=\"!loading.relation && search.anime.relation_id === null\"> <div layout=\"row\" layout-align=\"center center\"> <h5 class=\"md-headline\" ng-bind=\"lang.anime.no_relation\"></h5> </div> </div> <div flex ng-include=\"'Relation'\" ng-show=\"!loading.relation && search.anime.relation_id !== null\"></div> </md-content> </div>  <div class=\"animate-switch\" ng-switch-when=\"4\"> <md-content class=\"md-padding mt-30\"> <div flex ng-include=\"'Loading'\" class=\"hg-15v\" ng-show=\"loading.media\"></div> <div ng-show=\"!loading.media && mediaObj.no_media\"> <div layout=\"row\" layout-align=\"center center\"> <h5 class=\"md-headline\" ng-bind=\"lang.anime.no_media\"></h5> </div> </div> <div ng-show=\"!loading.media && !mediaObj.no_media\"> <div layout=\"row\" layout-xs=\"column\" class=\"mt-20\"> <div flex> <h5 class=\"md-headline\" ng-bind=\"lang.general.media\"></h5> </div> </div> <hr class=\"mg-20\"> <div flex=\"100\" class=\"mb-30\" ng-repeat=\"(key,val) in mediaObj\" ng-if=\"key != 'admin_entries'\"> <h5 class=\"md-headline\" ng-bind=\"key\" ng-show=\"val.length > 0\"></h5> <div ng-init=\"mediaObj = val;\" ng-include=\"'Media'\"></div> </div> </div> </md-content> </div>  <div class=\"animate-switch\" ng-switch-when=\"5\"> <md-content class=\"md-padding mt-30\"> <div flex ng-include=\"'Loading'\" class=\"hg-15v\" ng-show=\"loading.recommendations\"></div> <div ng-show=\"!loading.recommendations\" ng-switch=\"view_index\"> <div class=\"animate-switch\" ng-switch-when=\"0\"> <div ng-show=\"recommendations.length === 0\"> <div layout=\"row\" layout-align=\"center center\"> <h5 class=\"md-headline\"> <span ng-bind=\"'There are no recommendations yet.'\"></span> <a ng-bind=\"'Make one!'\" ng-click=\"session.userid ? toggleRecView(1) : loginNeeded()\"></a> </h5> </div> </div> <div ng-show=\"recommendations.length > 0\"> <div layout=\"row\" layout-xs=\"column\" class=\"mt-20\"> <div flex> <h5 class=\"md-headline\" ng-bind=\"'Recommendations'\"></h5> <a ng-bind=\"'Make a recommendation'\" ng-click=\"session.userid ? toggleRecView(1) : loginNeeded()\"></a> </div> </div> <div flex ng-include=\"'Recommendation'\"></div> </div> </div> </div> </md-content> </div>    </div></md-content>",controller:"AnimeController",css:[{href:CSS_ROUTE+"Anime.css",preload:APP_PRELOAD_CSS},{href:"https://anilivery.aniwatch.me/css/components/plyr-new.min.css",preload:APP_PRELOAD_CSS},{href:CSS_ROUTE+"Profile.css",preload:APP_PRELOAD_CSS}]}).when("/seasonal/:index?/:year?",{template:"<md-content class=\"mt-40\" ng-cloak> <div flex> <div layout=\"row\" layout-xs=\"column\" class=\"mt-30\" layout-align=\"center center\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <h1 class=\"md-headline\">Seasonal Anime (<span ng-bind=\"current_airing\"></span>)</h1> <div layout=\"row\" layout-xs=\"column\" layout-align=\"center center\" class=\"mb-20\"> <div flex-xs=\"100\" flex-sm=\"35\" flex-md=\"25\" flex-lg=\"20\" flex=\"20\" class=\"mt-20\"> <md-menu> <md-button aria-label=\"Open order menu\" class=\"no-margin\" ng-click=\"$mdMenu.open($event);\" layout=\"row\" layout-align=\"center center\"> {{cur_season_index.str}} <span class=\"ml-5\" ani-slider-year ng-bind=\"current_date | date: 'yyyy'\"></span> <i class=\"material-icons\">expand_more</i> </md-button> <md-menu-content width=\"2\"> <md-menu-item ng-repeat=\"a in allAnimeAirings\"> <md-button aria-label=\"Select Season\" ng-click=\"selectSeason(a);\" ng-class=\"{'md-selected': cur_season_index === a}\" ng-bind=\"a.str\"></md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div flex-xs=\"100\" class=\"full-width mt-20\"> <div layout=\"row\"> <div flex> <div ani-slider ani-slider-single=\"true\" ani-slider-event-update=\"true\" ani-slider-event-change=\"true\" ani-slider-event-watch=\"true\"></div> </div> </div> </div> </div> <div layout=\"row\" layout-xs=\"column\" layout-align=\"center center\" class=\"mb-40\"> <md-button class=\"md-raised md-primary\" ng-click=\"selectPreviousSeason()\" ng-show=\"selectPreviousSeason(true) !== null\" layout=\"row\" layout-align=\"center center\" ng-disabled=\"dataLoading\"> <i class=\"material-icons\">navigate_before</i> {{selectPreviousSeason(true)}} &nbsp;&nbsp; </md-button> <md-button class=\"md-raised md-primary\" ng-click=\"selectNextSeason()\" ng-show=\"selectNextSeason(true) !== null\" layout=\"row\" layout-align=\"center center\" ng-disabled=\"dataLoading\"> &nbsp;&nbsp; {{selectNextSeason(true)}} <i class=\"material-icons\">navigate_next</i> </md-button> </div> </div> </div> </div> <div layout=\"row\" layout-xs=\"column\"> <div flex=\"50\" flex-xs=\"100\" layout=\"row\" layout-align=\"start center\"> <md-button class=\"md-raised md-primary\" ng-click=\"getSeasonalAnime(false)\" ng-disabled=\"dataLoading\">Apply</md-button> <md-button class=\"md-raised md-primary\" ng-click=\"getSeasonalAnime(true, true)\" ng-disabled=\"dataLoading\">Reset</md-button> </div> </div> <hr class=\"mg-20\"> <div flex ng-show=\"animeObject.length == 0\" layout=\"row\" layout-align=\"center center\" class=\"mt-20\"> <h5 class=\"md-headline\">Senpai, we have no results here! :(</h5> </div> <div ng-init=\"anime_boxes = 2\" ng-include=\"'AnimeBoxes'\"></div> </div></md-content>",controller:"SeasonalController"}).when("/airing",{template:"<md-content class=\"mt-40\" ng-cloak> <div flex> <div layout=\"row\" layout-xs=\"column\" class=\"mt-30\" layout-align=\"center center\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <h1 class=\"md-headline\" ng-bind=\"lang.global.airing_anime\"></h1> <p class=\"md-subhead no-margin\" ng-bind=\"lang.airing.displayed_data + current_timezone\"></p> <p class=\"md-subhead\">Current Time ({{current_timezone}}): {{ curTime | date:'HH:mm:ss'}}</p> </div> </div> </div> <hr class=\"mg-20\"> <div flex ng-show=\"animeObject.length == 0\" layout=\"row\" layout-align=\"center center\" class=\"mt-20\"> <h5 class=\"md-headline\" ng-bind=\"lang.general.no_results\"></h5> </div> <div flex=\"100\" ng-repeat=\"(key,val) in animeObject\"> <div layout=\"row\" layout-align=\"start center\"> <h5 class=\"md-headline\" ng-class=\"{'brand-color': 0 === $index}\" ng-bind=\"lang.general.days[key.toLowerCase()]\"></h5> <small class=\"ml-5\" ng-bind=\"Utils.getCurrentDate($index)\"></small> </div> <div ng-init=\"anime_boxes = 2; use_airing = true; animeObject = val;\" ng-include=\"'AnimeBoxes'\"></div> </div> </div></md-content>",controller:"AiringController"}).when("/media/:media_id",{template:"<md-content class=\"mt-40\" style=\"overflow: hidden !important\" ng-cloak> <div layout=\"column\" layout-gt-sm=\"row\" class=\"mt-50\" ng-hide=\"!media || !$root.Anilyr.plyr\"> <div flex=\"100\" flex-gt-sm=\"66\" ng-if=\"!media.no_media\"> <div id=\"mediaPointerEvents\" class=\"wd-95\" style=\"pointer-events: none;margin-top: -11px;\" ng-show=\"!media.no_media\"> <video video-time playsinline data-src=\"\" preload=\"auto\" poster=\"\" id=\"mediaPlayer\"></video> </div> <div layout=\"column\" layout-gt-sm=\"row\" class=\"mb-40 mt-10\"> <div flex=\"100\" flex-gt-sm=\"80\" layout=\"column\" layout-gt-sm=\"row\" layout-align=\"start start\" class=\"ml-n-10\"> <h1 class=\"md-headline no-margin\" ng-show=\"!media.no_media\"> <a target=\"_blank\" rel=\"noopener\" aria-label=\"Listen to {{media.media_title}} on YouTube\" href=\"https://www.youtube.com/watch?v={{media.media_value}}\" ng-bind=\"media.media_title\"></a> </h1> </div> <div flex=\"100\" flex-gt-sm=\"20\" layout=\"column\" layout-gt-sm=\"row\" layout-align=\"end start\" class=\"mr-40\"> <h5 class=\"md-subhead cursor-pointer fav-btn no-margin\" ng-click=\"session.userid ? favMedia() : loginNeeded()\" ng-disabled=\"dataLoading\"> <i class=\"material-icons\" ng-class=\"!media.media_hasFaved ? 'white-text' : ''\">{{media.media_hasFaved ? 'favorite' : 'favorite_border'}}</i> <b>{{media.media_favorites - 0}}</b> </h5> </div> </div> <h5 class=\"md-subhead\">Occurrences:</h5> <div layout=\"row\"> <ul class=\"pd-20 list-circle\"> <li ng-repeat=\"anime in media.detail_ids\"><a ng-href=\"/anime/{{anime.detail_id}}\">{{anime.title}}</a></li> </ul> </div> </div> <hr class=\"mobile-show mg-20\"> <div flex=\"100\" flex-gt-sm=\"33\" class=\"card-row scroll-content\" ng-if=\"!media.no_media\"> <h5 class=\"md-headline full-width text-center no-margin\">\"Other songs you may like\"<br>Coming soon!</h5> </div> </div></md-content>",controller:"MediaController",css:[{href:CSS_ROUTE+"Media.css",preload:APP_PRELOAD_CSS},{href:"https://anilivery.aniwatch.me/css/components/plyr-new.min.css",preload:APP_PRELOAD_CSS}]}).when("/faq/:view?",{template:"<md-content class=\"mt-40\" style=\"overflow: hidden !important\" ng-cloak> <div layout=\"row\" layout-align=\"center center\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <h1 class=\"section-title text-capitalize no-margin\">Frequently asked questions</h1> <p class=\"mt-10\">Pose a question and it'll maybe be answered here!</p> </div> </div> </div> <div class=\"panel-group feature-accordion icon angle-icon\"> <div ng-repeat=\"section in faq_sections\"> <h5 class=\"md-headline mg-20\" ng-bind-html=\"section.title\"></h5> <div class=\"panel panel-default\" ng-repeat=\"item in faq | filter: { section: section.id }\"> <div id=\"{{item.anchor}}\" style=\"position: relative; top: -70px;\"></div> <div class=\"panel-heading\"> <h3 class=\"panel-title\"> <a class=\"no-select\" ng-class=\"{'collapsed': !item.collapsed}\" ng-click=\"item.collapsed = !item.collapsed\" ng-bind-html=\"item.title\"></a> </h3> </div> <div class=\"panel-collapse collapse\" ng-class=\"{'in': item.collapsed}\"> <div class=\"panel-body\"> <p ng-bind-html=\"item.body\"></p> </div> </div> </div> </div> </div></md-content>",controller:"FAQController"}).when("/random",{template:"<md-content class=\"mt-40\" ng-cloak> <div layout=\"row\" layout-align=\"center center\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <h1 class=\"section-title text-capitalize\">Random Pick</h1> </div> </div> </div> <div layout=\"row\" layout-xs=\"column\" layout-sm=\"column\"> <div flex=\"30\" flex-xs=\"100\" flex-sm=\"100\" flex-md=\"40\"> <div ng-init=\"anime_boxes = 0; hide_broadcast_time = true;\"> <div layout=\"row\" layout-align=\"center center\" class=\"card-row mt-20 anime-card\" ng-show=\"(anime_boxes !== 1 && !ignore_boxes) || rCurView === 0\"> <div flex class=\"card-margin anime-boxes\" ng-show=\"anime_boxes !== 2 && !ignore_boxes || (listFilter.value === 3 && (animeObject.watching || animeObject.planned_to_watch) && animeObject.progress !== animeObject.cur_episodes || listFilter.value === 2 || listFilter.value === 1 && animeObject.completed || listFilter.value === 0 && animeObject.watching || listFilter.value === 4 && entry.planned_to_watch)\"> <div class=\"portfolio-item mb-15 box-style-2 full-width no-select\" layout=\"row\" layout-align=\"center center\"> <div class=\"card\"> <div class=\"card-content\"> <a ng-href=\"/anime/{{animeObject.detail_id}}\"> <div class=\"icon anime-cover-frame\"> <img class=\"anime-cover\" ng-class=\"{'cover-blur': (session.nsfw || !session.userid) && (animeObject.type === 'Hentai' || animeObject.hasNudity)}\" ng-src=\"{{animeObject.cover}}\" alt=\"{{animeObject.title}}\" onmousedown=\"return false;\"> </div> </a> </div> <div ng-show=\"animeObject.broadcast_time >= 0 && !hide_broadcast_time\" class=\"airing-at absolute ani-color\"> <md-tooltip md-direction=\"top\" ng-bind=\"current_timezone\"></md-tooltip> <p class=\"no-margin\" ng-bind=\"animeObject.broadcast_time_string\"></p> </div> <div ng-show=\"animeObject.lang_caption && animeObject.episode_to_watch\" class=\"airing-at absolute ani-color\"> <p class=\"no-margin\" ng-bind=\"animeObject.lang_caption + ' - ' + animeObject.episode_to_watch\"></p> </div> <div ng-show=\"animeObject.completed || animeObject.watching || animeObject.planned_to_watch\" class=\"airing-at airing-status absolute ani-color\"> <i class=\"material-icons completed\" ng-show=\"animeObject.completed\"> <md-tooltip md-direction=\"top\">Completed</md-tooltip> done </i> <i class=\"material-icons watching\" ng-class=\"{'new_episode': animeObject.watching && animeObject.progress != animeObject.cur_episodes}\" ng-show=\"animeObject.watching\"> <md-tooltip md-direction=\"top\">Watching <span ng-bind=\"animeObject.watching && animeObject.progress != animeObject.cur_episodes ? '(New episode available)' : ''\"></span></md-tooltip> visibility </i> <i class=\"material-icons planned_to_watch\" ng-class=\"{'new_episode': animeObject.planned_to_watch && animeObject.progress != animeObject.cur_episodes}\" ng-show=\"animeObject.planned_to_watch\"> <md-tooltip md-direction=\"top\">Plan to watch</md-tooltip> library_add </i> <i class=\"material-icons on_hold\" ng-show=\"animeObject.on_hold\"> <md-tooltip md-direction=\"top\">On Hold</md-tooltip> watch_later </i> <i class=\"material-icons dropped\" ng-show=\"animeObject.dropped\"> <md-tooltip md-direction=\"top\">Dropped</md-tooltip> thumb_down </i> </div> <div class=\"show-overlay\" ng-show=\"animeObject.description || animeObject.genre\"> <i class=\"material-icons reveal-activator\" ng-click=\"toggleCard($event)\" >keyboard_arrow_up</i> </div> <div class=\"card-reveal overlay\" ng-class=\"{'new-episode-border': (animeObject.watching || animeObject.planned_to_watch) && animeObject.progress != animeObject.cur_episodes}\"> <p class=\"title-limit\" ng-class=\"{'s-highlight': animeObject.anime_id === true, 'ss-highlight': animeObject.anime_x_id === true, 'sss-highlight': animeObject.anime_2_id === true, 'food-menu-price': animeObject.anime_3_id === true, 'c-highlight': animeObject.anime_c_id === true, 'ssss-highlight': animeObject.anime_4_id}\" ng-bind-html=\"(animeObject.title | limitTo: 45) + (animeObject.title.length >= 45 ? '...' : '')\"></p> <p class=\"title-no-limit\" ng-bind-html=\"animeObject.title\"></p> <div layout=\"row\"> <div layout=\"row\" layout-align=\"start center\" flex=\"50\"> <p class=\"start\" ng-show=\"anime_boxes !== 2 || use_airing\">{{animeObject.airing_start_unknown ? 'Unknown' : (animeObject.airing_index_unknown ? animeObject.airing_start.split(' ')[1] : animeObject.airing_start)}}</p> <p class=\"start\" ng-show=\"anime_boxes === 2 && animeObject.broadcast_start > 0 && !use_airing\">{{animeObject.broadcast_start * 1000 | date:'dd/MM/yyyy'}}</p> <p class=\"start\" ng-show=\"anime_boxes === 2 && animeObject.broadcast_start <= 0 && !use_airing\">Unknown</p> </div> <div layout=\"row\" layout-align=\"end center\" flex=\"50\"> <p class=\"start explicit-color fw-bold\" ng-show=\"animeObject.hasNudity\" ng-bind=\"'Explicit'\"></p> </div> </div> <div class=\"ani\"> <div class=\"card-info\"> <span class=\"label grey darken-2\" ng-show=\"animeObject.type != 0\">{{animeObject.type}}</span> <span class=\"label grey darken-2\">Episodes: {{animeObject.episodes_max != 0 ? animeObject.episodes_max : '?'}}</span> </div> <div class=\"card-desc mt-25\"> <p class=\"no-margin caption\">Description:</p> <p class=\"content\"> <span ng-bind-html=\"animeObject.description | limitTo: 150\"></span>{{animeObject.description.length >= 150 ? '...' : ''}} <span ng-show=\"animeObject.description == ''\">No description available. ;(</span> </p> </div> <div class=\"card-genre mt-10\"> <span class=\"label\" ng-repeat=\"genre in animeObject.genre | limitTo: 7\">{{genre}}</span> </div> <div class=\"card-bottom\"> <div class=\"card-controls\"> <a class=\"waves-effect waves-grey btn-flat no-margin with-bg\" ng-href=\"/anime/{{animeObject.detail_id}}\" ng-bind=\"'Anime'\"></a> <a class=\"waves-effect waves-grey btn-flat no-margin without-bg\" ng-hide=\"animeObject.episode_to_watch\" ng-href=\"/anime/{{animeObject.detail_id}}/{{animeObject.watching ? (animeObject.progress !== animeObject.cur_episodes ? animeObject.progress + 1 : animeObject.cur_episodes) : '1'}}\" ng-bind=\"animeObject.watching ? 'Resume' : 'Watch'\"></a> <a class=\"waves-effect waves-grey btn-flat no-margin without-bg\" ng-show=\"animeObject.episode_to_watch\" ng-href=\"/anime/{{animeObject.detail_id}}/{{animeObject.episode_to_watch}}\" ng-bind=\"'Ep. ' + animeObject.episode_to_watch\"></a> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div layout=\"row\" layout-align=\"center center\"> <md-button class=\"md-raised md-primary\" ng-click=\"getRandomAnime()\" ng-disabled=\"dataLoading\">Randomize!</md-button> </div> </div> <div flex=\"70\" flex-xs=\"100\" flex-sm=\"100\" flex-md=\"60\" class=\"random-anime-wrapper mt-15\"> <a ng-click=\"clearHistory();\">Clear History</a> <md-list flex layout=\"column\"> <md-list-item class=\"md-2-line\"> <div class=\"md-list-item-text\" layout=\"row\"> <h3 flex=\"75\" flex-md=\"75\" flex-sm=\"75\" flex-xs=\"65\"><b>History</b></h3> </div> </md-list-item> <md-list-item class=\"md-2-line\" ng-show=\"historyObjects.length === 0\"> <div class=\"md-list-item-text\" layout=\"row\"> <h3 flex=\"75\" flex-md=\"75\" flex-sm=\"75\" flex-xs=\"65\"><b>You have no history. :(</b></h3> </div> </md-list-item> <md-list-item class=\"md-2-line\" ng-show=\"historyObjects.length > 0\" ng-class=\"{'animelist-completed': entry.completed, 'animelist-watching': entry.watching, 'animelist-default': entry.planned_to_watch, 'animelist-on_hold': entry.on_hold, 'animelist-dropped': entry.dropped, 'border': !entry.completed && !entry.watching && !entry.planned_to_watch && !entry.on_hold && !entry.dropped}\" ng-repeat=\"entry in historyObjects\" ng-click=\"loadHistory(entry);\" aria-label=\"{{entry.title}}\"> <div class=\"md-list-item-text anime-entry pd-ub-10\" layout=\"row\" layout-align=\"start center\"> <h3 flex=\"75\" flex-xs=\"70\"> <div layout=\"row\" layout-align=\"none center\">  <div class=\"ml-10\" hide show-sm show-md show-lg show-xl> <a> <img src=\"https://anilivery.aniwatch.me/img/covers/lazy.png\" lazy-load=\"entry.cover\" ng-class=\"{'cover-blur-less': session.nsfw && (entry.type === 'Hentai' || entry.hasNudity)}\" class=\"wd-128p\" alt=\"{{entry.title}} cover\"> </a> </div>  <div layout=\"column\" class=\"ml-10 overflow-ellipsis\"> <span ng-bind-html=\"entry.title\" class=\"overflow-ellipsis\"></span> <div layout=\"row\"> <span class=\"fs-15\" ng-show=\"entry.type !== 0\" ng-bind=\"entry.type\"></span> <span ng-bind=\"lang.global.seperator\" class=\"ml-5 mr-5\"></span> <span class=\"fs-15\" ng-bind=\"entry.airing_start_unknown ? 'Unknown' : (entry.airing_index_unknown ? entry.airing_start.split(' ')[1] : entry.airing_start)\"></span> </div> <span ng-bind=\"'Eps.: ' + (entry.episodes_max != 0 ? entry.episodes_max : '?')\"></span> </div> </div> </h3>  <h3 flex=\"20\" flex-xs=\"30\" layout=\"row\" layout-align=\"center center\"> <span class=\"label\" ng-class=\"{'pink': entry.status == 1 || entry.status == 4, 'green': entry.status == 2, 'orange': entry.status == 3}\" ng-bind=\"Utils.statusToString(entry.status)\"></span> </h3> </div> </md-list-item> </md-list> </div> </div></md-content>",controller:"RandomController",css:{href:CSS_ROUTE+"Random.css",preload:APP_PRELOAD_CSS}}).when("/discord",{template:"<md-content class=\"mt-40 no-overflow\" ng-cloak> <div layout=\"row\" layout-align=\"center center\"> <h1 class=\"section-title text-capitalize\">connect with our awesome community by joining</h1> </div> <div layout=\"row\" layout-align=\"center center\" class=\"no-select no-events\"> <div class=\"discord-invite-wrapper\"> <div layout=\"row\" layout-align=\"center center\" class=\"loading\" ng-show=\"!guild\"> <md-progress-circular md-mode=\"indeterminate\"></md-progress-circular> </div> <div ng-show=\"guild\"> <h5 class=\"discord-invite-caption\" ng-bind=\"'You have been invited to the Aniwatch Discord server'\"></h5> <div layout=\"row\" layout-align=\"center center\"> <img class=\"discord-invite-icon\" ng-src=\"{{ guild.icon }}\"> <div layout=\"column\" class=\"ml-10\"> <span class=\"discord-invite-server white-text\" ng-bind=\"guild.name\"></span> <div layout=\"row\"> <span class=\"discord-invite-indicator mr-10\" layout=\"row\" layout-align=\"start center\"> <span class=\"discord-invite-indicator-rect discord-invite-indicator-online\"></span>{{ guild.online }} Online </span> <span class=\"discord-invite-indicator\" layout=\"row\" layout-align=\"start center\"> <span class=\"discord-invite-indicator-rect discord-invite-indicator-members\"></span>{{ guild.members }} Members </span> </div> </div> <md-button class=\"md-raised md-primary btn-lg all-events\" ng-href=\"{{ guild.invite }}\" aria-label=\"Join Aniwatch Discord Server\" target=\"_blank\" ng-bind=\"'Join'\"></md-button> </div> </div> </div> </div> <div layout=\"row\" layout-align=\"center center\" class=\"mt-100\"> <h1 class=\"section-title text-capitalize\">and enjoy the best girl, Riina-chan!</h1> </div> <div layout=\"row\" layout-align=\"center center\" class=\"no-select no-events\"> <div class=\"wd-128p\"> <img src=\"https://anilivery.aniwatch.me/img/waifu/riina.png\" class=\"br-50\"> </div> <div layout=\"column\" class=\"ml-10\"> <div layout=\"row\"> <span class=\"bot-name white-text\" ng-bind=\"'Riina-chan'\"></span> <span class=\"bot-tag ml-5\" ng-bind=\"'Bot'\"></span> </div> <div layout=\"row\"> <span class=\"bot-activity\" ng-bind=\"'A Discord bot by Aniwatch'\"></span> </div> </div> </div> <div layout=\"row\" layout-align=\"center center\" class=\"loading mt-40\" ng-show=\"!botCommands\"> <md-progress-circular md-mode=\"indeterminate\"></md-progress-circular> </div> <div layout=\"row\" layout-xs=\"column\" layout-sm=\"column\" layout-align=\"start start\" class=\"mt-40\" ng-show=\"botCommands\"> <div flex=\"30\" flex-xs=\"100\" flex-sm=\"100\" class=\"ml-5 wd-95\"> <div> <h2 class=\"section-title text-capitalize\" ng-bind=\"'Bot Commands'\"></h2> <ul class=\"commands-menu\"> <li ng-repeat=\"botCommand in botCommands.commands\" ng-bind=\"botCommand.group\" ng-click=\"selectBotGroup(botCommand)\" ng-class=\"{'active': botCommand === selBotGroup}\"></li> </ul> </div> <div class=\"mt-40\"> <h2 class=\"section-title text-capitalize\" ng-bind=\"'Help'\"></h2> <div class=\"commands-menu\"> <p class=\"commands-description\"> Server member?<br> Whether you must be a member of the Aniwatch Discord server. </p> <p class=\"commands-description\"> Server messages?<br> Whether the command can be used on the Aniwatch Discord server. </p> <p class=\"commands-description no-margin\"> Direct messages?<br> Whether the command can be used via a direct message to Riina-chan. </p> </div> </div> </div> <div flex=\"70\" flex-xs=\"100\" flex-sm=\"100\" flex-offset=\"5\" flex-offset-xs=\"0\" flex-offset-sm=\"0\" class=\"full-width\"> <div layout=\"column\" class=\"animate-switch\" ng-repeat=\"item in selBotGroup.items\"> <h5 class=\"md-headline commands-title brand-color\" ng-bind=\"botCommands.prefix + item.name + ' ' + item.parameter\"></h5> <p class=\"commands-description\" ng-bind-html=\"item.description\"></p> <div layout=\"row\" layout-xs=\"column\"> <div flex flex-xs=\"100\"> <h5 class=\"commands-field-name\" ng-bind=\"'Server member?'\"></h5> <i class=\"material-icons commands-field-value\" ng-class=\"{'commands-field-yes': item.serverMember, 'commands-field-no': !item.serverMember}\" ng-bind=\"item.serverMember ? 'check' : 'clear'\"></i> </div> <div flex flex-xs=\"100\"> <h5 class=\"commands-field-name\" ng-bind=\"'Server message?'\"></h5> <i class=\"material-icons commands-field-value\" ng-class=\"{'commands-field-yes': item.serverMessage, 'commands-field-no': !item.serverMessage}\" ng-bind=\"item.serverMessage ? 'check' : 'clear'\"></i> </div> <div flex flex-xs=\"100\"> <h5 class=\"commands-field-name\" ng-bind=\"'Direct message?'\"></h5> <i class=\"material-icons commands-field-value\" ng-class=\"{'commands-field-yes': item.directMessage, 'commands-field-no': !item.directMessage}\" ng-bind=\"item.directMessage ? 'check' : 'clear'\"></i> </div> </div> <div layout=\"row\" class=\"mt-20\"> <div flex> <h5 class=\"commands-field-name no-margin\" ng-bind=\"'Usage'\"></h5> <p class=\"commands-description fw-400\" ng-bind-html=\"item.usage\"></p> </div> </div> <hr class=\"mb-10\" ng-if=\"!$last\"> </div> </div> </div></md-content>",controller:"DiscordController",css:{href:CSS_ROUTE+"Discord.css",preload:APP_PRELOAD_CSS}}).otherwise({redirectTo:"/404"})}]),app.config(["$qProvider",function(e){e.errorOnUnhandledRejections(!1)}]),app.config(["$provide",function(e){e.decorator("$controller",["$delegate",function(e){return function(t,i,a,n){return"string"==typeof t&&(i.$scope.controllerName=t.replace("Controller","")),e.apply(this,[].slice.call(arguments),a,n)}}])}]),app.config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*((https?|ftp|mailto):|(javascript:void\(0\)(\;)?$))/),e.debugInfoEnabled(!1),e.commentDirectivesEnabled(!1),e.cssClassDirectivesEnabled(!1)}]),app.config(["$httpProvider",function(e){e.useLegacyPromiseExtensions=!1}]),app.config(["AnalyticsProvider",function(e){e.setAccount("UA-134619625-1")}]),app.config(["vcRecaptchaServiceProvider",function(e){e.setDefaults({key:"6LcfPKAUAAAAAMVKnwZ-fY00zBg1eeR4C3wfmrmJ",theme:"dark"})}]),app.run(["$rootScope",function(e){e.config={languages:[{str:"English",id:"en-US"},{str:"Deutsch",id:"de-DE"}]},e.navbar={home:{"@attributes":{href:"home",title:"Home"}},search:{"@attributes":{href:"search",title:"Search"}},discord:{"@attributes":{href:"discord",title:"Discord"}},anime:{"@attributes":{href:"javascript:void(0)",title:"Anime"},dropdown:{seasonal:{"@attributes":{href:"seasonal",title:"Seasonal"}},airing:{"@attributes":{href:"airing",title:"Airing"}},random:{"@attributes":{href:"random",title:"Random"}}}},login:{"@attributes":{href:"login",title:"Login"}},register:{"@attributes":{href:"login?v=register",title:"Register"}}},e.cache={}}]),app.run(["$rootScope",function(e){e.cache["en-US"]={general:{loading:"Loading..",days:{saturday:"Saturday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",sunday:"Sunday"},yes:"Yes",no:"No",na:"N/A",select:"Select",completed:"Completed",hide:"Hide",show:"Show",progress:"Progress",rating:"Rating",type:"Type",unknown:"Unknown",launch:"Launch",broadcast:"Broadcast",from:"from",ratings:"ratings",no_results:"Senpai, we have no results here! :(",or:"or",media:"Media",your_chronicle:"Your Chronicle",currently_disabled:"This feature is currently disabled. ;)",blocked_due_to_nsfw:"This page is blocked due to safe search being enabled.",could_not_be_loaded:{episodes:"Episodes could not be loaded.",episode:"This episode does not exist yet. Try again later. ;)",relation:"Relation could not be loaded.",chronicle:"Chronicle could not be loaded.",media:"Media could not be loaded."},download:{start:"Download started!",cancel:"Download cancalled!",finish:"Download finished!"}},navbar:{search_here:"Search here.."},footer:{rights:"All Rights Reserved",copyright:"Copyright &copy; 2018 - ",about:"Privacy policy"},notification:{x1_1:"Episode <b>$1</b> of <b class=\"brand-color\">$5</b> is online! ($6)",x2_1:"Episode <b>$1</b> of <b class=\"brand-color\">$5</b> is online! ($6)",x3_1:"%<b class=\"brand-color\">$2</b> has been added to our database!",x3_2:"%<b class=\"brand-color\">$2</b> has been added to our database!",x3_3:"%<b class=\"brand-color\">$2</b>, which once failed the anime list import, has been added to your anime list!",x4_1:"Episode <b>$3</b> of <b class=\"brand-color\">$5</b> will be delayed by <b>$1</b> <b>$2</b>.",x5_1:"%<b class=\"brand-color\">$2</b> sent you a friend request!",x5_2:"%<b class=\"brand-color\">$2</b> has <b>accepted</b> your friend request!",x5_3:"%<b class=\"brand-color\">$2</b> has <b>rejected</b> your friend request!",x6_1:"%<b class=\"brand-color\">$2</b> <b>streams</b> have been added!",x6_2:"%<b class=\"brand-color\">$2</b> has been added to our database!",x7_1:"Good news! There is a new <b>update</b>!"},not_found:{title:"404",subtitle:"OOPS! PAGE NOT FOUND",info:"Sorry, but we can\u2019t seem to find the page you are looking for.",home_btn:"Take Me Home"},about:{headline:"About Us"},airing:{displayed_data:"All displayed data is in ",filter:"Filter",filter_options:{all:"All",completed:"Completed",watching:"Watching",planned_to_watch:"Plan to watch",new_episodes:"New episodes"}},anime:{tabs:{overview:"Overview",episodes:"Episodes",watch:"Stream",relation:"Relation",reviews:"Reviews",chronicle:"Chronicle",media:"Media",staff:"Staff",riina:"Riina-chan"},nsfw_container:"Sorry, but you cannot view this page as this is supposed to be mature content and you've enabled \"safe search\".<br>Please visit your <a href=\"/profile?tab=6\">settings</a>, click on \"General\" and toggle \"safe search\" off in order to proceed.",nsfw_container_v2:"This is supposed to be mature content. Do you wish to proceed?",episode_text:"Episode",no_streams:"No streams available.",reload_stream:"Reload episode",close_stream:"Close episode",streams_guest_warning:"Looking for 720p and 1080p streams? <a href=\"/login\">Login</a>!",description_text:"Description",no_description:"No description available yet.",stop_download:"Stop download",staff:"Staff",genre:"Genre",tags:"Tags",watch_text:"Stream",resume_text:"Resume",available_episodes:"available episodes",no_episodes:{caption:"Unfortunately, there are no episodes available for this anime.<br>You can try..",option_1:".. again later",option_2:".. contacting an admin if you think this is an error",option_3:".. waiting until the official launch at:"},jump_to:"Jump to the",first_episode:"first episode",last_episode:"last episode",aired:"Aired",will_air:"Will air",watched:"Watched",play:"Play",no_relation:"This anime has no relation",no_media:"This anime has no media",cannot_perform_on_best_anime:"It's illegal to perform this on the best anime. Stop that!",episode_completed:"Episode completed"},home:{banner:{caption:"Welcome to Aniwatch.me!",subcaption_1:"The best source for",subcaption_2:"Free, without any ads and in high definition!",anime:"Anime",hentai:"Hentai",movies:"Movies"}},profile:{tabs:{overview:"Overview",biography:"Biography",chronicle:"Chronicle",animelist:"Animelist",reviews:"Reviews",media:"Media",friends:"Friends",settings:"Settings"},tab_settings:{safe_search:"Safe search",chrLogging:"Automatic logging of chronicle",visibility:"Profile visibility",def_lang:"Default language"}},global:{domain:"Aniwatch.me",name:"Aniwatch",airing_anime:"Airing Anime",seasonal_anime:"Seasonal Anime",icons:{reload:"autorenew",close:"clear",sound:"volume_up",caption:"closed_caption",play:"play_arrow",star:"star_rate",arrow_up:"expand_less",arrow_down:"expand_more",apps:"apps",list:"format_list_numbered",report:"report",play_border:"play_circle_outline",copy:"content_copy",done:"done"},seperator:"|",empty:"-/-"}}}]),app.run(["$rootScope",function(e){e.cache["de-DE"]={general:{loading:"Laden..",days:{saturday:"Saturday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",sunday:"Sunday"},yes:"Yes",no:"No",na:"N/A",select:"Select",completed:"Completed",hide:"Hide",show:"Show",progress:"Fortschritt",rating:"Bewertung",type:"Type",unknown:"Unknown",launch:"Launch",broadcast:"Broadcast",from:"from",ratings:"ratings",no_results:"Senpai, we have no results here! :(",or:"or",media:"Media",your_chronicle:"Your chronicle",currently_disabled:"This feature is currently disabled. ;)",blocked_due_to_nsfw:"This page is blocked due to safe search being enabled.",could_not_be_loaded:{episodes:"Episodes could not be loaded.",episode:"This episode does not exist yet. Try again later. ;)",relation:"Relation could not be loaded.",chronicle:"Chronicle could not be loaded.",media:"Media could not be loaded."},download:{start:"Download started!",cancel:"Download cancalled!",finish:"Download finished!"}},navbar:{search_here:"Suche hier.."},footer:{rights:"Alle Rechte vorbehalten",copyright:"Copyright &copy; 2018 - ",about:"Datenschutzbedingung"},notification:{x1_1:"Episode <b>$1</b> von <b class=\"brand-color\">$5</b> ist online! ($6)",x2_1:"Episode <b>$1</b> von <b class=\"brand-color\">$5</b> ist online! ($6)",x3_1:"%<b class=\"brand-color\">$2</b> wurde unserer Datenbank hinzugef\xFCgt!",x3_2:"%<b class=\"brand-color\">$2</b> wurde unserer Datenbank hinzugef\xFCgt!",x3_3:"%<b class=\"brand-color\">$2</b>, welcher einmal beim Importieren der Anime-Liste nicht hinzugef\xFCgt werden konnte, wurde deiner Anime-Liste nun hinzugef\xFCgt!",x4_1:"Episode <b>$3</b> von <b class=\"brand-color\">$5</b> wird sich um <b>$1</b> <b>$2</b> versp\xE4ten.",x5_1:"%<b class=\"brand-color\">$2</b> hat dir eine Freundschaftsanfrage gesendet!",x5_2:"%<b class=\"brand-color\">$2</b> hat deine Freundschaftsanfrage <b>angenommen</b>!",x5_3:"%<b class=\"brand-color\">$2</b> hat deine Freundschaftsanfrage <b>abgelehnt</b>!",x6_1:"%<b class=\"brand-color\">$2</b> <b>Streams</b> wurden hinzugef\xFCgt!",x6_2:"%<b class=\"brand-color\">$2</b> wurde unserer Datenbank hinzugef\xFCgt!",x7_1:"Gute Neuigkeiten! Es gibt ein neues <b>Update</b>!"},not_found:{title:"404",subtitle:"OOPS! PAGE NOT FOUND",info:"Sorry, but we can\u2019t seem to find the page you are looking for.",home_btn:"Take Me Home"},about:{headline:"About Us"},airing:{displayed_data:"All displayed data is in ",filter:"Filter",filter_options:{all:"Alle",completed:"Abgeschlossen",watching:"Am Schauen",planned_to_watch:"Geplant",new_episodes:"Neue Episoden"}},anime:{tabs:{overview:"\xDCbersicht",episodes:"Episoden",watch:"Stream",relation:"Verbindung",reviews:"Rezensionen",chronicle:"Chronik",media:"Musik",staff:"Team",riina:"Riina-chan"},nsfw_container:"Sorry, but you cannot view this page as this is supposed to be mature content and you've enabled \"safe search\".<br>Please visit your <a href=\"/profile?tab=6\">settings</a>, click on \"General\" and toggle \"safe search\" off in order to proceed.",nsfw_container_v2:"This is supposed to be mature content. Do you wish to proceed?",episode_text:"Episode",no_streams:"No streams available.",reload_stream:"Reload episode",close_stream:"Close episode",streams_guest_warning:"Looking for 720p and 1080p streams? <a href=\"/login\">Login!</a>",description_text:"Description",no_description:"No description available yet.",stop_download:"Stop download",staff:"Staff",genre:"Genre",tags:"Tags",watch_text:"Stream",resume_text:"Resume",available_episodes:"available episodes",no_episodes:{caption:"Unfortunately, there are no episodes available for this anime.<br>You can try..",option_1:"again later",option_2:"contacting an admin if you think this is an error",option_3:"waiting until the official launch at:"},jump_to:"Jump to the",first_episode:"first episode",last_episode:"last episode",aired:"Aired",will_air:"Will air",watched:"Watched",play:"Play",no_relation:"This anime has no relation",no_media:"This anime has no media",cannot_perform_on_best_anime:"It's illegal to perform this on the best anime. Stop that!",episode_completed:"Episode completed"},home:{banner:{caption:"Willkommen bei Aniwatch.me!",subcaption_1:"Die beste Quelle f\xFCr",subcaption_2:"Kostenlos, ohne Werbung und in HD!",anime:"Anime",hentai:"Hentai",movies:"Filme"}},profile:{tabs:{overview:"\xDCbersicht",biography:"Biografie",chronicle:"Chronik",animelist:"Animeliste",reviews:"Rezensionen",media:"Musik",friends:"Freunde",settings:"Einstellungen"},tab_settings:{safe_search:"Sicheres surfen",chrLogging:"Automatische Chronik-Aufzeichnung",visibility:"Profilsichtbarkeit",def_lang:"Standardsprache"}},global:{domain:"Aniwatch.me",name:"Aniwatch",airing_anime:"Airing Anime",seasonal_anime:"Seasonal Anime",icons:{reload:"autorenew",close:"clear",sound:"volume_up",caption:"closed_caption",play:"play_arrow",star:"star_rate",arrow_up:"expand_less",arrow_down:"expand_more",apps:"apps",list:"format_list_numbered",report:"report",play_border:"play_circle_outline",copy:"content_copy",done:"done"},seperator:"|",empty:"-/-"}}}]),app.run(["$templateCache",function(e){e.put("AnimeBox","<div\nlayout=\"row\" layout-align=\"center center\"\nclass=\"card-row mt-20 anime-card\" ng-show=\"(anime_boxes !== 1 && !ignore_boxes) || rCurView === 0\"> <div flex class=\"card-margin anime-boxes\" ng-show=\"anime_boxes !== 2 && !ignore_boxes || (listFilter.value === 3 && (animeObject.watching || animeObject.planned_to_watch) && animeObject.progress !== animeObject.cur_episodes || listFilter.value === 2 || listFilter.value === 1 && animeObject.completed || listFilter.value === 0 && animeObject.watching || listFilter.value === 4 && entry.planned_to_watch)\"> <div class=\"portfolio-item mb-15 box-style-2 full-width no-select\" layout=\"row\" layout-align=\"center center\"> <div class=\"card\"> <div class=\"card-content\"> <a ng-href=\"/anime/{{animeObject.detail_id}}\"> <div class=\"icon anime-cover-frame\"> <img class=\"anime-cover\" ng-class=\"{'cover-blur': (session.nsfw || !session.userid) && (animeObject.type === 'Hentai' || animeObject.hasNudity)}\" src=\"https://anilivery.aniwatch.me/img/covers/lazy.png\" lazy-load=\"animeObject.cover\" alt=\"{{animeObject.title}}\" onmousedown=\"return false;\"> </div> </a> </div> <div ng-show=\"animeObject.broadcast_time >= 0 && !hide_broadcast_time\" class=\"airing-at absolute ani-color\"> <md-tooltip md-direction=\"top\" ng-bind=\"current_timezone\"></md-tooltip> <p class=\"no-margin\" ng-bind=\"animeObject.broadcast_time_string\"></p> </div> <div ng-show=\"animeObject.lang_caption && animeObject.episode_to_watch\" class=\"airing-at absolute ani-color\"> <p class=\"no-margin\" ng-bind=\"animeObject.lang_caption + ' - ' + animeObject.episode_to_watch\"></p> </div> <div ng-show=\"animeObject.completed || animeObject.watching || animeObject.planned_to_watch\" class=\"airing-at airing-status absolute ani-color\"> <i class=\"material-icons completed\" ng-show=\"animeObject.completed\"> <md-tooltip md-direction=\"top\">Completed</md-tooltip> done </i> <i class=\"material-icons watching\" ng-class=\"{'new_episode': animeObject.watching && animeObject.progress != animeObject.cur_episodes}\" ng-show=\"animeObject.watching\"> <md-tooltip md-direction=\"top\">Watching <span ng-bind=\"animeObject.watching && animeObject.progress != animeObject.cur_episodes ? '(New episode available)' : ''\"></span></md-tooltip> visibility </i> <i class=\"material-icons planned_to_watch\" ng-class=\"{'new_episode': animeObject.planned_to_watch && animeObject.progress != animeObject.cur_episodes}\" ng-show=\"animeObject.planned_to_watch\"> <md-tooltip md-direction=\"top\">Plan to watch</md-tooltip> library_add </i> <i class=\"material-icons on_hold\" ng-show=\"animeObject.on_hold\"> <md-tooltip md-direction=\"top\">On Hold</md-tooltip> watch_later </i> <i class=\"material-icons dropped\" ng-show=\"animeObject.dropped\"> <md-tooltip md-direction=\"top\">Dropped</md-tooltip> thumb_down </i> </div> <div ng-show=\"animeObject.insertAdjacentHTML\" ng-bind-html=\"animeObject.insertAdjacentHTML\" class=\"no-events right-0 bottom-69 absolute wd-i-16\"></div> <div class=\"show-overlay\" ng-show=\"animeObject.description || animeObject.genre\"> <i class=\"material-icons reveal-activator\" ng-click=\"toggleCard($event)\" >keyboard_arrow_up</i> </div> <div class=\"card-reveal overlay\" ng-class=\"{'new-episode-border': (animeObject.watching || animeObject.planned_to_watch) && animeObject.progress != animeObject.cur_episodes}\"> <p class=\"title-limit\" ng-bind-html=\"(animeObject.title | limitTo: 45) + (animeObject.title.length >= 45 ? '...' : '')\"></p> <p class=\"title-no-limit\" ng-bind-html=\"animeObject.title\"></p> <div layout=\"row\"> <div layout=\"row\" layout-align=\"start center\" flex=\"50\"> <p class=\"start\" ng-show=\"anime_boxes !== 2 || use_airing\">{{animeObject.airing_start_unknown ? 'Unknown' : (animeObject.airing_index_unknown ? animeObject.airing_start.split(' ')[1] : animeObject.airing_start)}}</p> <p class=\"start\" ng-show=\"anime_boxes === 2 && animeObject.broadcast_start > 0 && !use_airing\">{{animeObject.broadcast_start * 1000 | date:'dd/MM/yyyy'}}</p> <p class=\"start\" ng-show=\"anime_boxes === 2 && animeObject.broadcast_start <= 0 && !use_airing\">Unknown</p> </div> <div layout=\"row\" layout-align=\"end center\" flex=\"50\"> <p class=\"start explicit-color fw-bold\" ng-show=\"(animeObject.type === 'Hentai' || animeObject.hasNudity)\" ng-bind=\"'Explicit'\"></p> </div> </div> <div class=\"ani\"> <div class=\"card-info\"> <span class=\"label grey darken-2\" ng-show=\"animeObject.type != 0\">{{animeObject.type}}</span> <span class=\"label grey darken-2\">Episodes: {{animeObject.episodes_max != 0 ? animeObject.episodes_max : '?'}}</span> </div> <div class=\"card-desc mt-20\"> <p class=\"no-margin caption\">Description:</p> <p class=\"content\"> <span ng-bind-html=\"animeObject.description | limitTo: 150\"></span>{{animeObject.description.length >= 150 ? '...' : ''}} <span ng-show=\"animeObject.description == ''\">No description available. ;(</span> </p> </div> <div class=\"card-genre mt-10\"> <span class=\"label\" ng-repeat=\"genre in animeObject.genre | limitTo: 7\">{{genre}}</span> </div> <div class=\"card-bottom\"> <div class=\"card-controls\"> <a class=\"waves-effect waves-grey btn-flat no-margin with-bg\" ng-href=\"/anime/{{animeObject.detail_id}}\" ng-bind=\"'Anime'\"></a> <a class=\"waves-effect waves-grey btn-flat no-margin without-bg\" ng-hide=\"animeObject.episode_to_watch\" ng-href=\"/anime/{{animeObject.detail_id}}/{{animeObject.watching ? (animeObject.progress !== animeObject.cur_episodes ? animeObject.progress + 1 : animeObject.cur_episodes) : '1'}}\" ng-bind=\"animeObject.watching ? 'Resume' : 'Watch'\"></a> <a class=\"waves-effect waves-grey btn-flat no-margin without-bg\" ng-show=\"animeObject.episode_to_watch\" ng-href=\"/anime/{{animeObject.detail_id}}/{{animeObject.episode_to_watch}}{{animeObject.lang_param}}\" ng-bind=\"'Ep. ' + animeObject.episode_to_watch\"></a> </div> </div> </div> </div> </div> </div> </div></div>"),e.put("AnimeBoxes","<div\nlayout-xs=\"column\" layout-sm=\"row\" layout-md=\"row\" layout-lg=\"row\" layout-xl=\"row\" layout-align=\"center center\"\nclass=\"card-row mt-20 anime-card\" ng-show=\"(anime_boxes !== 1 && !ignore_boxes) || rCurView === 0\"> <div flex-xs=\"100\" flex-sm=\"50\" flex-md=\"33\" flex-lg=\"25\" flex-xl=\"20\" class=\"card-margin anime-boxes\" ng-repeat=\"entry in animeObject\" ng-show=\"anime_boxes !== 2 && !ignore_boxes || (listFilter.value === 3 && (entry.watching || entry.planned_to_watch) && entry.progress !== entry.cur_episodes || listFilter.value === 2 || listFilter.value === 1 && entry.completed || listFilter.value === 0 && entry.watching || listFilter.value === 4 && entry.planned_to_watch || listFilter.value === 5 && entry.on_hold || listFilter.value === 6 && entry.dropped)\"> <div class=\"portfolio-item mb-15 box-style-2 full-width no-select\" layout=\"row\" layout-align=\"center center\"> <div class=\"card\"> <div class=\"card-content\"> <a ng-href=\"/anime/{{entry.detail_id}}\"> <div class=\"icon anime-cover-frame\"> <img class=\"anime-cover\" ng-class=\"{'cover-blur': (session.nsfw || !session.userid) && (entry.type === 'Hentai' || entry.hasNudity)}\" src=\"https://anilivery.aniwatch.me/img/covers/lazy.png\" lazy-load=\"entry.cover\" alt=\"{{entry.title}}\" onmousedown=\"return false;\"> </div> </a> </div> <div ng-show=\"entry.broadcast_time >= 0\" class=\"airing-at absolute ani-color\"> <md-tooltip md-direction=\"top\" ng-bind=\"current_timezone\"></md-tooltip> <p class=\"no-margin\" ng-bind=\"entry.broadcast_time_string\"></p> </div> <div ng-show=\"entry.recommendations\" class=\"airing-at absolute ani-color\"> <md-tooltip md-direction=\"top\" ng-bind=\"'Recommendations'\"></md-tooltip> <p class=\"no-margin\" ng-bind=\"entry.recommendations + ' Users'\"></p> </div> <div ng-show=\"entry.completed || entry.watching || entry.planned_to_watch || entry.on_hold || entry.dropped\" class=\"airing-at airing-status absolute ani-color\"> <i class=\"material-icons completed\" ng-show=\"entry.completed\"> <md-tooltip md-direction=\"top\">Completed</md-tooltip> done </i> <i class=\"material-icons watching\" ng-class=\"{'new_episode': entry.watching && entry.progress != entry.cur_episodes}\" ng-show=\"entry.watching\"> <md-tooltip md-direction=\"top\">Watching <span ng-bind=\"entry.watching && entry.progress != entry.cur_episodes ? '(New episode available)' : ''\"></span></md-tooltip> visibility </i> <i class=\"material-icons planned_to_watch\" ng-class=\"{'new_episode': entry.planned_to_watch && entry.progress != entry.cur_episodes}\" ng-show=\"entry.planned_to_watch\"> <md-tooltip md-direction=\"top\">Plan to watch</md-tooltip> library_add </i> <i class=\"material-icons on_hold\" ng-show=\"entry.on_hold\"> <md-tooltip md-direction=\"top\">On Hold</md-tooltip> watch_later </i> <i class=\"material-icons dropped\" ng-show=\"entry.dropped\"> <md-tooltip md-direction=\"top\">Dropped</md-tooltip> thumb_down </i> </div> <div ng-show=\"entry.insertAdjacentHTML\" ng-bind-html=\"entry.insertAdjacentHTML\" class=\"no-events right-0 bottom-69 absolute wd-i-16\"></div> <div class=\"show-overlay\" ng-show=\"entry.description || entry.genre\"> <i class=\"material-icons reveal-activator\" ng-click=\"toggleCard($event)\" >keyboard_arrow_up</i> </div> <div class=\"card-reveal overlay\" ng-class=\"{'new-episode-border': (entry.watching || entry.planned_to_watch) && entry.progress != entry.cur_episodes}\"> <p class=\"title-limit\" ng-bind-html=\"(entry.title | limitTo: 45) + (entry.title.length >= 45 ? '...' : '')\"></p> <p class=\"title-no-limit\" ng-bind-html=\"entry.title\"></p> <div layout=\"row\"> <div layout=\"row\" layout-align=\"start center\" flex=\"50\"> <p class=\"start\" ng-show=\"anime_boxes !== 2 || use_airing\">{{entry.airing_start_unknown ? 'Unknown' : (entry.airing_index_unknown ? entry.airing_start.split(' ')[1] : entry.airing_start)}}</p> <p class=\"start\" ng-show=\"anime_boxes === 2 && entry.broadcast_start > 0 && !use_airing\">{{entry.broadcast_start * 1000 | date:'dd/MM/yyyy'}}</p> <p class=\"start\" ng-show=\"anime_boxes === 2 && entry.broadcast_start <= 0 && !use_airing\">Unknown</p> </div> <div layout=\"row\" layout-align=\"end center\" flex=\"50\"> <p class=\"start explicit-color fw-bold\" ng-show=\"(entry.type === 'Hentai' || entry.hasNudity)\" ng-bind=\"'Explicit'\"></p> </div> </div> <div class=\"ani\"> <div class=\"card-info\"> <span class=\"label grey darken-2\" ng-show=\"entry.type != 0\">{{entry.type}}</span> <span class=\"label grey darken-2\">Episodes: {{entry.episodes_max != 0 ? entry.episodes_max : '?'}}</span> </div> <div class=\"card-desc mt-20\"> <p class=\"no-margin caption\">Description:</p> <p class=\"content\"> <span ng-bind-html=\"entry.description | limitTo: 150\"></span>{{entry.description.length >= 150 ? '...' : ''}} <span ng-show=\"entry.description == ''\">No description available. ;(</span> </p> </div> <div class=\"card-genre mt-10\"> <span class=\"label\" ng-repeat=\"genre in entry.genre | limitTo: 7\">{{genre}}</span> </div> <div class=\"card-bottom\"> <div class=\"card-controls\"> <a class=\"waves-effect waves-grey btn-flat no-margin with-bg\" ng-href=\"/anime/{{entry.detail_id}}\">Anime</a> <a class=\"waves-effect waves-grey btn-flat no-margin without-bg\" ng-href=\"/anime/{{entry.detail_id}}/{{entry.watching ? (entry.progress !== entry.cur_episodes ? entry.progress + 1 : entry.cur_episodes) : '1'}}\">{{entry.watching ? 'Resume' : 'Watch'}}</a> </div> </div> </div> </div> </div> </div> </div></div><div layout=\"row\" layout-align=\"center center\" class=\"mt-20\" ng-show=\"anime_boxes == 0 && animeObject.length > 0 && loadMoreResults.indexOf('no more') == -1\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <md-button class=\"md-raised md-primary no-margin\" ng-click=\"loadMore()\" ng-disabled=\"dataLoading\">{{loadMoreResults}}</md-button> </div> </div></div>"),e.put("Chat","<div\nlayout=\"column\">  <div layout=\"column\"> <div flex> <div class=\"wd-100\" layout=\"row\"> <div flex=\"80\" class=\"cursor-pointer\" ng-click=\"Chat.toggleChatOverlay($event)\" data-on-aniwatch-bigger-chat-element-one> <div ng-hide=\"Chat.getState('disconnected')\"> <div class=\"chat-activity-indicator\"></div> <span class=\"mr-5\" ng-bind=\"Chat.getClients().length\"></span> <span class=\"chat-new-message-indicator\" ng-show=\"Chat.getState('overlay_hidden') && Chat.getState('new_message')\" ng-bind=\"Chat.getState('new_message_count') > 99 ? '99' : Chat.getState('new_message_count')\" data-on-aniwatch-bigger-chat-element-two></span> </div> <div ng-show=\"Chat.getState('disconnected')\"> <div class=\"chat-activity-indicator gray-bg\"></div> <span class=\"mr-5\" ng-bind=\"'0'\"></span> </div> </div> <div flex=\"20\" layout=\"row\" layout-align=\"end center\" class=\"high-index\"> <i class=\"material-icons cursor-pointer\" ng-click=\"Chat.toggleChatOverlay($event)\" ng-hide=\"Chat.getState('disconnected')\" data-on-aniwatch-bigger-chat-element-three> <md-tooltip md-direction=\"top\">{{Chat.getState('overlay_hidden') ? 'Maximize chat' : 'Minimize chat'}}</md-tooltip> {{Chat.getState('overlay_hidden') ? 'keyboard_arrow_up' : 'remove'}} </i> <i class=\"material-icons cursor-pointer\" ng-click=\"Chat.Socket.disconnect()\" ng-hide=\"Chat.getState('disconnected')\"> <md-tooltip md-direction=\"top\">Disconnect chat</md-tooltip> clear </i> <i class=\"material-icons cursor-pointer\" ng-click=\"Chat.Socket.connect()\" ng-show=\"Chat.getState('disconnected')\"> <md-tooltip md-direction=\"top\">Connect to chat</md-tooltip> input </i> </div> </div> </div> </div>  <div layout=\"row\" ng-hide=\"Chat.getState('disconnected')\" class=\"mt-10 chat-divider-top\"> <div flex=\"45\" class=\"chat-userlist-container chat-divider pr-10 flex-chat-offset-inverted\" ng-if=\"!isMobile() && false\" ng-class=\"::{'dn-noi': !Chat.getSettings().userlist_collapsed}\"> <div class=\"chat-userlist\"> <h4 class=\"caption\">Users</h4> <div class=\"userlist\"> <div class=\"user full-width waves-effect waves-light pd-all-5\" ng-repeat=\"item in Chat.getClients().items\" data-profile=\"{{item.userid}}\" data-b1=\"{{item.action_info.b1}}\" data-b2=\"{{item.action_info.b2}}\"> <div layout=\"row\" ng-class=\"{'donator_bg': item.usergroup == 3}\"> <div flex=\"15\" class=\"br-50 img-container no-overflow\"> <img alt=\"{{item.user + ' Avatar'}}\" ng-src=\"{{item.avatar}}\" class=\"full-width\"> </div> <div flex-offset=\"5\" flex=\"80\"> <span class=\"db mb-n-15\" ng-bind=\"item.user\" ng-class=\"{ 'usergroup_bot': item.usergroup == 0, 'usergroup_dev': item.usergroup == 1, 'usergroup_staff': item.usergroup == 2, 'usergroup_donator': item.usergroup == 3, 'usergroup_member': item.usergroup == 4 }\"></span> <small layout=\"row\" ng-hide=\"item.action === 'Loading..'\"> <md-tooltip md-direction=\"top\" ng-bind=\"item.action_extra\"></md-tooltip> <span ng-bind=\"item.action\"></span>&nbsp;<b class=\"white-text overflow-ellipsis\" ng-bind=\"item.action_extra\"></b> </small> </div> </div> </div> </div> </div> </div> <div class=\"flex-offset-2 mt-10\" flex> <div class=\"chat-box\" ng-class=\"{'m-chat-box': isMobile()}\"> <div class=\"item\" ng-repeat=\"obj in Chat.getMessages()\" ng-if=\"(Chat.getSettings().show_system_msg && !obj.usergroup) || obj.usergroup\"> <h4> <div layout=\"row\" ng-hide=\" (Chat.getMessages()[$index-1].user === obj.user && (Chat.getMessages()[$index+1] ? Chat.getMessages()[$index+1].user === obj.user : true) || (Chat.getMessages()[$index-1].user === obj.user && (Chat.getMessages()[$index+1] ? Chat.getMessages()[$index+1].user !== obj.user : true))) && obj.time <= (Chat.getMessages()[$index-1].time + 60 * 1000)\"> <div flex> <b ng-class=\"{ 'usergroup_dev': obj.usergroup == 1, 'usergroup_staff': obj.usergroup == 2, 'usergroup_donator': obj.usergroup == 3, 'usergroup_member': obj.usergroup == 4 }\"> <span ng-bind-html=\"obj.user\"></span> </b> </div> <div flex layout=\"row\" layout-align=\"end center\"> <small ng-bind=\"obj.time | chatdate\" class=\"time\" ng-if=\"Chat.getSettings().show_time\"></small> </div> </div> <span class=\"chat-message\" ng-bind-html=\"Chat.trustContent(obj.msg)\"></span> </h4> <md-divider ng-if=\"!$last && Chat.getMessages()[$index+1].user !== obj.user\"></md-divider> </div> </div> <div class=\"full-width\" layout=\"row\" layout-align=\"center center\"> <div class=\"chat-overlay hover-click-no-bg\" ng-click=\"Chat.scrollToBottom()\"> <div>There is a new message!</div> </div> </div> <div class=\"chat-input mt-10\"> <div class=\"full-width relative\" layout=\"row\"> <textarea ng-class=\"{'m-textarea': isMobile()}\" aria-label=\"Chat Input\" maxlength=\"250\" ng-keypress=\"(($event.keyCode == 13 && !$event.shiftKey) && !isMobile()) ? Chat.sendMessage($event) : return\" data-select-aniwatch-chat-message-input auto-resize></textarea> <div class=\"control-overlay\" ng-class=\"{'m-control-overlay': isMobile()}\" id=\"chat-settings-overlay\" style=\"display: none;\"> <h4>Socket</h4> <div class=\"mt-10\"> <md-checkbox aria-label=\"Auto Connect\" ng-model=\"Chat.getSettings().auto_connect\" ng-checked=\"Chat.getSettings().auto_connect\" ng-change=\"Chat.updateSettings()\"> Auto connect to chat when opening Aniwatch </md-checkbox> <md-checkbox aria-label=\"Auto Connect\" ng-model=\"Chat.getSettings().retry_reconnection\" ng-checked=\"Chat.getSettings().retry_reconnection\" ng-change=\"Chat.updateSettings()\"> Retry reconnecting when connection is lost </md-checkbox> </div> <h4>Messages</h4> <div class=\"mt-10\"> <md-checkbox aria-label=\"ScrollNewMsg\" ng-model=\"Chat.getSettings().scroll_msg\" ng-checked=\"Chat.getSettings().scroll_msg\" ng-change=\"Chat.updateSettings()\"> Scroll on new message </md-checkbox> <md-checkbox aria-label=\"NewMsgBeepSound\" ng-model=\"Chat.getSettings().new_msg_beep_sound\" ng-checked=\"Chat.getSettings().new_msg_beep_sound\" ng-change=\"Chat.updateSettings()\"> Beep on new message </md-checkbox> <md-checkbox aria-label=\"ShowTime\" ng-model=\"Chat.getSettings().show_time\" ng-checked=\"Chat.getSettings().show_time\" ng-change=\"Chat.updateSettings()\"> Show time </md-checkbox> </div> <h4>Parser</h4> <div class=\"mt-10\"> <md-checkbox aria-label=\"ParseSmileys\" ng-model=\"Chat.getSettings().parse_smileys\" ng-checked=\"Chat.getSettings().parse_smileys\" ng-change=\"Chat.updateSettings()\"> Parse smileys </md-checkbox> <md-checkbox aria-label=\"ShowSystemMsg\" ng-model=\"Chat.getSettings().show_system_msg\" ng-checked=\"Chat.getSettings().show_system_msg\" ng-change=\"Chat.updateSettings()\"> Show system messages </md-checkbox> </div> <h4>Activity</h4> <div class=\"mt-10\"> <md-checkbox aria-label=\"Hide Activity\" ng-model=\"Chat.getSettings().hide_activity\" ng-checked=\"Chat.getSettings().hide_activity\" ng-change=\"Chat.updateSettings(); Chat.broadcastActivity();\"> Hide activity </md-checkbox> </div> </div> <div class=\"control-overlay\" ng-class=\"{'m-control-overlay': isMobile()}\" id=\"chat-emotes-overlay\" style=\"display: none;\"> <h4>Emojis</h4> <input aria-label=\"Search\" type=\"text\" class=\"full-width\" placeholder=\"Search Emoji\" ng-model=\"searchEmojiInput\"> <div class=\"chat-emote\" ng-repeat=\"(key,val) in Chat.getEmotes()\" ng-show=\"!searchEmojiInput || key.toLowerCase().includes(searchEmojiInput.toLowerCase())\"> <md-tooltip md-direction=\"top\">:{{key}}:</md-tooltip> <img class=\"mg-all-10 hover-click-no-bg\" ng-click=\"Chat.pasteEmote($event, key)\" ng-src=\"{{'https://anilivery.aniwatch.me/img/chat/emotes/' + key + '.' + val}}\" alt=\":{{key}}:\"></img> </div> </div> </div> <div layout=\"row\"> <div layout=\"row\" layout-align=\"start center\" flex=\"70\"> <i class=\"material-icons\" ng-click=\"Chat.showOverlay($event, 'emotes')\"> tag_faces </i> <i class=\"material-icons\" ng-click=\"Chat.showOverlay($event, 'settings')\"> settings </i> <i class=\"material-icons\" ng-click=\"Chat.toggleUserlist($event)\" ng-if=\"!isMobile() && false\"> <md-tooltip md-direction=\"top\">Toggle userlist</md-tooltip> people </i> <md-menu ng-if=\"session.admin || session.staff\"> <md-button aria-label=\"Change chat room\" class=\"no-margin md-icon-button\" ng-click=\"$mdMenu.open($event);\" layout=\"row\" layout-align=\"center center\"> <md-tooltip md-direction=\"top\">Change chat room</md-tooltip> <span class=\"material-icons\">chat_bubble_outline</span> </md-button> <md-menu-content width=\"2\"> <md-menu-item ng-repeat=\"item in Chat.getAvailableRooms()\"> <md-button aria-label=\"Select the chatroom {{item.display}}\" ng-click=\"aniwatch_chat_selected_room = item.room; Chat.changeRoom(aniwatch_chat_selected_room);\" ng-class=\"{'md-selected': aniwatch_chat_selected_room === item.room}\" ng-bind=\"item.display\"></md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div layout=\"row\" layout-align=\"end center\" flex=\"30\"> <md-button class=\"md-raised md-primary\" ng-click=\"Chat.sendMessage($event)\"> Send </md-button> </div> </div> </div> </div> </div></div>"),e.put("Chronicle","<md-list flex layout=\"column\"> <md-list-item class=\"md-2-line\"> <div class=\"md-list-item-text\" layout=\"row\"> <h3 flex=\"90\" flex-xs=\"70\"><b>Title</b></h3> <h3 flex><b>Ep</b></h3> </div> </md-list-item> <md-list-item class=\"md-2-line border\" ng-href=\"/anime/{{chronicle.id}}/{{chronicle.episode}}\" ng-repeat=\"chronicle in chronicle.entries\"> <div class=\"md-list-item-text\" layout=\"row\" layout-align=\"start center\"> <h3 flex=\"90\" flex-xs=\"70\" ng-show=\"!chronicle.id || !chronicle.episode\"> <span>This episode/anime was removed.</span> </h3> <h3 flex=\"90\" flex-xs=\"70\" ng-hide=\"!chronicle.id || !chronicle.episode\"> <span ng-bind-html=\"!chronicle.ep_title || session.mask_episode_titles ? 'Episode ' + chronicle.episode : chronicle.ep_title\"></span><br> <small class=\"md-caption\" ng-bind-html=\"chronicle.anime_title + ' \u2014 '\" ng-show=\"template_type === 1\"></small> <small class=\"md-caption text-center date-display\" ng-bind=\"chronicle.date * 1000 | date:'dd.MM.yyyy HH:mm:ss'\"></small> </h3> <h3 flex>{{ chronicle.episode }}</h3> <h3 flex=\"10\" class=\"list-rm-btn\" ng-show=\"show_remove_button === true\"> <i class=\"material-icons cursor-pointer mini-btn\" ng-click=\"removeChronicleEntry(chronicle.chronicle_id)\"> <md-tooltip md-direction=\"top\">Remove entry from your chronicle.</md-tooltip> close </i> </h3> </div> </md-list-item> <md-list-item class=\"md-2-line\" ng-show=\"chronicle.entries.length == 0\"> <div class=\"md-list-item-text\" layout=\"row\" layout-align=\"start center\"> <h3 flex> <span>{{show_remove_button === true ? \"Your chronicle is empty\" : \"This chronicle is empty\"}}</span> </h3> </div> </md-list-item> <div layout=\"row\" layout-align=\"center center\"> <div class=\"form-group\"> <md-button class=\"md-raised md-primary page-btn\" ng-class=\"{'active': chronicle.selPage === $index+1}\" ng-repeat=\"page in [].constructor(chronicle.pages) track by $index\" ng-hide=\"[].constructor(chronicle.pages).length <= 1\" ng-click=\"getChronicle($index+1)\" ng-disabled=\"dataLoading\" ng-bind=\"$index+1\" aria-label=\"{{'Page ' + $index+1}}\"></md-button> </div> </div></md-list>"),e.put("EpisodeBox","<div\nclass=\"portfolio-item full-width\"> <div class=\"card\"> <div class=\"card-image waves-effect waves-block waves-light\">  <a ng-href=\"/anime/{{episodeObject.detail_id}}/{{episodeObject.number}}\" ng-if=\"!useSetEpFunc\"> <div class=\"overlay full-width full-height high-index\" layout=\"row\" layout-align=\"center center\"> <i class=\"material-icons cursor-pointer fs-50\" ng-bind=\"lang.global.icons.play_border\"></i> <div class=\"bottom-0 right-0 mg-all-5 white-text absolute no-select anime-episodes-duration\" ng-show=\"episodeObject.duration\" ng-bind=\"episodeObject.duration\"> </div> <div class=\"progress no-margin bottom-0 left-0 absolute\" ng-show=\"episodeObject.resumeProgress\"> <div class=\"progress-bar\" role=\"progressbar\" ng-style=\"{'width': episodeObject.resumeProgress + '%'}\"></div> </div> </div> </a>  <a ng-click=\"setEpisode(episodeObject.number, episodeObject.default_lang)\" ng-if=\"useSetEpFunc\"> <div class=\"overlay full-width full-height high-index\" layout=\"row\" layout-align=\"center center\"> <i class=\"material-icons cursor-pointer fs-50\" ng-bind=\"lang.global.icons.play_border\"></i> <div class=\"bottom-0 right-0 mg-all-5 white-text absolute no-select anime-episodes-duration\" ng-show=\"episodeObject.duration\" ng-bind=\"episodeObject.duration\"> </div> <div class=\"progress no-margin bottom-0 left-0 absolute\" ng-show=\"episodeObject.resumeProgress\"> <div class=\"progress-bar\" role=\"progressbar\" ng-style=\"{'width': episodeObject.resumeProgress + '%'}\"></div> </div> </div> </a> <img src=\"https://anilivery.aniwatch.me/img/thumbnails/default.png\" lazy-load=\"episodeObject.thumbnail\" alt=\"{{episodeObject.title ? episodeObject.title : 'Episode ' + episodeObject.number}}\" ng-class=\"{'cover-blur': session.blur_thumbnails && episodeObject.number > search.anime.progress}\"> <span class=\"filler-caption absolute\" ng-show=\"episodeObject.filler\" ng-bind=\"'Filler'\"></span> </div> <div class=\"card-content animelist-default\" ng-class=\"{'animelist-completed': episodeObject.watched}\"> <p class=\"card-title mb-10 overflow-ellipsis\"> <span ng-bind-html=\"(episodeObject.number + ') ') + (episodeObject.title && (!session.mask_episode_info || episodeObject.number <= search.anime.progress) ? episodeObject.title : 'Episode ' + episodeObject.number)\"></span> </p> <p class=\"readmore lh-10\" ng-bind=\"(episodeObject.is_aired === false ? lang.anime.will_air : lang.anime.aired) + (': ') + (episodeObject.added * 1000 | date:'dd/MM/yyyy') + (episodeObject.is_aired === false && search.anime.broadcast_time_string !== -1 ? ', ' + search.anime.broadcast_time_string : '')\"></p> <p> <div layout=\"row\" class=\"mt-10\"> <div flex=\"60\" layout=\"row\" layout-align=\"start end\"> <a class=\"waves-effect waves-grey btn-flat with-bg\" ng-class=\"{'activator': (!session.mask_episode_info || episodeObject.number <= search.anime.progress)}\" ng-bind=\"lang.anime.description_text\" ng-click=\"session.admin ? copyToClipboard(episodeObject.ep_id) : '';\" ng-disabled=\"(session.mask_episode_info && episodeObject.number > search.anime.progress)\"></a>  <a class=\"waves-effect waves-grey btn-flat without-bg\" ng-href=\"/anime/{{episodeObject.detail_id}}/{{episodeObject.number}}\" ng-if=\"!useSetEpFunc\" ng-bind=\"lang.anime.watch_text\"></a>  <a class=\"waves-effect waves-grey btn-flat without-bg\" ng-click=\"setEpisode(episodeObject.number, episodeObject.default_lang)\" ng-if=\"useSetEpFunc\" ng-bind=\"lang.anime.watch_text\"></a> </div> <div flex=\"40\" layout=\"row\" layout-align=\"end start\"> <div layout=\"column\"> <div layout=\"row\" layout-align=\"start center\" ng-class=\"{'no-opacity': episodeObject.lang.dub === false}\"> <i class=\"material-icons mr-3\" ng-bind=\"lang.global.icons.sound\"></i> <i class=\"flag flag-en mg-all-1\" ng-hide=\"episodeObject.lang.endub === 0\"></i> <i class=\"flag flag-de mg-all-1\" ng-hide=\"episodeObject.lang.dedub === 0\"></i> </div> <div layout=\"row\" layout-align=\"start center\" ng-class=\"{'no-opacity': episodeObject.lang.sub === false}\"> <i class=\"material-icons mr-3\" ng-bind=\"lang.global.icons.caption\"></i> <i class=\"flag flag-en mg-all-1\" ng-hide=\"episodeObject.lang.ensub === 0\"></i> <i class=\"flag flag-de mg-all-1\" ng-hide=\"episodeObject.lang.desub === 0\"></i> </div> </div> </div> </div> </p> </div> <div class=\"card-reveal\"> <span class=\"card-title\"> <span ng-bind=\"episodeObject.title ? episodeObject.title : 'Episode ' + episodeObject.number\"></span> <i class=\"material-icons right\" ng-bind=\"lang.global.icons.close\"></i> </span> <p> <span class=\"card-text\" ng-bind-html=\"episodeObject.description ? episodeObject.description : lang.anime.no_description\"></span> </p> </div> </div></div>"),e.put("Loading","<div layout=\"row\" layout-sm=\"column\" layout-align=\"space-around\" class=\"angular-preloader angular-main-preloader\" ng-show=\"true\"> <md-progress-circular md-mode=\"indeterminate\"></md-progress-circular></div>"),e.put("Media","<div layout=\"row\" layout-xs=\"column\" class=\"card-row mt-20 anime-media-boxes\"> <div flex-xs=\"100\" flex-sm=\"50\" flex-md=\"33\" flex-lg=\"25\" flex-xl=\"25\" class=\"card-margin full-width\" ng-repeat=\"media in mediaObj\"> <div class=\"portfolio-item full-width\"> <div class=\"card\"> <div class=\"card-image waves-effect waves-block waves-light\"> <a ng-href=\"/media/{{media.media_id}}\"> <div class=\"overlay full-width full-height high-index\" layout=\"row\" layout-align=\"center center\"> <i class=\"material-icons cursor-pointer fs-50\"> play_circle_outline </i> </div> </a> <img src=\"https://anilivery.aniwatch.me/img/thumbnails/yt_default.jpg\" lazy-load=\"media.media_thumb\" alt=\"{{media.media_title}}\"> </div> <div class=\"card-content\"> <p class=\"card-title mh-50\"> <span ng-if=\"media.media_occurrence > 0\">{{media.media_occurrence}})</span> <span ng-bind-html=\"(media.media_title | limitTo: 32) + (media.media_title.length >= 32 ? '...' : '')\"></span> </p> <p> <div layout=\"row\" class=\"mt-10\"> <div flex=\"100\" layout=\"row\"> <a class=\"waves-effect waves-grey btn-flat without-bg\" ng-href=\"/media/{{media.media_id}}\">Listen</a> </div> </div> </p> </div> </div> </div> </div></div>"),e.put("PrivacyPolicy","<md-content class=\"mt-40\" style=\"overflow: hidden !important\" ng-cloak> <div layout=\"row\"> <div flex> <div class=\"pp_head\"> <h3 class=\"section-title text-capitalize no-margin\">Privacy Policy</h3> <small class=\"db\">Effective date: February 16, 2019 | Last update: June 15, 2019</small> <p class=\"mt-10\"> Aniwatch (\"us\", \"we\", or \"our\") operates the <a ng-href=\"https://aniwatch.me\">https://aniwatch.me</a> website (the \"Service\").<br> This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data. We use your data to provide and improve the Service.<br><br> <strong>By using the Service, you agree to the collection and use of information in accordance with this policy.</strong> </p> </div> <hr class=\"mg-20\"> <div class=\"pp_info\"> <h5>Information Collection And Use</h5> <p>We collect several different types of information for various purposes to provide and improve our Service to you.</p> <h5>Types of Data Collected:</h5> <ul> <li> Usage Data <p>We may also collect information how the Service is accessed and used (\"Usage Data\"). This Usage Data may include information such as your computer's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data.</p> </li> <li> Tracking & Cookies Data <p>We use cookies and similar tracking technologies to track the activity on our Service and hold certain information.<br> Cookies are files with small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Tracking technologies also used are beacons, tags, and scripts to collect and track information and to improve and analyze our Service.<br> You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service.<br><br> Examples of Cookies we use:</p> <ul> <li><strong>Session Cookies.</strong> We use Session Cookies to operate our Service.</li> <li><strong>Preference Cookies.</strong> We use Preference Cookies to remember your preferences and various settings.</li> <li><strong>Security Cookies.</strong> We use Security Cookies for security purposes.</li> </ul> </li> </ul> <h5>Use of Data</h5> <p>Aniwatch uses the collected data for various purposes:</p> <ul> <li>To provide and maintain the Service</li> <li>To notify you about changes to our Service</li> <li>To allow you to participate in interactive features of our Service when you choose to do so</li> <li>To provide customer care and support</li> <li>To provide analysis or valuable information so that we can improve the Service</li> <li>To monitor the usage of the Service</li> <li>To detect, prevent and address technical issues</li> </ul> <h5>Transfer Of Data</h5> <p> Your information, including Personal Data, may be transferred to \u2014 and maintained on \u2014 computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from your jurisdiction.<br> Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer.<br> Aniwatch will take all steps reasonably necessary to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of your data and other personal information. </p> <h5>Disclosure Of Data</h5> <p>Aniwatch may disclose your Personal Data in the good faith belief that such action is necessary to:</p> <ul> <li>To comply with a legal obligation</li> <li>To protect and defend the rights or property of Aniwatch</li> <li>To prevent or investigate possible wrongdoing in connection with the Service</li> <li>To protect the personal safety of users of the Service or the public</li> <li>To protect against legal liability</li> </ul> <h5>Security Of Data</h5> <p> The security of your data is important to us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security. </p> <h5>Analytics</h5> <p>We may use third-party Service Providers to monitor and analyze the use of our Service, such as:</p> <ul> <li> Google Analytics <p> Google Analytics is a web analytics service offered by Google that tracks and reports website traffic. Google uses the data collected to track and monitor the use of our Service. This data is shared with other Google services. Google may use the collected data to contextualize and personalize the ads of its own advertising network.<br> You can opt-out of having made your activity on the Service available to Google Analytics by installing the Google Analytics opt-out browser add-on. The add-on prevents the Google Analytics JavaScript (ga.js, analytics.js, and dc.js) from sharing information with Google Analytics about visits activity.<br> For more information on the privacy practices of Google, please visit the Google Privacy & Terms web page: <a target=\"_blank\" href=\"https://policies.google.com/privacy?hl=en\">https://policies.google.com/privacy?hl=en</a>. </p> </li> </ul> <h5>Links To Other Sites</h5> <p> Our Service may contain links to other sites that are not operated by us. If you click on a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit.<br> We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services. </p> <h5>Changes To This Privacy Policy</h5> <p> We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page.<br> We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update the \"effective date\" at the top of this Privacy Policy.<br> You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page. </p> <h5>Your Data</h5> <p>There are two options on how you can manage your data on the Service.</p> <ul> <li> Anonymization of your Data <p> Since we don't delete accounts on the Service, you can request an anonymization of your account. Please contact our <a href=\"mailto:{{Utils.deObfMailSup('6hill', 'fx0ej', '2l', 35, 34, 33)}}\">support</a> with the email you registered your account with to do so. After that you should delete all cookies and the cache from the Service. </p> </li> <li> Insight into your Data <p> You can request an insight into your data on the Service anytime. Please contact our <a href=\"mailto:{{Utils.deObfMailSup('6hill', 'fx0ej', '2l', 35, 34, 33)}}\">support</a> with the email you registered your account with to do so. </p> </li> </ul> <h5>DMCA Takedown</h5> <p> Please contact us by <a href=\"mailto:{{Utils.deObfMail('7dv', 'e7rhm', '2j', 36, 35, 34)}}\">email</a>. </p> <h5>Contact Us</h5> <p> If you have any questions about this Privacy Policy or would like to know something which isn't stated here, please contact us by <a href=\"mailto:{{Utils.deObfMailSup('6hill', 'fx0ej', '2l', 35, 34, 33)}}\">email</a>. </p> </div> </div> </div></md-content>"),e.put("reCaptcha","<div vc-recaptcha on-create=\"aniReModelCreate(widgetId)\" on-success=\"aniReModelSuccess(response)\" on-expire=\"aniReModelExpiration()\"\n></div>"),e.put("Recommendation","<div flex> <div layout=\"row\" layout-align=\"end center\" class=\"mb-10\"> <md-menu> <md-button aria-label=\"Open order menu\" class=\"no-margin\" ng-click=\"$mdMenu.open($event);\" layout=\"row\" layout-align=\"center center\"> {{rCurView === 0 ? 'Box View' : (rCurView === 1 ? 'List View' : 'Compact View')}} </md-button> <md-menu-content width=\"2\"> <md-menu-item> <md-button aria-label=\"Show episode list in box view\" ng-click=\"updateCurView(0, 2); Utils.setPreference(6, 0);\" ng-class=\"{'md-selected': rCurView === 0}\" ng-bind=\"'Box view'\"></md-button> </md-menu-item> <md-menu-item> <md-button aria-label=\"Show episode list in list view\" ng-click=\"updateCurView(1, 2); Utils.setPreference(6, 1);\" ng-class=\"{'md-selected': rCurView === 1}\" ng-bind=\"'List view'\"></md-button> </md-menu-item> <md-menu-item> <md-button aria-label=\"Show episode list in compact mode\" ng-click=\"updateCurView(2, 2); Utils.setPreference(6, 2);\" ng-class=\"{'md-selected': rCurView === 2}\" ng-bind=\"'Compact mode'\"></md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <hr> <div ng-init=\"anime_boxes = 1\" ng-include=\"'AnimeBoxes'\"></div> <md-content class=\"md-padding mt-20\" layout-xs=\"column\" layout=\"row\" ng-show=\"rCurView === 1 || rCurView === 2\"> <div flex layout=\"column\"> <md-list flex layout=\"column\"> <md-list-item class=\"md-2-line\"> <div class=\"md-list-item-text\" layout=\"row\"> <h3 flex=\"75\" flex-xs=\"70\" layout=\"row\" layout-align=\"center center\"><b>Entry</b></h3> <h3 flex=\"5\" flex-xs=\"0\" layout=\"row\" layout-align=\"center center\"><b>Users</b></h3> </div> </md-list-item> <md-list-item class=\"md-2-line\" ng-href=\"/anime/{{entry.detail_id}}\" ng-class=\"{'animelist-completed': entry.completed, 'animelist-watching': entry.watching, 'animelist-default': entry.planned_to_watch, 'animelist-on_hold': entry.on_hold, 'animelist-dropped': entry.dropped, 'border': !entry.completed && !entry.watching && !entry.planned_to_watch && !entry.on_hold && !entry.dropped}\" ng-repeat=\"entry in recommendations\" aria-label=\"{{entry.title}}\"> <div class=\"md-list-item-text anime-entry pd-ub-10\" layout=\"row\" layout-align=\"start center\"> <h3 flex=\"75\" flex-xs=\"70\"> <div layout=\"row\" layout-align=\"none center\">  <div class=\"ml-10\" hide show-sm show-md show-lg show-xl ng-hide=\"rCurView === 2\"> <a ng-href=\"/anime/{{entry.detail_id}}\"> <img src=\"https://anilivery.aniwatch.me/img/covers/lazy.png\" lazy-load=\"entry.cover\" ng-class=\"{'cover-blur-less': session.nsfw && (entry.type === 'Hentai' || entry.hasNudity)}\" class=\"responsive-cover\" alt=\"{{entry.title}} cover\"> </a> </div>  <div layout=\"column\" class=\"ml-10 overflow-ellipsis\"> <span ng-bind-html=\"entry.title\" class=\"overflow-ellipsis\"></span> <div layout=\"row\"> <span class=\"fs-15\" ng-bind=\"!entry.type || entry.type === 0 ? 'Unknown' : entry.type\"></span> <span ng-bind=\"lang.global.seperator\" class=\"ml-5 mr-5\"></span> <span class=\"fs-15\" ng-bind=\"entry.airing_start_unknown ? 'Unknown' : (entry.airing_index_unknown ? entry.airing_start.split(' ')[1] : entry.airing_start)\"></span> </div> <span ng-bind=\"'Eps.: ' + (entry.episodes_max != 0 ? entry.episodes_max : '?')\"></span> <span hide show-xs ng-bind=\"entry.recommendations + ' Users'\"></span> </div> </div> </h3>  <h3 flex=\"5\" flex-xs=\"0\" layout=\"row\" layout-align=\"center center\"> <span ng-bind=\"entry.recommendations\"></span> </h3>  <h3 flex=\"20\" flex-xs=\"30\" layout=\"row\" layout-align=\"center center\"> <span class=\"label\" ng-class=\"{'pink': entry.d_status == 1 || entry.d_status == 4, 'green': entry.d_status == 2, 'orange': entry.d_status == 3}\" ng-bind=\"Utils.statusToString(entry.d_status)\"></span> </h3> </div> </md-list-item> </md-list> </div> </md-content></div>"),e.put("Relation","<div flex> <div layout=\"row\" layout-xs=\"column\" class=\"push-top-xxs\" layout-align=\"center center\"> <div flex=\"66\" flex-xs=\"100\"> <div class=\"full-width text-center\"> <h5 class=\"md-headline\" ng-bind-html=\"relation.title\"></h5> <p class=\"md-subhead\" ng-bind-html=\"relation.description ? relation.description : 'No description available yet.'\"></p> </div> </div> </div> <div layout=\"row\" layout-align=\"end center\" class=\"mb-10\"> <md-menu> <md-button aria-label=\"Open order menu\" class=\"no-margin\" ng-click=\"$mdMenu.open($event);\" layout=\"row\" layout-align=\"center center\"> {{rCurView === 0 ? 'Box View' : (rCurView === 1 ? 'List View' : 'Compact View')}} </md-button> <md-menu-content width=\"2\"> <md-menu-item> <md-button aria-label=\"Show episode list in box view\" ng-click=\"$parent.rCurView = 0; Utils.setPreference(3, 0); updateCurView(0, 1);\" ng-class=\"{'md-selected': rCurView === 0}\" ng-bind=\"'Box view'\"></md-button> </md-menu-item> <md-menu-item> <md-button aria-label=\"Show episode list in list view\" ng-click=\"$parent.rCurView = 1; Utils.setPreference(3, 1); updateCurView(1, 1);\" ng-class=\"{'md-selected': rCurView === 1}\" ng-bind=\"'List view'\"></md-button> </md-menu-item> <md-menu-item> <md-button aria-label=\"Show episode list in compact mode\" ng-click=\"$parent.rCurView = 2; Utils.setPreference(3, 2); updateCurView(2, 1);\" ng-class=\"{'md-selected': rCurView === 2}\" ng-bind=\"'Compact mode'\"></md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <hr> <div ng-init=\"anime_boxes = 1\" ng-include=\"'AnimeBoxes'\"></div> <md-content class=\"md-padding mt-20\" layout-xs=\"column\" layout=\"row\" ng-show=\"rCurView === 1 || rCurView === 2\"> <div flex layout=\"column\"> <md-list flex layout=\"column\"> <md-list-item class=\"md-2-line\"> <div class=\"md-list-item-text\" layout=\"row\"> <h3 flex=\"75\" flex-xs=\"70\" layout=\"row\" layout-align=\"center center\"><b>Entry</b></h3> <h3 flex=\"5\" flex-xs=\"0\" layout=\"row\" layout-align=\"center center\"><b>Eps.</b></h3> </div> </md-list-item> <md-list-item class=\"md-2-line\" ng-href=\"/anime/{{entry.detail_id}}\" ng-class=\"{'animelist-completed': entry.completed, 'animelist-watching': entry.watching, 'animelist-default': entry.planned_to_watch, 'animelist-on_hold': entry.on_hold, 'animelist-dropped': entry.dropped, 'border': !entry.completed && !entry.watching && !entry.planned_to_watch && !entry.on_hold && !entry.dropped}\" ng-repeat=\"entry in relation.entries\" aria-label=\"{{entry.title}}\"> <div class=\"md-list-item-text anime-entry pd-ub-10\" layout=\"row\" layout-align=\"start center\"> <h3 flex=\"75\" flex-xs=\"70\"> <div layout=\"row\" layout-align=\"none center\">  <div class=\"ml-10\" hide show-sm show-md show-lg show-xl ng-hide=\"rCurView === 2\"> <a ng-href=\"/anime/{{entry.detail_id}}\"> <img src=\"https://anilivery.aniwatch.me/img/covers/lazy.png\" lazy-load=\"entry.cover\" ng-class=\"{'cover-blur-less': session.nsfw && (entry.type === 'Hentai' || entry.hasNudity)}\" class=\"responsive-cover\" alt=\"{{entry.title}} cover\"> </a> </div>  <div layout=\"column\" class=\"ml-10 overflow-ellipsis\"> <span ng-bind-html=\"entry.title\" class=\"overflow-ellipsis\"></span> <div layout=\"row\"> <span class=\"fs-15\" ng-bind=\"!entry.type || entry.type === 0 ? 'Unknown' : entry.type\"></span> <span ng-bind=\"lang.global.seperator\" class=\"ml-5 mr-5\"></span> <span class=\"fs-15\" ng-bind=\"entry.airing_start_unknown ? 'Unknown' : (entry.airing_index_unknown ? entry.airing_start.split(' ')[1] : entry.airing_start)\"></span> </div> <span hide show-xs ng-bind=\"'Eps.: ' + (entry.episodes_max != 0 ? entry.episodes_max : '?')\"></span> </div> </div> </h3>  <h3 flex=\"5\" flex-xs=\"0\" layout=\"row\" layout-align=\"center center\"> <span ng-bind=\"entry.episodes_max != 0 ? entry.episodes_max : '?'\"></span> </h3>  <h3 flex=\"20\" flex-xs=\"30\" layout=\"row\" layout-align=\"center center\"> <span class=\"label\" ng-class=\"{'pink': entry.d_status == 1 || entry.d_status == 4, 'green': entry.d_status == 2, 'orange': entry.d_status == 3}\" ng-bind=\"Utils.statusToString(entry.d_status)\"></span> </h3> </div> </md-list-item> </md-list> </div> </md-content></div>")}]),app.run(["$rootScope","Utils","Path","$cookies","$location","ngProgressFactory","HTTPService","$route","AniwatchMeta","$window","vcRecaptchaService","$css","$templateCache","Anibar","AniDOM",function(t,i,a,n,s,o,r,l,d,c,m,p,g,h,u){var b=Math.trunc;if(p.add("https://anilivery.aniwatch.me/css/public/aniwatch.min.css"),p.add("https://anilivery.aniwatch.me/app/css/Chat.css"),p.add("https://anilivery.aniwatch.me/css/aniwatch-extended.css"),p.add("https://anilivery.aniwatch.me/css/dark-theme.css"),document.querySelector("head").insertAdjacentHTML("beforeend","\n        <style>\n        .ng-hide.ng-hide-animate,\n        .ng-show.ng-show-animate {\n            display: none !important;\n            transition: 0s none !important;\n            -webkit-transition: 0s none !important;\n            animation: 0s none !important;\n            -webkit-animation: 0s none !important;\n        }\n\n        .container {\n            max-width: 1370px;\n        }\n        @media (min-width:768px) {\n            .container {\n                width: 750px;\n            }\n        }\n        @media (min-width:992px) {\n            .container {\n                width: 970px;\n            }\n        }\n        @media only screen and (min-width:1200px) {\n            .container {\n                width: 1170px;\n            }\n        }\n        @media only screen and (min-width:1300px) {\n            .container {\n                width: 1270px;\n            }\n        }\n        @media only screen and (min-width:1400px) {\n            .container {\n                width: 1370px;\n            }\n        }\n       </style>\n    "),document.body.addEventListener("keydown",function(i){if("F5"==i.key&&!i.ctrlKey)return i.preventDefault(),t.reloadRoute(),!1}),t.$on("$viewContentLoaded",function(){("/home"===s.path()||"/"===s.path())&&g.remove("https://nocache.aniwatch.me/app/Templates/MOTD.html")}),b=b||function(e){return e=+e,isFinite(e)?e-e%1||(0>e?-0:0===e?e:0):e},t.session=n.getObject("SESSION")||{},t.session.userid){r.setHeader("X-AUTH",t.session.auth);var f={nsfw:1,chrLogging:1,mask_episode_info:0,blur_thumbnails:0,autoplay:1,preview_thumbnails:1,update_watchlist:1,update_watchlist_notification:1,playheads:1,player_lang:1,player_quality:0,player_time_left_side:2,player_time_right_side:3,seek_time:5,update_watchlist_percentage:80,screen_orientation:1,hide_chat:0};Object.keys(f).forEach(function(e){t.session.hasOwnProperty(e)&&void 0!==t.session[e]&&null!==t.session[e]||(t.session[e]=f[e])}),t.session.nsfw&&(t.cache["de-DE"].home.banner.hentai="Specials",t.cache["en-US"].home.banner.hentai="Specials"),t.navbar.account.dropdown.profile["@attributes"].href+="/"+t.session.userid}var y=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"].sort(function(){return .5-Math.random()}).join(""),v=Array.apply(null,Array(parseInt(32))).map(function(){var e=b(Math.random()*y.length);return y.substring(e,e+1)}).join("");n.put("XSRF-TOKEN",v,{domain:".aniwatch.me",secure:!0}),"serviceWorker"in navigator&&navigator.serviceWorker.register("worker/sw.js",{scope:"/"}).then(function(){})["catch"](function(e){console.log("The following error occured when registering the service worker:",e)}),t.resizeFSBanner=function(){var e=document.querySelector(".fullscreen-banner");e&&(e.style.height=c.innerHeight+"px")},t.resizeFSBanner(),t.vpWidth=c.innerWidth,angular.element(c).bind("resize",function(){var e=c.innerWidth;e!==t.vpWidth&&(t.resizeFSBanner(),t.vpWidth=e)}),angular.element(c).bind("scroll",function(){var e=c.innerWidth;if(1<c.pageYOffset?(768<e&&t.AniDOM.header.classList.add("sticky"),t.AniDOM.toTop.style.display="block"):(768<e&&t.AniDOM.header.classList.remove("sticky"),t.AniDOM.toTop.style.display="none"),t.AniDOM.body.classList.contains("context-menu-active")){var i=document.querySelector("#context-menu-layer");i&&(i.outerHTML="");var a=document.querySelector(".context-menu-root");a&&(a.outerHTML=""),t.AniDOM.body.classList.remove("context-menu-active")}}),t.getIEVersion=function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/),t=e?parseInt(e[1],10):null;if(t){var i=document.querySelector("html");i&&i.classList.add("ie"+t)}},t.getIEVersion(),t.doSmoothScroll=function(){window.scrollTo({top:0,behavior:"smooth"})},t.current_date=new Date().getTime(),t.cYes=!1,t.loading=!1,t.current_timezone="CEST",t.isGoogleBot=/googlebot/i.test(navigator.userAgent),t.isPrerenderBot=/prerender/i.test(navigator.userAgent),t.AniDOM=u,t.Utils=i,t.Path=a,t.AniwatchMeta=d,t.AniReCaptcha=m,t.allAnimeYears=[],t.airingYearsOptions={minYear:1965,maxYear:new Date().getFullYear()+2},t.Utils.LoopNum(t.airingYearsOptions.minYear,t.airingYearsOptions.maxYear+1,function(e){t.allAnimeYears.push({str:e})}),t.allAnimeAirings=[{str:"Winter",index:0},{str:"Spring",index:1},{str:"Summer",index:2},{str:"Fall",index:3}],t.lang={},t.progressbar=o.createInstance(),t.filterOptions=null,t.aniReModel={id:null,response:null},t.aniReModelCreate=function(e){t.aniReModel.id=e},t.aniReModelSuccess=function(e){t.aniReModel.response=e},t.aniReModelExpiration=function(){null!==t.aniReModel.id&&void 0!==t.aniReModel.id&&t.aniReModel.response&&t.AniReCaptcha.reload(t.aniReModel.id),t.aniReModel.response&&(t.aniReModel.response=null)},t.available_langs=[{css:"en",key:"en-US",display:"English"},{css:"de",key:"de-DE",display:"Deutsch"}],t.selLang=n.get("LANGUAGE")||"en-US",t.selectedLanguage="en-US"===t.selLang?t.available_langs[0]:t.available_langs[1],t.fetchLang=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(e){var i=e.key;t.selectedLanguage=e,t.setLang(i),t.cache[i]&&(t.lang=t.cache[i],t.lang.active=i,t.onLangChange())}},t.setLang=function(e){var i=new Date;i.setFullYear(2038),n.put("LANGUAGE",e,{expires:i,domain:".aniwatch.me",secure:!0}),t.selLang=e},t.onLangChange=function(){t.filterOptions=[{value:2,str:t.lang.airing.filter_options.all,count:0},{value:0,str:t.lang.airing.filter_options.watching,count:0},{value:3,str:t.lang.airing.filter_options.new_episodes,count:0},{value:1,str:t.lang.airing.filter_options.completed,count:0},{value:5,str:"On Hold",count:0},{value:6,str:"Dropped",count:0},{value:4,str:t.lang.airing.filter_options.planned_to_watch,count:0}]},h.init(0),s.path_update=function(e,i){if(s.path()!=e){var a=l.current,n=t.$on("$locationChangeSuccess",function(){a&&(l.current=a,a=null),n(),n=null});s.path(e),i||s.replace()}},s.search_update=function(e,i){var a=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=l.current,o=t.$on("$locationChangeSuccess",function(){n&&(l.current=n,n=null),o(),o=null});s.search(e,i),a&&s.replace()}}]),app.run(["$rootScope","$location","AuthenticationService","Toast",function(e,t,i,a){e.$on("$routeChangeSuccess",function(){e.AniwatchMeta.set("")}),e.$on("$locationChangeSuccess",function(){"/login"===t.path()&&e.session.userid?t.path("/home"):"/logout"===t.path()&&e.session.userid&&(a.Show("Successfully logged out. Now redirecting.."),i.ClearCredentials())}),e.$on("$routeChangeStart",function(t){e.loading&&t.preventDefault()})}]),app.run(["$rootScope","$route","HTTPService","$location","$timeout","Swal","Headline","Anilyr","Toast","Anibar",function(e,t,i,a,n,s,o,r,l){e.initNgPro=function(t){if(!e.loading){e.progressbar.start(),e.loading=!0,document.querySelector("div[preloader]").style.display="none",e.enable_banner=!1;var n=document.querySelector(".showhide");if(n&&"none"!==n.style.display){var s=document.querySelector("#materialize-menu-dropdown");s&&(s.style.display="none")}i.setHeader("X-PATH",a.path()),t&&(e.fetchLang(e.selectedLanguage),t())}},e.initSite=function(t,i){if(e.loading){e.switchNavbar(t),e.progressbar.complete();var a=function(){e.loading=!1;var t=document.querySelector(".md-menu-backdrop.md-click-catcher");t&&(t.outerHTML="");var a=document.querySelector("div[preloader]");a&&(a.style.display="block"),e.handlePreloader(),e.handleCarousel(),e.handleHeadline(),e.handleRandomBanner(),i&&i.call(null,!0)};n(a,0)}},e.handlePreloader=function(){"none"!==e.AniDOM.preloader.style.display&&(e.AniDOM.preloader.style.display="none")},e.handleRandomBanner=function(){if("/"===a.path()||"/home"===a.path()||"Home"===e.AniwatchMeta.title()){var t=["home-banner","home-banner-2","home-banner-3"],i=Math.trunc(Math.random()*t.length),n="https://anilivery.aniwatch.me/img/banners/%BANNER%.jpg".replace("%BANNER%",t[i]),s=document.querySelector(".banner-home-1");s&&(s.style.backgroundImage="url("+n+")")}},e.handleCarousel=function(){if("/"===a.path()||"/home"===a.path()||"Home"===e.AniwatchMeta.title()){$(".featured-carousel[data-owl-option]").owlCarousel({loop:!1,margin:0,autoplay:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3},1300:{items:4}}});var t=document.querySelectorAll(".featured-carousel[data-owl-option] .owl-dot");t&&t.forEach(function(e,t){var i=t+1;4<=i&&(i-=3),e.setAttribute("aria-label","Owl Page "+i)})}},e.handleHeadline=function(){("/search"===a.path()||"Search"===e.AniwatchMeta.title())&&o.init()},e.switchNavbar=function(e){var t=document.querySelectorAll("header ul li");if(t)if(t.forEach(function(e){return e&&e.classList.remove("active")}),e=e.toLowerCase(),"anime"!==e){var i=document.querySelector("header ul li a[href^=\""+e+"\"]");if(!i)return;i.parentNode.classList.add("active"),i.parentNode.parentNode.classList.contains("dropdown")&&i.parentNode.parentNode.parentNode.classList.add("active")}else{var a=document.querySelector("header ul li.anime-indicator");a&&a.classList.add("active")}},e.mobileTest=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e.iOSTest=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,e.isMobile=function(){return e.mobileTest},e.iOS=function(){return e.iOSTest},e.reloadRoute=function(){e.loading||(r.init(!0),t.reload())},e.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,t.readonly="",t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),l.Show("Copied!")},e.toggleCard=function(e){var t=$(e.currentTarget).closest(".anime-boxes"),i=200,a="",n="";t.find(".ani").is(":visible")?(n="up",t.find(".ani").hide(),a="-20",t.find(".title-limit").show(),t.find(".title-no-limit").hide(),t.find(".airing-at").fadeIn(i)):(n="down",t.find(".ani").show(),a="-100",t.find(".title-limit").hide(),t.find(".title-no-limit").show(),t.find(".airing-at").fadeOut(i)),$(e.currentTarget).html("keyboard_arrow_"+n),t.find(".card-reveal").css("transform","translateY("+a+"%)")},e.loginNeeded=function(){return s.Info("Please login in order to use this feature.")},e.premiumNeeded=function(){return s.Info("You have to be premium in order to use this feature.")}}]),app.run(["$rootScope","$window","$location",function(t,i,a){t.isMobile()||$(document.body).on("contextmenu",function(){return!$("body").hasClass("swal2-shown")&&!(t.Anilyr&&t.Anilyr.plyr&&t.Anilyr.plyr.fullscreen.active)&&void $.contextMenu({selector:"body",zIndex:1051,animation:{duration:100,show:"fadeIn",hide:"fadeOut"},build:function build(n,s){if(!s.target.attributes["ng-right-click"]){var e=t.handleSelection();if(s.target&&s.target.closest("div.user")){var o=s.target.closest("div.user");return{callback:function callback(e){if("openProfile"==e){var n=o.getAttribute("data-profile");if(!n)return;a.path("/profile/"+n)}else if("openAnime"==e){var s=o.getAttribute("data-b1");if(!s||0>=s)return;a.path("/anime/"+s)}else if("openEpisode"==e){var t=o.getAttribute("data-b1"),i=o.getAttribute("data-b2");if(!t||!i||0>=t||0>=i)return;a.path("/anime/"+t+"/"+i)}},items:{openProfile:{name:"Profile"},sep1:o.getAttribute("data-b1")&&0<o.getAttribute("data-b1")?"---------":{visible:!1},openAnime:{name:"Open Anime",visible:function visible(){return o.getAttribute("data-b1")&&0<o.getAttribute("data-b1")}},openEpisode:{name:"Open Episode",visible:function visible(){return o.getAttribute("data-b1")&&o.getAttribute("data-b2")&&0<o.getAttribute("data-b1")&&0<o.getAttribute("data-b2")}}}}}return{callback:function callback(n){if("back"==n)i.history.back();else if("forward"==n)i.history.forward();else if("copyText"==n){if(!e)return;t.copyToClipboard(e)}else if("copyLink"==n||"openLink"==n){var o=t.linkVisibility(s);if(!o)return;var r=o.href;"/"===r.charAt(0)&&(r="https://aniwatch.me"+r),"openLink"==n?i.open(r,"_blank"):"copyLink"==n&&t.copyToClipboard(r)}else if("reload"==n)t.reloadRoute();else if("swAni"==n){if(!e)return;a.path("/search").search({q:encodeURIComponent(e)})}else if("swGoogle"==n){if(!e)return;i.open("https://www.google.com/search?q="+encodeURIComponent(e),"_blank")}},items:{back:{name:"Back"},forward:{name:"Forward"},copyText:{name:"Copy",disabled:function disabled(){return!t.cmVisibility()}},reload:{name:"Reload"},sep1:t.linkVisibility(s)?"---------":{visible:!1},copyLink:{name:"Copy link address",visible:function visible(){return t.linkVisibility(s)}},openLink:{name:"Open link in new tab",visible:function visible(){return t.linkVisibility(s)}},sep2:t.cmVisibility()?"---------":{visible:!1},swAni:{name:"Search on Aniwatch",visible:function visible(){return t.cmVisibility()}},swGoogle:{name:"Search on Google",visible:function visible(){return t.cmVisibility()}}}}}}})}),t.handleSelection=function(){return t.cmVisibility?i.getSelection().toString():null},t.cmVisibility=function(){return""==!i.getSelection().toString().trim()},t.linkVisibility=function(t){return t.target&&t.target.closest("a[href]")}}]),app.run(["Analytics",function(){}]),app.directive("ngRightClick",["$parse",function(e){return function(t,i,a){var n=e(a.ngRightClick);i.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),n(t,{$event:e})})})}}]),app.directive("datePickerInit",["$rootScope",function(e){return{restrict:"A",link:function link(t,i,a){var n=new Date;1==a.dpMode?t.edit_episode_number&&(n=t.episodes[t.edit_episode_number.number-1].added?new Date(1e3*t.episodes[t.edit_episode_number.number-1].added):new Date):2==a.dpMode?t.search&&(n=t.search.anime.launch_day?new Date(1e3*t.search.anime.launch_day):new Date):3==a.dpMode&&t.search&&(n=0<=t.search.anime.exAiring?new Date(new Date().getTime()+864e5*(t.search.anime.exAiring+7)):new Date),$(i).datepicker({defaultDate:n,setDefaultDate:!0,firstDay:1,yearRange:[e.airingYearsOptions.minYear,e.airingYearsOptions.maxYear]})}}}]),app.directive("timePickerInit",function(){return{restrict:"A",link:function link(e,t){var i=0<e.search.anime.broadcast_time?e.search.anime.broadcast_time:"now";$(t).timepicker({defaultTime:i,twelveHour:!1})}}}),app.directive("autoFocus",["$timeout",function(e){return{restrict:"A",link:function link(t,i){e(function(){i[0].focus()},0)}}}]),app.directive("aniOnChange",function(){return{restrict:"A",link:function link(e,t,i){var a=e.$eval(i.aniOnChange);t.on("change",a),t.on("$destroy",function(){t.off()})}}}),app.directive("aniSlider",function(){return{restrict:"A",link:function link(e,t,i){var a=[e.airingYearsOptions.minYear,e.airingYearsOptions.maxYear],n=!0;i.aniSliderSingle&&(n=[!0,!1]);var s={animate:!0,animationDuration:300,start:[a[0],a[1]],tooltips:[!0,wNumb({decimals:0})],connect:n,step:1,orientation:"horizontal",range:{min:a[0],max:a[1]},format:wNumb({decimals:0})};i.aniSliderSingle&&(s.start=new Date().getFullYear(),s.tooltips=!0),noUiSlider.create(t[0],s);var o,r,l,d;i.aniSliderSingle?(o=function(e){var t=document.querySelector("span[ani-slider-year=\"\"]");t&&(t.innerHTML=e[0])},l=function(){e.year&&(o(e.year),t[0].noUiSlider.set(e.year[0]))},d="year"):(o=function(e){var t=document.querySelector("span[ani-slider-year-from=\"\"]"),i=document.querySelector("span[ani-slider-year-to=\"\"]");t&&i&&(t.innerHTML=e[0],i.innerHTML=e[1])},l=function(){e.yearRange&&(o(e.yearRange),t[0].noUiSlider.set(e.yearRange))},d="yearRange"),r=function(t){e[d]=t},i.aniSliderEventUpdate&&t[0].noUiSlider.on("update",function(e){return o(e)}),i.aniSliderEventChange&&t[0].noUiSlider.on("change",function(e){return r(e)}),i.aniSliderEventWatch&&e.$watch(d,l)}}}),app.directive("lazyLoad",["$parse",function(e){return{restrict:"A",link:function link(t,i,a){var n=angular.element(i)[0];if("IntersectionObserver"in window){var s=new IntersectionObserver(function(i){i.forEach(function(i){if(i.isIntersecting){var n=i.target;n.src=e(a.lazyLoad)(t),s.unobserve(n)}})});s.observe(n)}else n.src=e(a.lazyLoad)(t)}}}]),app.filter("chatdate",["$filter",function(e){return function(t){var i=new Date,a=new Date(t);return a.getDate()===i.getDate()&&a.getMonth()===i.getMonth()&&a.getFullYear()===i.getFullYear()?"Today at "+e("date")(a.getTime(),"h:mm a"):a.getDate()===i.getDate()-1&&a.getMonth()===i.getMonth()&&a.getFullYear()===i.getFullYear()?"Yesterday at "+e("date")(a.getTime(),"h:mm a"):e("date")(a.getTime(),"dd/MM/yyyy h:mm a")}}]),app.filter("anidate",["$filter",function(e){return function(t){var i=new Date,a=new Date(t);return a.getDate()===i.getDate()&&a.getMonth()===i.getMonth()&&a.getFullYear()===i.getFullYear()?"Today":a.getDate()===i.getDate()-1&&a.getMonth()===i.getMonth()&&a.getFullYear()===i.getFullYear()?"Yesterday":e("date")(a.getTime(),"dd/MM/yyyy")}}]),app.filter("trustUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]),app.filter("localeTime",["$filter",function(){return function(e){var t=Math.abs,i=new Date().getTimezoneOffset()/60,a=-2-i,n=60*t(a);return 0>a?e-=n:e+=n,e}}]),app.factory("AuthenticationService",["$cookies","$rootScope","$location","HTTPService","Path","Toast","Swal",function(e,t,i,a,n,s,o){var r={};return r.Login=function(e,i,n){var l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";a.Execute({username:e,password:btoa(i),code:l,controller:"Authentication",action:"doLogin"},t).then(function(t){t.success?(s.Show("Successfully logged in. Now redirecting.."),r.SetCredentials(t.user,t.auth,t.token,n)):(!0===t.is_2fa&&o.Input("Please enter the digit code. This account is protected by 2FA.").then(function(t){t.value&&r.Login(e,i,n,t.value)}),s.Show(t.error))})},r.Register=function(e,i,n){n=btoa(n),a.Execute({username:e,email:i,password:n,response:t.aniReModel.response,controller:"Authentication",action:"doRegister"},t).then(function(e){e.success?o.Success("Successfully registered. Please confirm your email address in order to login"):o.Error(e.error),t.aniReModelExpiration()})},r.ForgotPW=function(){o.Input("Please enter the email address which is linked to your account. After that, you will receive a mail where you can change your password.","","email").then(function(e){e.value&&a.Execute({controller:"Authentication",action:"doForgotPW",email:btoa(e.value)},t).then(function(e){e.success?s.Show("Done! If the email address you typed in is valid, check your inbox. If not, \xAF\\_(\u30C4)_/\xAF"):s.Show(e.error)})})},r.ResetPW=function(e){o.Input("Please enter your new password. Afterwards you can login.","","password").then(function(i){i.value&&a.Execute({controller:"Authentication",action:"doResetPW",password:btoa(i.value),token:e},t).then(function(e){e.success?s.Show("Done. You can now login!"):s.Show(e.error)})})},r.SetCredentials=function(e,t,i,a){r.UpdatePerms(e,t,i,a,function(){n.doCleanReload()})},r.UpdatePerms=function(i,n,s,o,l){var d=t.session.auth;""!=n&&(d=n),t.session=i,t.session.auth=d,t.session.remember_login=o,r.UpdateSession(o),a.setHeader("X-AUTH",t.session.auth),e.put("XSRF-TOKEN",s,{domain:".aniwatch.me",secure:!0}),l&&l()},r.UpdateSession=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,a={domain:".aniwatch.me",secure:!0};if(i||(i=t.session.remember_login),i){var n=new Date;n.setFullYear(2038),a.expires=n}e.putObject("SESSION",t.session,a)},r.ClearCredentials=function(){t.session={},e.remove("SESSION",{domain:".aniwatch.me"}),a.setHeader("X-AUTH",""),-1==i.path().indexOf("/login")&&n.doCleanReload()},r}]),app.factory("HTTPService",["$http","$rootScope","Swal","$cookies","$window","$timeout",function(e,t,i,a,n,s){var o={};return o.Execute=function(r,l){var d=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(l.httpIsRequesting=!1,!l.httpIsRequesting){l.httpIsRequesting=!0,d&&(t.progressbar.start(),l.dataLoading=!0);var c=e({method:"POST",url:"https://aniwatch.me/api/ajax/APIHandle",data:JSON.stringify(r)}).then(function(e){var i=e.data;return d&&(t.progressbar.complete(),l.dataLoading=!1),("string"==typeof i||i instanceof String)&&(i={success:!1,error:i}),l.httpIsRequesting=!1,i},function(e){var r=e.data;return d&&(t.progressbar.complete(),l.dataLoading=!1),("string"==typeof r||r instanceof String)&&(r={success:!1,error:r}),"no-hash"===r.error?(i.Error("Your session expired. Please login again.",!0),t.session={},a.remove("SESSION",{domain:".aniwatch.me"}),o.setHeader("X-AUTH",""),s(function(){n.location.reload()},3e3)):-1===r.error.indexOf("You have been banned")?-1!==r.error.indexOf("Please confirm your email")&&i.Error(r.error,!0):(i.Error(r.error,!0),t.session={},a.remove("SESSION",{domain:".aniwatch.me"}),o.setHeader("X-AUTH",""),s(function(){n.location.reload()},3e3)),l.httpIsRequesting=!1,r});return c}},o.setHeader=function(t,i){e.defaults.headers.common[t]=i},o}]),app.factory("Swal",["$rootScope","$window","$compile",function(e,t,i){var a={};return a.CopyLinkModal=function(i){var a="";i&&(a+="\n            <div class=\"input-field\">\n                <label class=\"active\">Link</label>\n                <div class=\"layout-row\" layout-align=\"center center\">\n                    <input anilyr-discord-screenshot type=\"text\" class=\"full-width no-margin\" value=\"".concat(i,"\" readonly>\n                    <button class=\"md-raised md-primary md-button md-ink-ripple\" id=\"anilyr_screenshot_swal_button_1\">\n                        Copy\n                    </button>\n                    <button class=\"md-raised md-primary md-button md-ink-ripple\" id=\"anilyr_screenshot_swal_button_2\">\n                        Open\n                    </button>\n                </div>\n            </div>\n            ")),swal.fire({title:"Upload done!",showConfirmButton:!1,showCloseButton:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,html:a,onBeforeOpen:function onBeforeOpen(){var a=Swal.getContent(),n=a.querySelector.bind(a);if(i){var s=n("#anilyr_screenshot_swal_button_1"),o=n("#anilyr_screenshot_swal_button_2");s.addEventListener("click",function(){e.copyToClipboard(document.querySelector("input[anilyr-discord-screenshot=\"\"]").value)}),o.addEventListener("click",function(){t.open(document.querySelector("input[anilyr-discord-screenshot=\"\"]").value,"_blank")})}}})},a.DownloadModal=function(t){var a,n,s=["swal2-shown","swal2-height-auto"];(a=e.AniDOM.html.classList).add.apply(a,s),(n=e.AniDOM.body.classList).add.apply(n,s);var o=i(angular.element("\n            <div class=\"swal2-container swal2-center swal2-fade swal2-shown\" style=\"overflow-y: auto;\">\n                <div aria-labelledby=\"swal2-title\" aria-describedby=\"swal2-content\" class=\"swal2-popup swal2-modal swal2-show\" tabindex=\"-1\" role=\"dialog\" aria-live=\"assertive\" aria-modal=\"true\" style=\"display: flex;\">\n                    <div class=\"swal2-header\">\n                        <h2 class=\"swal2-title\" id=\"swal2-title\" style=\"display: flex;\">Download streams</h2>\n                    </div>\n                    \n                    <div class=\"swal2-content\">\n                        <div id=\"swal2-content\" style=\"display: block;\">\n                            <hr class=\"mg-20\">\n                \n                            <div class=\"flex full-width\">\n                                <p class=\"progress-caption\" layout=\"row\" layout-align=\"center center\">\n                                    <span ng-bind=\"'Progress:'\" class=\"mr-5\"></span>\n                                    <span ng-bind=\"Downloader.curSegments + '/' + Downloader.allSegments + ' chunks'\"></span>\n                                </p>\n                                <div class=\"progress no-margin\">\n                                    <div class=\"progress-bar\" role=\"progressbar\" style=\"width: {{Downloader.progress}}%;\"></div>\n                                </div>\n                                <p layout=\"column\" layout-align=\"start start\" class=\"no-margin\">\n                                    <span ng-bind=\"Downloader.progress + '%'\"></span>\n                                    <div class=\"mt-20\">\n                                        <a id=\"swal_dl_abort_btn\">Abort download</a>\n                                    </div>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            "))(t);e.AniDOM.body.insertAdjacentElement("beforeend",o[0])},a.ShareModal=function(t){var n,s,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:14400,r=["swal2-shown","swal2-height-auto"];(n=e.AniDOM.html.classList).add.apply(n,r),(s=e.AniDOM.body.classList).add.apply(s,r);var l=i(angular.element("\n            <div class=\"swal2-container swal2-center swal2-fade swal2-shown\" style=\"overflow-y: auto;\">\n                <style>\n                .md-open-menu-container {\n                    z-index: 1061 !important;\n                }\n                </style>\n                <div aria-labelledby=\"swal2-title\" aria-describedby=\"swal2-content\" class=\"swal2-popup swal2-modal swal2-show\" tabindex=\"-1\" role=\"dialog\" aria-live=\"assertive\" aria-modal=\"true\" style=\"display: flex;\">\n                    <div class=\"swal2-header\">\n                        <h2 class=\"swal2-title\" id=\"swal2-title\" style=\"display: flex;\">Share episode</h2>\n                    </div>\n                    \n                    <div class=\"swal2-content\">\n                        <div id=\"swal2-content\" style=\"display: block;\">\n                            <div class=\"input-field\">\n                                <label class=\"active\">Link</label>\n                                <div layout=\"row\" layout-align=\"center center\">\n                                    <input\n                                    type=\"text\"\n                                    class=\"full-width no-margin\"\n                                    ng-model=\"shareModalLink\"\n                                    readonly=\"\">\n                                    <md-button\n                                    class=\"md-raised md-primary\"\n                                    ng-click=\"$root.copyToClipboard(shareModalLink)\">\n                                        Copy\n                                    </md-button>\n                                </div>\n                            </div>\n                            \n                            <hr class=\"mg-20\">\n\n                            <div layout=\"column\" class=\"text-left\">\n                                <div layout=\"row\" layout-align=\"start center\">\n                                    <div flex=\"70\">\n                                        <md-checkbox\n                                        class=\"no-margin\"\n                                        aria-label=\"Share Episode Start At\"\n                                        ng-checked=\"shareModalStartAtCheck\"\n                                        ng-click=\"fetchShareEpisodeLink(1)\">\n                                            Start at\n                                        </md-checkbox>\n                                    </div>\n                                    <div flex>\n                                        <input type=\"number\" min=\"0\" max=\"".concat(o,"\" ng-model=\"shareModalStartAtInput\">\n                                    </div>\n                                </div>\n                                <div layout=\"row\" layout-align=\"start center\">\n                                    <div flex=\"70\">\n                                        <md-checkbox\n                                        class=\"no-margin\"\n                                        aria-label=\"Share Episode Include Language\"\n                                        ng-checked=\"shareModalIncludeLangCheck\"\n                                        ng-click=\"fetchShareEpisodeLink(2)\">\n                                            Include language\n                                        </md-checkbox>\n                                    </div>\n                                    <md-menu>\n                                        <md-button aria-label=\"Open order menu\" class=\"no-margin\" ng-click=\"$mdMenu.open($event);\" layout=\"row\" layout-align=\"center center\">\n                                            {{shareModalIncludeLangInput.str}}\n                                        </md-button>\n                                        <md-menu-content width=\"2\">\n                                            <md-menu-item ng-repeat=\"f in anime_avail_langs\">\n                                                <md-button\n                                                aria-label=\"Airing filter\"\n                                                ng-click=\"selectShareLang(f);\"\n                                                ng-class=\"{'md-selected': shareModalIncludeLangInput === f}\"\n                                                ng-bind=\"f.str\"></md-button>\n                                            </md-menu-item>\n                                        </md-menu-content>\n                                    </md-menu>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            ")))(t);e.AniDOM.body.insertAdjacentElement("beforeend",l[0]);var d=document.querySelector(".swal2-container");d&&d.addEventListener("click",function(e){e.target.classList.contains("swal2-container")&&a.close()});var c=document.querySelector("input[ng-model=\"shareModalStartAtInput\"]");c&&c.addEventListener("input",function(){t.fetchShareEpisodeLink()})},a.ScreenshotModal=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Bla",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Discord",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"Download";return swal((e={text:t,confirmButtonText:"OK",imageUrl:i,showCancelButton:!0,confirmButtonColor:"#348FFF",cancelButtonColor:"#D33"},_defineProperty(e,"confirmButtonText",a),_defineProperty(e,"cancelButtonText",n),_defineProperty(e,"showCloseButton",!0),e))},a.Info=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"It worked!";return swal({type:"info",title:"Info",text:e,confirmButtonText:"OK"})},a.Show=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Info",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"It worked!",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"OK",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"info";return swal({type:a,title:e,text:t,confirmButtonText:i})},a.ShowAsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Info",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"It worked!",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"OK",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"info";return swal({type:a,title:e,html:t,confirmButtonText:i})},a.Success=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"It worked!";swal({type:"success",title:"Success",text:e,confirmButtonText:"OK"})},a.Error=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"An unknown error occured!",t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i={type:"error",title:"Error",text:e,confirmButtonText:"OK"};!0===t&&(i.showConfirmButton=!1,i.showCloseButton=!1,i.allowOutsideClick=!1,i.allowEscapeKey=!1,i.allowEnterKey=!1),swal(i)},a.Question=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Are you sure?",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"You won't be able to revert this!",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Yes, remove it!",a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Cancel";return swal({title:e,text:t,type:a?"warning":"",showCancelButton:!0,confirmButtonColor:"#348FFF",cancelButtonColor:"#D33",confirmButtonText:i,cancelButtonText:n})},a.QuestionAsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Are you sure?",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"You won't be able to revert this!",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Yes, remove it!",a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Cancel";return swal({title:e,html:t,type:a?"warning":"",showCancelButton:!0,confirmButtonColor:"#348FFF",cancelButtonColor:"#D33",confirmButtonText:i,cancelButtonText:n})},a.Input=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"text";return swal({title:e,text:t,input:i,inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Submit",confirmButtonColor:"#348FFF",cancelButtonColor:"#D33"})},a.InputAsHTML=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"text";return swal({title:e,html:t,input:i,inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Submit",confirmButtonColor:"#348FFF",cancelButtonColor:"#D33"})},a.close=function(){var t,i;swal.close();var a=document.querySelector(".swal2-container");a&&(a.outerHTML="");var n=["swal2-shown","swal2-height-auto"];(t=e.AniDOM.html.classList).remove.apply(t,n),(i=e.AniDOM.body.classList).remove.apply(i,n)},a}]),app.factory("Toast",["$mdToast",function(e){return{Show:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"Success! It worked.",i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:3e3;e.show(e.simple().textContent(t).position("bottom right").hideDelay(i))},ShowAction:function(t){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:3e3;return e.show(e.simple().textContent(t).action("UNDO").highlightAction(!0).highlightClass("md-accent").position("bottom right").hideDelay(i))}}}]),app.factory("Utils",["HTTPService","$cookies","$filter","$rootScope","$location",function(e,t,i){var a=Math.trunc,n={};return n.LoopObj=function(e,t){if(null==e)throw new TypeError("obj is null or not defined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var a=Object(e),n=a.length>>>0,s=0;do{if(s in a){var o=a[s];t(o,s,a)}s++}while(s<n)},n.LoopNum=function(e,t,a){if(null==e||null==t||"number"!=typeof e||"number"!=typeof t)throw new TypeError("parameters are null, not defined or not numbers");if("function"!=typeof a)throw new TypeError(a+" is not a function");do a(e,t),e++;while(e<t)},n.inArray=function(e,t){return Array.prototype.indexOf&&-1!==e.indexOf(t)},n.isNumeric=function(e){return!isNaN(e)},n.sortNumeric=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return t?e.sort(function(e,t){return e-t}):e.sort(function(e,t){return t-e})},n.replace=function(e,t,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"g";if(e.length!=t.length)throw new TypeError(e.length+" and "+t.length+" must be equal");return n.LoopObj(e,function(e,n){var i=new RegExp(e,s);a=a.replace(i,t[n])}),a},n.removeItem=function(e,t){return e=e.filter(function(e){return!t.includes(e)})},n.isEmpty=function(e){return"undefined"==typeof e||0==e.length},n.limitTo=function(e,t){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"...";if(e&&t){if(e.length<=t)return e;var s=e.split(""),o="";return n.LoopNum(0,t,function(e){o+=s[e]}),i?o.trim()+a:o+a}},n.isJsonString=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},n.getCurrentDate=function(e){var t=new Date;return t.setDate(t.getDate()+e),i("date")(t.getTime(),"dd/MM/yyyy")},n.deObfMail=function(e,t,i,a,n,s){var o=(parseInt(e,a)+"").split("9").join("d").split("7").join("c").split("5").join("m").split("1").join("a"),r=(parseInt(t,n)+"").split("1").join("n").split("2").join("a").split("3").join("i").split("4").join("w").split("5").join("t").split("6").join("c").split("7").join("h"),l=(parseInt(i,s)+"").split("7").join("e").split("8").join("m");return o+"@"+r+"."+l},n.deObfMailSup=function(e,t,i,a,n,s){var o=(parseInt(e,a)+"").split("9").join("s").split("7").join("u").split("5").join("p").split("4").join("o").split("3").join("r").split("1").join("t"),r=(parseInt(t,n)+"").split("1").join("n").split("2").join("a").split("3").join("i").split("4").join("w").split("5").join("t").split("6").join("c").split("7").join("h"),l=(parseInt(i,s)+"").split("7").join("e").split("8").join("m");return o+"@"+r+"."+l},n.createFormData=function(e){var t=new FormData;return n.LoopObj(Object.keys(e),function(i){t.append(i,e[i])}),t},n.generateRandomBytes=function(e){return(Math.random().toString(e).substring(2)+Math.random().toString(e).substring(2)+Math.random().toString(e).substring(2)).toString(e)},n.readableTime=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=a(e),n=a(i/3600);i-=3600*n;var s=a(i/60),o=i-60*s;return t?"["+(10>n?0+(n+""):n)+"h"+(10>s?0+(s+""):s)+"m"+(10>o?0+(o+""):o)+"s]":"["+(10>n?0+(n+""):n)+":"+(10>s?0+(s+""):s)+":"+(10>o?0+(o+""):o)+"]"},n.httpAsPromise=function(t,i){return new Promise(function(a){e.Execute(t,i).then(function(e){a(e)})})},n.limitPages=function(e,t,i){return 0===e||e===t-1||!(e<i-5)&&!!(i+3>=e)},n.statusToString=function(e){var t="";return t=1==e?"Not yet aired":2==e?"Finished airing":3==e?"Currently airing":4==e?"TBA":"?",t},n.setPreference=function(e,i){var a="";if(1===e)a="ANIWATCH_PROFILE_ANIMELIST_VIEW";else if(2===e)a="ANIWATCH_ANIME_EPISODES_VIEW";else if(3===e)a="ANIWATCH_RELATION_VIEW";else if(5===e)a="ANIWATCH_WATCHLIST";else if(6===e)a="ANIWATCH_RECOMMENDATIONS_VIEW";else return;var n=new Date;n.setFullYear(2038),t.putObject(a,i,{expires:n,secure:!0})},n.getPreference=function(e){var i=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],a="";if(1===e)a="ANIWATCH_PROFILE_ANIMELIST_VIEW";else if(2===e)a="ANIWATCH_ANIME_EPISODES_VIEW";else if(3===e)a="ANIWATCH_RELATION_VIEW";else if(5===e)a="ANIWATCH_WATCHLIST";else if(6===e)a="ANIWATCH_RECOMMENDATIONS_VIEW";else return;var n;return n=i?t.getObject(a):t.get(a),n||void 0},n.chunk=function(e,t){for(var a=[],s=0,o=e.length;s<o;)a.push(e.slice(s,s+=t));return a},n.getHours=function(e){return a(e/60/60%60,10)},n.getMinutes=function(e){return a(e/60%60,10)},n.getSeconds=function(e){return a(e%60,10)},n.formatTime=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(isNaN(e))return formatTime(null,t,i);var a=function(e){return"0".concat(e).slice(-2)},s=n.getHours(e),o=n.getMinutes(e),r=n.getSeconds(e);return s=t||0<s?"".concat(s,":"):"","".concat(i&&0<e?"-":"").concat(s).concat(a(o),":").concat(a(r))},n.formatPlayerTime=function(e){var t=a(e/3600),i=a(e%3600/60),n=a(e%60),s="";return s+=0<t?""+t+":"+(10>i?"0":""):10>i?"0":"",s+=""+i+":"+(10>n?"0":""),s+=""+n,s},n.getYearDays=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;return(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(e.getFullYear(),0,0))/24/60/60/1e3-1},n.isObject=function(e){return e&&"object"===_typeof(e)&&!Array.isArray(e)},n.mergeDeep=function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];if(!i.length)return e;var s=i.shift();if(n.isObject(e)&&n.isObject(s))for(var o in s)n.isObject(s[o])?(e[o]||Object.assign(e,_defineProperty({},o,{})),n.mergeDeep(e[o],s[o])):Object.assign(e,_defineProperty({},o,s[o]));return n.mergeDeep.apply(n,[e].concat(i))},n.fromEntries=function(e){var t={},i=!0,a=!1,n=void 0;try{for(var s,o,r=e[Symbol.iterator]();!(i=(s=r.next()).done);i=!0)o=s.value,t[o[0]]=o[1]}catch(e){a=!0,n=e}finally{try{i||null==r["return"]||r["return"]()}finally{if(a)throw n}}return t},n.toURL=function(e){return /(?:http(s)?:\/\/)[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+/i.test(e)&&(e=e.replace(/(?:http(s)?:\/\/)[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+/gi,function(e){return"<a href=\"".concat(e,"\" rel=\"noreferrer\" target=\"_blank\">").concat(e,"</a>")})),e},n}]),app.factory("AniDOM",["$rootScope","$compile",function(e,t){var i={html:document.querySelector("html"),body:document.querySelector("body"),header:document.querySelector("header"),footer:document.querySelector("footer"),preloader:document.querySelector("#preloader"),toTop:document.querySelector(".ani-to-the-top"),chat:document.querySelector("div[ani-chat-container=\"\"]")};return i.compile=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=i;n&&(o=angular.element(i));var r=t(o)(a);return r?s?r:r[0]:null},i.prepend=function(e,t){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];i.insert(e,t,a,"afterbegin")},i.append=function(e,t){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];i.insert(e,t,a,"beforeend")},i.before=function(e,t){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];i.insert(e,t,a,"beforebegin")},i.after=function(e,t){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];i.insert(e,t,a,"afterend")},i.insert=function(e,t){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(!a)return null;var n=e instanceof Element?e:document.querySelector(e);return n?(i?n.insertAdjacentElement(a,t):n.insertAdjacentHTML(a,t),!0):null},i}]),app.factory("Path",["$location","$window","Utils",function(e,t,i){return{doCleanReload:function(){var i=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];i?e.path("/404"):t.location.reload()},goBack:function(){return t.history.back()},openSelf:function(t){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";if(""==a)e.url("/"+t);else{var n="";angular.isArray(a)?(i.LoopObj(a,function(e){n+=e+"/"}),n.substr(0,n.trim().length-1)):n=a,e.url("/"+t+"/"+n)}},openBlank:function(e){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";if(""==a)t.open("/"+e,"_blank");else{var n="";angular.isArray(a)?(i.LoopObj(a,function(e){n+=e+"/"}),n.substr(0,n.trim().length-1)):n=a,t.open("/"+e+"/"+n,"_blank")}},openLink:function(e){t.open(e,"_blank")}}}]),app.factory("AniwatchMeta",["$rootScope","$location",function(e,t){var i="",a="",n="",s="",o="";return{set:function set(r){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Get what's rightfully yours. Stream Anime, Movies, Hentais, Specials and more. Free, without any ads and in high definition!",d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"https://anilivery.aniwatch.me/img/site_icon/icon_512.png";i=r,a=l,n=window.location.href,s=t.path(),o=d;var c=" -";i||(c=""),document.querySelector("link[rel=\"canonical\"]").href=n,document.querySelector("meta[name=\"twitter:title\"]").content=document.querySelector("meta[property=\"og:title\"]").content=i,document.querySelector("title").innerHTML="".concat(i).concat(c," Aniwatch"),document.querySelector("meta[name=\"description\"]").content=document.querySelector("meta[property=\"og:description\"]").content=document.querySelector("meta[name=\"twitter:description\"]").content=a,document.querySelector("meta[name=\"twitter:image\"]").content=document.querySelector("meta[property=\"og:image\"]").content=o,e.session.userid&&e.$broadcast("$aniwatchMetaSet")},prefix:function prefix(){return"- Aniwatch"},title:function title(){return i},description:function description(){return a},path:function path(){return n},route:function route(){return s},image:function image(){return o}}}]),app.factory("Headline",["$timeout",function(e){var t={},i=2500,a=3800,n=a-3e3,s=50,o=500,r=600;return t.init=function(){t.singleLetters($(".tt-headline.letters").find("b")),t.animateHeadline($(".tt-headline"))},t.singleLetters=function(e){e.each(function(){var e=$(this),t=e.text().split(""),a=e.hasClass("is-visible");for(var s in t)0<e.parents(".rotate-2").length&&(t[s]="<em>"+t[s]+"</em>"),t[s]=a?"<i class=\"in\">"+t[s]+"</i>":"<i>"+t[s]+"</i>";var n=t.join("");e.html(n).css("opacity",1)})},t.animateHeadline=function(s){var o=i;s.each(function(){var i=$(this);if(i.hasClass("loading-bar"))o=a,e(function(){i.find(".tt-words-wrapper").addClass("is-loading")},n);else if(i.hasClass("clip")){var s=i.find(".tt-words-wrapper"),r=s.width()+10;s.css("width",r)}else if(!i.hasClass("type")){var l=i.find(".tt-words-wrapper b"),d=0;l.each(function(){var e=$(this).width();e>d&&(d=e)}),i.find(".tt-words-wrapper").css("width",d)}e(function(){t.hideWord(i.find(".is-visible").eq(0))},o)})},t.hideWord=function(l){var d=t.takeNext(l);if(l.parents(".tt-headline").hasClass("type")){var c=l.parent(".tt-words-wrapper");c.addClass("selected").removeClass("waiting"),e(function(){c.removeClass("selected"),l.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},o),e(function(){t.showWord(d,150)},o+800)}else if(l.parents(".tt-headline").hasClass("letters")){var m=!!(l.children("i").length>=d.children("i").length);t.hideLetter(l.find("i").eq(0),l,m,s),t.showLetter(d.find("i").eq(0),d,m,s)}else l.parents(".tt-headline").hasClass("clip")?l.parents(".tt-words-wrapper").animate({width:"2px"},r,function(){t.switchWord(l,d),t.showWord(d)}):l.parents(".tt-headline").hasClass("loading-bar")?(l.parents(".tt-words-wrapper").removeClass("is-loading"),t.switchWord(l,d),e(function(){hideWord(d)},a),e(function(){l.parents(".tt-words-wrapper").addClass("is-loading")},n)):(t.switchWord(l,d),e(function(){t.hideWord(d)},i))},t.showWord=function(i,a){i.parents(".tt-headline").hasClass("type")?(t.showLetter(i.find("i").eq(0),i,!1,a),i.addClass("is-visible").removeClass("is-hidden")):i.parents(".tt-headline").hasClass("clip")&&i.parents(".tt-words-wrapper").animate({width:i.width()+10},r,function(){e(function(){t.hideWord(i)},1500)})},t.hideLetter=function(a,n,s,o){a.removeClass("in").addClass("out"),a.is(":last-child")?s&&e(function(){t.hideWord(t.takeNext(n))},i):e(function(){t.hideLetter(a.next(),n,s,o)},o),a.is(":last-child")&&$("html").hasClass("no-csstransitions")&&t.switchWord(n,t.takeNext(n))},t.showLetter=function(a,n,s,o){a.addClass("in").removeClass("out"),a.is(":last-child")?(n.parents(".tt-headline").hasClass("type")&&e(function(){n.parents(".tt-words-wrapper").addClass("waiting")},200),!s&&e(function(){t.hideWord(n)},i)):e(function(){t.showLetter(a.next(),n,s,o)},o)},t.takeNext=function(e){return e.is(":last-child")?e.parent().children().eq(0):e.next()},t.takePrev=function(e){return e.is(":first-child")?e.parent().children().last():e.prev()},t.switchWord=function(e,t){e.removeClass("is-visible").addClass("is-hidden"),t.removeClass("is-hidden").addClass("is-visible")},t}]),app.factory("Anibar",["$timeout","$window",function(e,t){var i={},a={header:null,menu:null,navbar:null,items:null,dropdowns:null,showhide:null,curWidth:null,desktop:!1,mobileWidth:768};return i.init=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;e(function(){i.register(),i.registerResponsiveness(),i.registerEvents(),i.render(),a&&a()},t)},i.register=function(){return(a.header=document.querySelector("header"),!a.header)?i.error():(a.menu=document.querySelector("#materialize-menu"),!a.menu)?i.error():(a.navbar=a.menu.querySelector("#materialize-menu-dropdown"),!a.navbar)?i.error():(a.items=a.navbar.querySelectorAll("li"),!a.items)?i.error():(a.dropdowns=document.querySelectorAll("ul.dropdown"),a.dropdowns?void(a.curWidth=t.innerWidth):i.error())},i.registerResponsiveness=function(){a.menu.classList.add("menuzord-responsive"),a.navbar.classList.add("menuzord-indented"),a.navbar.classList.add("scrollable"),a.navbar.style.maxHeight="400px";var e=document.createElement("a");e.classList.add("showhide"),e.setAttribute("aria-label","Toggle Navbar"),e.setAttribute("href","javascript:void(0)"),a.curWidth<=a.mobileWidth?(a.navbar.style.display="none",e.style.display="inline"):(a.navbar.style.display="",e.style.display="none",a.desktop=!0),e.insertAdjacentHTML("afterbegin","<em></em><em></em><em></em>"),e.addEventListener("click",function(){a.navbar.style.display="none"===a.navbar.style.display?"":"none"}),a.showhide=e,a.menu.insertAdjacentElement("afterbegin",a.showhide)},i.registerEvents=function(){angular.element(t).bind("resize",function(){var e=t.innerWidth,n=t.pageYOffset;e<=a.mobileWidth?("none"!==a.navbar.style.display&&a.desktop&&(a.navbar.style.display="none",a.desktop=!1),a.showhide.style.display="inline",a.header&&a.header.classList.remove("sticky")):(a.navbar.style.display="",a.showhide.style.display="none",a.desktop=!0,i.hideAllDropdowns(),1<n?e>a.mobileWidth&&a.header.classList.add("sticky"):e>a.mobileWidth&&a.header.classList.remove("sticky"))})},i.render=function(){a.items.forEach(function(e){var n=e.querySelector("a"),s=e.querySelector("ul.dropdown");if(s&&n){var o=document.createElement("span");o.classList.add("indicator"),o.insertAdjacentHTML("afterbegin","<i class='fa fa-angle-down'></i>"),n.insertAdjacentElement("beforeend",o),n.addEventListener("click",function(){var e=t.innerWidth;e>a.mobileWidth||("block"===s.style.display?s.style.display="none":(i.hideAllDropdowns(),s.style.display="block"))})}s&&(!s.style.right&&(s.style.right="auto"),e.addEventListener("mouseout",function(){var e=t.innerWidth;e<=a.mobileWidth||(s.style.display="none")}),e.addEventListener("mouseover",function(){var e=t.innerWidth;e<=a.mobileWidth||(s.style.display="block")}))})},i.hideAllDropdowns=function(){a.dropdowns.forEach(function(e){return e.style.display="none"})},i.error=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"An unknown error occured when drawing the navbar. Please reload the page.";return console.error(e),!0},i}]),app.factory("AnilyrPreviewThumbnails",["$timeout","Utils",function(){var e={},t={player:null,thumbnails:[],loaded:!1,lastMouseMoveTime:Date.now(),mouseDown:!1,loadedImages:[],elements:{thumb:{},scrubbing:{}},currentScrubbingImageElement:null,config:null};return e.getProp=function(e){return t[e]},e.setProp=function(e,i){t[e]=i},e}]),app.factory("Anilyr",["$rootScope","$compile","$timeout","Toast","Swal","Utils","$interval","$location","AnilyrPreviewThumbnails","AniCast",function(t,i,a,n,s,o,r,l,d){var c=Math.trunc,m={anilyrResumeEpKey:"anilyr_resume",anilyrStorageKey:"anilyr"};return m.init=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];(!t.Anilyr||e)&&(t.Anilyr={plyr:null,hls:null,locationChangeStartEvent:null,previewThumbnails:null,screenshots:null,hotkeyEvent:null,fullscreenChangeEvent:null,orientationChangeEvent:null,hasBeenWatchingInterval:null,hidePlyrControlsTimeout:null,toast:{icon:null,text:null,timeout:null},settings:{speed:1}})},m.init(),m.identifyPlayer=function(){var e=$("div[id$=\"Events\"]").find("video")[0],t=e.getAttribute("data-src"),i="#"+e.getAttribute("id");return{video:e,source:t,player:i}},m.getCurrentTime=function(){var e=m.identifyPlayer(),t=e.video;return t.currentTime},m.setCurrentTime=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=m.identifyPlayer(),i=t.video;i.currentTime=e},m.videoIsSeeking=function(){var e=m.identifyPlayer(),t=e.video;return t.seeking},m.videoIsPlaying=function(){var e=m.identifyPlayer(),t=e.video;return!!(0<(!t.paused&&!t.ended&&t.currentTime))},m.controlPlayer=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=m.identifyPlayer(),a=i.video;if(1==e)m.videoIsPlaying()||a.play();else if(2==e)m.videoIsPlaying()&&a.pause();else if(3==e){if(isNaN(t))return;var n=c(t),s=c(a.currentTime);n!==s&&(0===n||n+1!==s&&n-1!==s)&&(!m.videoIsPlaying()&&a.play(),a.currentTime=t)}else if(4==e){if(isNaN(t))return;t!==a.currentTime&&(a.currentTime=t,m.videoIsPlaying()&&a.pause())}else 5==e&&(a.currentTime=t,m.videoIsPlaying()||a.play())},m.controlLoading=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e){var t=document.querySelector("div[id$=\"Events\"] [id=\"anilyr-loading\"]");t&&(1===e&&(t.style.display=""),2===e&&(t.style.display="none"))}},m.controlOverlay=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e){var t=document.querySelector("div[id$=\"Events\"]");t&&(1===e&&(t.style.pointerEvents="none"),2===e&&(t.style.pointerEvents="auto"))}},m.controlAutoplay=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e){var t=document.querySelector("#anilyr-autoplay");t&&(1===e&&(t.style.display=""),2===e&&(t.style.display="none"))}},m.stopPlayback=function(){var e=m.identifyPlayer(),i=e.video;i&&(i.pause(),i.removeAttribute("src"),i.load()),t.Anilyr&&t.Anilyr.hls&&(t.Anilyr.hls.stopLoad(),t.Anilyr.hls.destroy(),t.Anilyr.hls=null),m.controlOverlay(1)},m.destroyInstance=function(){t.Anilyr&&t.Anilyr.plyr&&(t.Anilyr.plyr.destroy(),t.Anilyr.plyr=null),t.Anilyr&&t.Anilyr.hotkeyEvent&&document.removeEventListener("keyup",t.Anilyr.hotkeyEvent),t.Anilyr&&t.Anilyr.fullscreenChangeEvent&&["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(function(i){document.removeEventListener(i,t.Anilyr.fullscreenChangeEvent)}),t.Anilyr&&t.Anilyr.orientationChangeEvent&&["orientationchange"].forEach(function(i){window.removeEventListener(i,t.Anilyr.orientationChangeEvent)}),t.Anilyr&&t.Anilyr.hasBeenWatchingInterval&&(r.cancel(t.Anilyr.hasBeenWatchingInterval),t.Anilyr.hasBeenWatchingInterval=null),d.setProp("config",null)},m.showToast=function(e,i){return t.Anilyr&&t.Anilyr.plyr&&!t.Anilyr.plyr.fullscreen.active||t.isMobile()?n.Show(i):void(t.Anilyr&&t.Anilyr.toast.timeout||(t.Anilyr.toast={icon:e,text:i,timeout:a(m.dismissToast,3e3)}))},m.dismissToast=function(){t.Anilyr&&t.Anilyr.toast.timeout&&(a.cancel(t.Anilyr.toast.timeout),t.Anilyr.toast={icon:null,text:null,timeout:null})},m.initPlayer=function(e,i){var n={YOUTUBE:!1,PATH:null,BIND_EVENTS:!0,EP_CONTROLS:!0,ANILYR_SCREENSHOTS:!0,EP_TITLE:!0,POSTER_ATTR:!0,FORCE_INIT:!1,NATIVE_PLAYER:!1,PLAYER_LANG:!0,THEATER_MODE:!0,DELAY_CALLBACK:0,SHOW_TIME:!0,NO_SETTINGS:!1,NO_SPEED_SETTINGS:!0,CLICK_TO_PLAY:!0,AUTO_PLAYBACK:!0,AUTO_PLAY:!0,SCOPE:null,SPRITES:null,LOADING_SPINNER:!0,HOTKEYS:!0,SEEK_TIME:t.session.seek_time||5,HIDE_WITH_CSS:!1,RESUME_STREAM:!0,UPDATE_WATCHLIST:!0,ENFORCE_LANDSCAPE:!0,ENFORCE_FULLSCREEN:!0,CAST_SUPPORT:!1};Object.keys(n).forEach(function(t){e.hasOwnProperty(t)||(e[t]=n[t])});var s=m.identifyPlayer(),o=s.video,r=s.source,d=s.player;if(m.controlLoading(1),m.controlAutoplay(2),(e.FORCE_INIT||!t.Anilyr.plyr)&&!e.NATIVE_PLAYER){var p=["play","progress","current-time","mute","volume","settings","pip","airplay","fullscreen"];t.isMobile()&&(delete p[3],delete p[4]);var g={autoplay:!0,controls:p,settings:e.NO_SETTINGS?[]:["speed","loop"],tooltips:{controls:!0,seek:!0},seekTime:e.SEEK_TIME,storage:{enabled:!0,key:m.anilyrStorageKey},invertTime:!1,toggleInvert:!1,clickToPlay:e.CLICK_TO_PLAY,keyboard:{focused:!0,global:!0},fullscreen:{enabled:!0,iosNative:!0},iconUrl:"https://anilivery.aniwatch.me/video/anilyr.svg",previewThumbnails:{enabled:!1,src:""}};e.YOUTUBE&&(g.youtube={noCookie:!0}),t.Anilyr.plyr=new Plyr(d,g);var h=document.querySelector(".plyr__controls");h&&(h.style.pointerEvents="all")}e.YOUTUBE&&(t.Anilyr.plyr.source={type:"video",sources:[{src:r,provider:"youtube"}],poster:"https://img.youtube.com/vi/"+r+"/maxresdefault.jpg"},m.controlOverlay(2));var c=null;e.PATH&&(1===e.PATH?c=function(){(!l.path().includes("/anime")||l.path().includes("/anime")&&2===(l.path().match(/\//g)||[]).length)&&(m.stopPlayback(),m.destroyInstance())}:2===e.PATH?c=function(){l.path().includes("/media")||m.destroyInstance()}:3===e.PATH&&(c=function(){(!l.path().includes("/watch2gether")||l.path().includes("/watch2gether")&&1===(l.path().match(/\//g)||[]).length)&&(m.stopPlayback(),m.destroyInstance())})),t.Anilyr.locationChangeStartEvent&&(t.Anilyr.locationChangeStartEvent(),t.Anilyr.locationChangeStartEvent=null),c&&(t.Anilyr.locationChangeStartEvent=e.SCOPE.$on("$locationChangeStart",c)),i&&e.DELAY_CALLBACK&&a(function(){i.call(null,!0)},e.DELAY_CALLBACK)},m}]),app.factory("AniCast",["$rootScope",function(){var e={};return e.initializeCastApi=function(){console.log("initializeCastApi");var t=new chrome.cast.SessionRequest(chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID),i=new chrome.cast.ApiConfig(t,e.sessionListener,e.receiverListener);chrome.cast.initialize(i,e.onInitSuccess,e.onError)},e.onInitSuccess=function(){console.log("onInitSuccess")},e.onError=function(t){console.log("onError",t)},e.sessionListener=function(t){console.log("sessionListener",t)},e.receiverListener=function(e){console.log("receiverListener",e),e===chrome.cast.ReceiverAvailability.AVAILABLE&&console.log("Start Casting!")},e.onSessionRequestSuccess=function(t){console.log("onSessionRequestSuccess",t);var i=new chrome.cast.media.MediaInfo("","application/vnd.apple.mpegurl"),a=new chrome.cast.media.LoadRequest(i);t.loadMedia(a,e.onMediaLoadSuccess,e.onError)},e.onMediaLoadSuccess=function(t){console.log("onMediaLoadSuccess",t)},e}]),app.controller("404Controller",["$scope","$rootScope",function(e,t){e.initNgPro(function(){e.initSite(e.controllerName),t.AniwatchMeta.set("404")})}]),app.controller("AiringController",["$scope","$rootScope","HTTPService","$interval",function(e,t,i,a){e.current_day=new Date().getDay(),0==e.current_day?e.current_day=6:e.current_day--,e.getAiringAnime=function(){i.Execute({controller:"Anime",action:"getAiringAnime"},e,!0).then(function(i){e.initSite(e.controllerName),t.AniwatchMeta.set("Airing Anime","Find all airing anime on Aniwatch!"),e.airing=i,e.animeObject=e.airing.entries})},e.initNgPro(function(){e.listFilter=e.filterOptions[0],e.getAiringAnime()}),e.selectMode=function(t){return e.listFilter=t},e.doTick=function(){return e.curTime=new Date().toLocaleString("de-DE",{timeZone:"Europe/Berlin",hour:"2-digit",minute:"2-digit",second:"2-digit"})},e.doTick(),a(e.doTick,1e3)}]),app.controller("AnimeController",["$rootScope","$routeParams","$location","$timeout","$scope","HTTPService","Swal","Toast","Anilyr","$compile","$interval",function(e,t,i,a,n,s,o,r,l,d){var c=Math.trunc;n.detail_id=t.detail_id,n.current_ep_number=0,n.epSelPage=1,n.view_index=0,n.mediaInit=!1,n.hls,n.plyr,n.isMobile=e.isMobile(),n.epTitleRegex=/^((episode:?\s[\d]+)|(untitled))$/i,n.is_downloading=!1,n.videoCurrentTime=0,n.date_now=new Date().getTime()/1e3,n.show_tags=!1,e.isGoogleBot&&(n.show_tags=!0),n.fillerEpisodes=null,n.loading={episodes:!1,watch:!1,relation:!1,reviews:!1,chronicle:!1,media:!1,recommendations:!1},n.sections=[{title:"Theme Songs",type:"Theme Song"},{title:"Openings",type:"Opening"},{title:"Endings",type:"Ending"},{title:"OSTs",type:"OST"}],n.listFilter=2,n.nsfw_warning=!1,n.showDescMask=function(){e.session.mask_episode_info&&r.Show("You cannot read descriptions, since mask episode info is enabled. Please disable it via Profile -> Settings -> General.")},n.setMeta=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"";e.AniwatchMeta.set(n.search.anime.title+t,n.search.anime.description?n.search.anime.description:"No description available yet.",n.search.anime.cover)},n.toggleNSFW=function(){var t=document.querySelector(".nsfw-container");if(t)t.remove();else{if(e.isGoogleBot)return;var i=document.querySelector("div[nsfw-wrapper=\"\"]");if(i){var a="";a=e.session.userid?"\n                    <div class=\"nsfw-container text-center\" style=\"display: block !important;\">\n                        <div layout=\"column\">\n                            <h3 ng-bind-html=\"lang.anime.nsfw_container\"></h3>\n                        </div>\n                    </div>\n                    ":"\n                    <div class=\"nsfw-container\" style=\"display: block !important;\">\n                        <div layout=\"column\">\n                            <h3 ng-bind-html=\"lang.anime.nsfw_container_v2\"></h3>\n                            <h3 class=\"ml-5\">\n                                <a ng-click=\"toggleNSFW()\" ng-bind=\"lang.general.yes\"></a> &dash; <a ng-href=\"/home\" ng-bind=\"lang.general.no\"></a>\n                            </h3>\n                        </div>\n                    </div>\n                    ";var s=d(angular.element(a))(n)[0];i.appendChild(s)}}},n.searchAnime=function(){s.Execute({controller:"Anime",action:"getAnime",detail_id:t.detail_id},n,!1).then(function(a){if(!a.success)n.initSite(n.controllerName,function(){i.path("/404"),a.error&&r.Show(a.error)});else{(!t.episode||isNaN(t.episode))&&n.initSite(n.controllerName),n.search=a,(!e.session.userid||e.session.nsfw)&&("Hentai"===n.search.anime.type||n.search.anime.hasNudity)&&n.toggleNSFW(),n.setMeta(),n.episodes_max=n.search.anime.episodes_max;var l=parseInt(e.Utils.getPreference(2));n.curView=e.isMobile()?2:isNaN(l)?1:0<=l&&2>=l?l:1,n.defaultLimit=0===n.curView?6:26;var s=parseInt(e.Utils.getPreference(3)),o=parseInt(e.Utils.getPreference(6));n.rCurViewV1=e.isMobile()?2:isNaN(s)?1:0<=s&&2>=s?s:1,n.rCurViewV2=e.isMobile()?2:isNaN(o)?1:0<=o&&2>=o?o:1,n.tabs_selected_index=0,n.getEpisodes(),n.rating_temp=n.search.anime.rating,n.remainingDaysToAir=n.search.anime.exAiringYearDays&&0<n.search.anime.exAiringYearDays?n.search.anime.exAiringYearDays-e.Utils.getYearDays():null}})},n.getEpisodes=function(){n.loading.episodes=!0,s.Execute({controller:"Anime",action:"getEpisodes",detail_id:t.detail_id},n,!1).then(function(i){if(n.loading.episodes=!1,!i.success)r.Show(e.lang.general.could_not_be_loaded.episodes);else if(n.episodes=i.episodes,0!=n.episodes.length)n.calcEpisodes(function(){if(t.episode&&!isNaN(t.episode)){if((!e.session.userid||e.session.nsfw)&&("Hentai"===n.search.anime.type||n.search.anime.hasNudity))return n.initSite(n.controllerName);var i=n.episodes[t.episode-1];i=i?i:{is_aired:!1},i.is_aired?n.watchAnime(t.episode,i,null,!0,function(){n.initSite(n.controllerName,function(){n.Utils.clearAnilyrQuery()})}):n.initSite(n.controllerName,function(){o.Info(e.lang.general.could_not_be_loaded.episode)})}});else if(t.episode&&!isNaN(t.episode)){if((!e.session.userid||e.session.nsfw)&&("Hentai"===n.search.anime.type||n.search.anime.hasNudity))return n.initSite(n.controllerName);n.initSite(n.controllerName,function(){o.Info(e.lang.general.could_not_be_loaded.episode)})}})},n.getRelation=function(){var t=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return n.search.anime.relation_id&&(!n.relation||t)?void(!t&&(n.loading.relation=!0),s.Execute({controller:"Relation",action:"getRelation",relation_id:n.search.anime.relation_id},n,!1).then(function(i){t||(n.loading.relation=!1),i.success?(n.relation=i.relation,n.animeObject=n.relation?n.relation.entries:null,n.rCurView=angular.copy(n.rCurViewV1)):r.Show(e.lang.general.could_not_be_loaded.relation)})):(n.animeObject=n.relation?n.relation.entries:null,void(n.rCurView=angular.copy(n.rCurViewV1)))},n.getChronicle=function(i){var a=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];n.chronicle&&!a||(!a&&(n.loading.chronicle=!0),s.Execute({controller:"Profile",action:"getChronicle",detail_id:t.detail_id,page:i},n,a).then(function(t){a||(n.loading.chronicle=!1),t.success?n.chronicle={entries:t.chronicle,pages:t.pages,selPage:i}:r.Show(e.lang.general.could_not_be_loaded.chronicle)}))},n.getMedia=function(){var i=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];n.mediaObj&&!i||(!i&&(n.loading.media=!0),s.Execute({controller:"Media",action:"getMedia",detail_id:t.detail_id},n,!1).then(function(t){i||(n.loading.media=!1),0==t.length?r.Show(e.lang.general.could_not_be_loaded.media):(n.mediaObj=t,!n.mediaObj.no_media&&n.switchMediaDetails())}))},n.getRecommendations=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return n.view_index=0,n.recommendations&&!e?(n.animeObject=n.recommendations,void(n.rCurView=angular.copy(n.rCurViewV2))):void(!e&&(n.loading.recommendations=!0),s.Execute({controller:"Anime",action:"getRecommendations",detail_id:t.detail_id},n,!1).then(function(t){e||(n.loading.recommendations=!1),t.success?(n.recommendations=t.entries,n.animeObject=n.recommendations,n.rCurView=angular.copy(n.rCurViewV2)):r.Show("Recommendations could not be loaded.")}))},n.updateCurView=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;null===e||null===t||(n.rCurView=e,n["rCurViewV"+t]=e)},n.toggleContainer=function(e){var t=$(".portfolio-container").get(e);$(t).slideToggle("fast")},n.calcEpisodes=function(e){n.epLimit=n.episodes.length<n.defaultLimit?n.episodes.length:n.defaultLimit,n.episodes_filter=[];for(var t=1,a=0,s=1;s<n.episodes.length;s+=n.epLimit){var o=s+n.epLimit-1,r=o+n.epLimit;o>n.episodes.length&&(o=n.episodes.length-s+o);var l=o-s+1;n.episodes_filter.push({begin:s-1,limit:l,str:t}),r>n.episodes.length&&(s=o+1,o=n.episodes.length-s+o+1,s<=o&&n.episodes_filter.push({begin:s-1,limit:l,str:t+1})),t++}a=c(n.search.anime.progress/n.epLimit),0==n.episodes_filter.length&&1==n.episodes.length&&n.episodes_filter.push({begin:0,limit:1,str:"1"}),n.Utils.LoopObj(n.episodes,function(e){e.filler&&n.fillerEpisodes++}),0<a&&n.episodes_filter[a]&&n.switchEpisodes(n.episodes_filter[a]),e&&e()},n.switchEpisodes=function(e){n.epLimit=e.limit,n.epBegin=e.begin,n.epSelPage=e.str},n.firstEpisode=function(){n.switchEpisodes(n.episodes_filter[0]),n.watchAnime(1,n.getEpObj(1,-1),null,!0)},n.lastEpisode=function(){n.switchEpisodes(n.episodes_filter[n.episodes_filter.length-1]);var e=0;n.episodes.map(function(t){return t.is_aired?e++:e}),n.watchAnime(e,n.getEpObj(e,-1),null,!0)},n.setCustomEpisode=function(){o.Input("Jump to an episode!","Where would you like to be taken?").then(function(e){if(e.value){var t=parseInt(e.value),i=n.episodes_filter[c((t-1)/n.defaultLimit)];if(!i)return r.Show("This episode does not exist yet.");n.switchEpisodes(i);var a=n.getEpObj(t,-1);if(!a)return r.Show("This episode does not exist yet.");n.watchAnime(t,a,null,!0)}})},n.episodeListView=function(t){n.curView=t,e.Utils.setPreference(2,t),n.defaultLimit=26;var i=c(n.search.anime.progress/n.defaultLimit);n.calcEpisodes(function(){n.switchEpisodes(n.episodes_filter[0<i?i:0])})},n.episodeThView=function(){n.curView=0,e.Utils.setPreference(2,0),n.defaultLimit=6;var t=c(n.search.anime.progress/n.defaultLimit);n.calcEpisodes(function(){n.switchEpisodes(n.episodes_filter[0<t?t:0])})},n.watchAnime=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"en-US",m=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3],p=4<arguments.length?arguments[4]:void 0;if(!e.session.userid)return p&&p(),o.Info("Please login in order to view streams.");if(d){var g=d.ep_id;if(g){if(!1===d.is_aired)return r.Show(e.lang.general.could_not_be_loaded.episode);l.stopPlayback(),l.setCurrentTime(),a&&(n.current_ep_number===a?m=!1:(n.current_ep_number=parseInt(a),n.setMeta(" - Episode "+n.current_ep_number),i.path_update("/anime/"+t.detail_id+"/"+n.current_ep_number,!1)));var h=n.switchHoster||"";if(!c){var u=i.search().t&&parseInt(i.search().t)||null,b=i.search().l||null,y=!1;if(u&&5<u||b&&["desub","ensub","dedub","endub"].includes(b)){var v={desub:"de-DE",dedub:"de-DE-DUB",ensub:"en-US",endub:"en-US-DUB"};v[b]!==c&&(c=v[b]),y=!0}if(e.session.playheads&&!c&&!y){var f=l.resumeEpisodeItem(n);f&&f.l!==c&&(c=f.l)}c||(c=n.cur_sel_lang||n.indexToLang(e.session.player_lang)||"")}n.cur_sel_lang=c,s.Execute({controller:"Anime",action:"watchAnime",lang:c,ep_id:g,hoster:h},n).then(function(e){if(0!==n.current_ep_number){if(n.anime=e,!n.anime.stream.no_streams){var s="";1===n.anime.stream.db_lang.lang?s+="en-US":2===n.anime.stream.db_lang.lang&&(s+="de-DE"),0===n.anime.stream.db_lang.subbed&&(s+="-DUB"),n.cur_sel_lang&&n.cur_sel_lang===s||(n.cur_sel_lang=s);var o={"en-US":{id:"ensub",str:"EngSub"},"de-DE":{id:"desub",str:"GerSub"},"en-US-DUB":{id:"endub",str:"EngDub"},"de-DE-DUB":{id:"dedub",str:"GerDub"}};n.anime_avail_langs=[],n.Utils.LoopObj(n.anime.lang,function(e){n.anime_avail_langs.push(o[e.id])})}var t=n.selectSource(n.cur_sel_qual);n.anime.stream.no_streams||(n.switchHoster=n.anime.stream.hosters[n.anime.stream.hosterKey]);var i=l.identifyPlayer(),a=i.video;a.setAttribute("data-src",t),n.assignFix(1),n.tabs_selected_index=1===n.search.anime.episodes_max?1:2,m&&n.markAsWatched(g),l.initPlayer({PATH:1,THEATER_MODE:!1,NO_SPEED_SETTINGS:!1,SCOPE:n,SPRITES:n.anime.stream.sprites?n.anime.stream.sprites:null,EP_CONTROLS:1!==n.search.anime.episodes_max}),p&&p()}})}}},n.getSourceExact=function(e){if("sd"===e)return"480p";return"hd"===e?"720p":"fullhd"===e?"1080p":"ld"===e?"360p":void 0},n.selectSource=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.indexToQual(e.session.player_quality),i=null;return t&&n.anime.stream.src[t]?i=n.anime.stream.src[t]:n.anime.stream.src.fullhd?(i=n.anime.stream.src.fullhd,t="fullhd"):n.anime.stream.src.hd?(i=n.anime.stream.src.hd,t="hd"):n.anime.stream.src.sd?(i=n.anime.stream.src.sd,t="sd"):n.anime.stream.src.ld?(i=n.anime.stream.src.ld,t="ld"):(i="",t=""),n.cur_sel_qual=t,i},n.indexToLang=function(e){return 0===e?"en-US-DUB":1===e?"en-US":2===e?"de-DE-DUB":3===e?"de-DE":"en-US"},n.indexToQual=function(e){return 0===e?"fullhd":1===e?"hd":2===e?"sd":3===e?"ld":"fullhd"},n.toggleDropdown=function(){$(".dropdown-menu").dropdown("toggle")},n.assignFix=function(e){0==e?$("md-tabs").addClass("tab-animation-fix"):1==e&&$("md-tabs").removeClass("tab-animation-fix")},n.getEpObj=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,a=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];t||(t=n.current_ep_number),i&&(t+=i);var s=n.episodes[t];return!!s&&(!1===s.is_aired?(a&&r.Show(e.lang.general.could_not_be_loaded.episode),!1):s)},n.nextEpisode=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;return e.session.userid?void(n.current_ep_number>n.episodes.length||!isNaN(t)&&t!==n.current_ep_number||(l.controlAutoplay(2),n.unsetAutoplayInterval(),l.destroyAnilyrScreenshots(),n.watchAnime(n.current_ep_number+1,n.getEpObj(),null,!0,function(e){e&&n.current_ep_number++}))):o.Info("Please login in order to view streams.")},n.prevEpisode=function(){return e.session.userid?void(1==n.current_ep_number||(l.controlAutoplay(2),n.unsetAutoplayInterval(),l.destroyAnilyrScreenshots(),n.watchAnime(n.current_ep_number-1,n.getEpObj(0,-2),null,!0,function(e){e&&n.current_ep_number--}))):o.Info("Please login in order to view streams.")},n.setEpisode=function(t){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return e.session.userid?t>n.search.anime.cur_episodes?r.Show("This episode does not exist yet."):void(l.controlAutoplay(2),n.unsetAutoplayInterval(),l.destroyAnilyrScreenshots(),n.watchAnime(t,n.getEpObj(t,-1),i,!0,function(e){e&&(n.current_ep_number=t)})):o.Info("Please login in order to view streams.")},n.stopAnime=function(){n.unsetAutoplayInterval(),n.tabs_selected_index=1===n.search.anime.episodes_max?0:1,a(function destroyIt(){n.anime=null,n.current_ep_number=0,i.path_update("/anime/"+t.detail_id),n.setMeta()},100)},n.switchLanguage=function(e,t){n.cur_sel_lang=t,n.watchAnime(e,n.getEpObj(e,-1),t,!1)},n.switchQuality=function(e,t,i){n.cur_sel_qual=t;var a=l.identifyPlayer();a.video.setAttribute("data-src",i),$("span.no-bg").removeClass("active"),$(e.currentTarget).addClass("active"),l.initPlayer({PATH:1,SCOPE:n,SPRITES:n.anime.stream.sprites?n.anime.stream.sprites:null})},n.markAsWatched=function(i){e.session.chrLogging&&1337!==t.detail_id&&s.Execute({controller:"Profile",action:"markAsWatched",detail_id:t.detail_id,episode_id:i},n,!1).then(function(e){e.success||r.Show(e.error)})},n.markAsCompleted=function(){return 1337==t.detail_id?r.Show(e.lang.anime.cannot_perform_on_best_anime):void s.Execute({controller:"Profile",action:"markAsCompleted",detail_id:t.detail_id},n,!1).then(function(e){e.success?(n.search.anime.completed=1,n.search.anime.watching=n.search.anime.planned_to_watch=n.search.anime.on_hold=n.search.anime.dropped=0,n.search.anime.progress=n.episodes.length,!n.search.anime.isOnAnimelist&&(n.search.anime.isOnAnimelist=1),n.Utils.LoopObj(n.episodes,function(e){e.watched=!0}),r.Show("Marked as completed!")):r.Show(e.error)})},n.markAsPlannedToWatch=function(){return 1337==t.detail_id?r.Show(e.lang.anime.cannot_perform_on_best_anime):void s.Execute({controller:"Profile",action:"markAsPlannedToWatch",detail_id:t.detail_id},n,!1).then(function(e){e.success?(n.search.anime.planned_to_watch=1,n.search.anime.watching=n.search.anime.dropped=n.search.anime.completed=n.search.anime.on_hold=0,!n.search.anime.isOnAnimelist&&(n.search.anime.isOnAnimelist=1),r.Show("Marked as plan to watch!")):r.Show(e.error)})},n.markAsOnHold=function(){return 1337==t.detail_id?r.Show(e.lang.anime.cannot_perform_on_best_anime):void s.Execute({controller:"Profile",action:"markAsOnHold",detail_id:t.detail_id},n,!1).then(function(e){e.success?(n.search.anime.on_hold=1,n.search.anime.watching=n.search.anime.dropped=n.search.anime.completed=n.search.anime.planned_to_watch=0,!n.search.anime.isOnAnimelist&&(n.search.anime.isOnAnimelist=1),r.Show("Marked as on hold!")):r.Show(e.error)})},n.markAsDropped=function(){return 1337==t.detail_id?r.Show(e.lang.anime.cannot_perform_on_best_anime):void s.Execute({controller:"Profile",action:"markAsDropped",detail_id:t.detail_id},n,!1).then(function(e){e.success?(n.search.anime.dropped=1,n.search.anime.watching=n.search.anime.on_hold=n.search.anime.completed=n.search.anime.planned_to_watch=0,!n.search.anime.isOnAnimelist&&(n.search.anime.isOnAnimelist=1),r.Show("Marked as dropped!")):r.Show(e.error)})},n.markAsWatching=function(){return 1337==t.detail_id?r.Show(e.lang.anime.cannot_perform_on_best_anime):void s.Execute({controller:"Profile",action:"markAsWatching",detail_id:t.detail_id},n,!1).then(function(e){e.success?(n.search.anime.watching=1,n.search.anime.dropped=n.search.anime.on_hold=n.search.anime.completed=n.search.anime.planned_to_watch=0,!n.search.anime.isOnAnimelist&&(n.search.anime.isOnAnimelist=1),r.Show("Marked as watching!")):r.Show(e.error)})},n.removeAnimeExt=function(){return 1337==t.detail_id?r.Show(e.lang.anime.cannot_perform_on_best_anime):void o.Question("Be aware!","Do you really want to remove this entry from your animelist?","Yes, remove it!").then(function(e){e.value&&s.Execute({controller:"Profile",action:"removeAnime",detail_id:t.detail_id},n).then(function(e){e.success?(n.search.anime.progress=n.search.anime.isOnAnimelist=n.search.anime.watching=n.search.anime.completed=n.search.anime.planned_to_watch=n.search.anime.dropped=n.search.anime.on_hold=n.search.anime.rating=0,n.Utils.LoopObj(n.episodes,function(e){e.watched=!1}),r.Show("Anime was removed from your list.")):r.Show(e.error)})})},n.toggleMarkedAsWatched=function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;if(1337==t.detail_id)return r.Show(e.lang.anime.cannot_perform_on_best_anime);if(!i)return r.Show("What have you done?");var a=n.getEpObj(0,-i,!0);!1===a?r.Show("An unknown error occured. Please close the stream and re-select the episode."):s.Execute({controller:"Profile",action:"markAsWatched",detail_id:t.detail_id,episode_id:a.ep_id,type:"animelist"},n,!1).then(function(t){if(!t.success)r.Show(t.error);else if(n.search.anime.progress=2===i?n.current_ep_number-1:n.current_ep_number,n.episodes[n.current_ep_number-1].watched=2!==i,n.Utils.LoopObj(n.episodes,function(e){1===i?e.ep_id<a.ep_id&&!e.watched&&(e.watched=!0):2===i&&e.ep_id>a.ep_id&&e.watched&&(e.watched=!1)}),n.search.anime.watching||(n.search.anime.watching=1),n.search.anime.planned_to_watch&&(n.search.anime.planned_to_watch=0),n.search.anime.isOnAnimelist||(n.search.anime.isOnAnimelist=1),2===i)n.search.anime.completed=0;else if(1===i){if(2===n.search.anime.status&&n.search.anime.episodes_max===n.search.anime.cur_episodes&&a.number===n.search.anime.episodes_max)return n.search.anime.completed=1,n.search.anime.watching=0,r.Show("Anime marked as completed!");e.session.update_watchlist_notification&&l.showToast("done","Episode completed")}})},n.removeAnime=function(){s.Execute({controller:"Profile",action:"removeAnime",detail_id:t.detail_id},n).then(function(e){e.success?(n.episodes[n.current_ep_number-1].watched=!1,n.search.anime.progress=n.search.anime.isOnAnimelist=n.search.anime.watching=n.search.anime.completed=n.search.anime.planned_to_watch=n.search.anime.dropped=n.search.anime.on_hold=n.search.anime.rating=0,r.Show("Anime was removed from your list.")):r.Show(e.error)})},n.toggleWatchlist=function(){n.episodes[n.current_ep_number-1].watched&&1===n.current_ep_number?n.removeAnime():n.episodes[n.current_ep_number-1].watched?n.toggleMarkedAsWatched(2):n.toggleMarkedAsWatched(1)},n.favMedia=function(e){s.Execute({controller:"Media",action:"favMedia",media_id:e.media_id},n).then(function(t){t.success?r.Show("Action successfully!"):r.Show(t.error),e.hasFaved=t.hasFaved,e.faved=t.faved})},n.getSeasonalRedirect=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;if(!n.search)return"";if(1===t||2===t){var i=1===t?n.search.anime.airing_index_unknown:n.search.anime.airing_end_unknown;if(i)return"";var a=1===t?n.search.anime.airing_start.split(" "):n.search.anime.airing_end.split(" ");return"/seasonal/"+e.allAnimeAirings.find(function(e){return e.str===a[0]}).index+"/"+a[1]}return""},n.tagToInt=function(e){return"Nudity"===e?1:"Isekai"===e?2:"Moe"===e?3:"Sukebei"===e?4:"CGI"===e?5:"OP Character"===e?6:0},n.initNgPro(function(){return n.searchAnime()})}]),app.controller("DiscordController",["$scope","$rootScope","$http",function(e,t,i){e.guild=null,e.botCommands=null,e.selBotGroup=null,e.selectBotGroup=function(t){return e.selBotGroup=t},e.initNgPro(function(){i({method:"GET",url:"https://discordapp.com/api/v6/invites/3X5r49q?with_counts=true",headers:{"X-Auth":void 0,"X-Path":void 0}}).then(function(t){var i=t.data;i&&(e.guild={name:i.guild.name,invite:"https://discordapp.com/invite/".concat(i.code),online:i.approximate_presence_count,members:i.approximate_member_count,icon:"https://cdn.discordapp.com/icons/".concat(i.guild.id,"/").concat(i.guild.icon,".webp?size=128")})}),i({method:"GET",url:"https://anilivery.aniwatch.me/json/riina.json",headers:{"X-Auth":void 0,"X-Path":void 0}}).then(function(t){var i=t.data;i&&(e.botCommands=i,e.selBotGroup=e.botCommands.commands[0])}),e.initSite(e.controllerName,function(){t.AniwatchMeta.set("Discord")})})}]),app.controller("FAQController",["$scope","$rootScope","$routeParams","$location","$anchorScroll","$timeout",function(e,t,i,a,n,s){e.view=a.hash()||"",e.faq_sections=[{id:1,title:"General"},{id:5,title:"Anime"},{id:3,title:"Streams"},{id:4,title:"Credits"},{id:7,title:"Resources"}],e.faq=[{title:"There are no advertisements, why?",body:"We at Aniwatch believe that advertisements are annoying.<br>We want to offer you the best user experience, thus you won't see any ads or banners whenever visiting Aniwatch.",collapsed:!1,section:1},{title:"Why is my F5 not working?",body:"It is working, but we've replaced reloading via F5 with our own reload function in order to offer you and us a better website performance.<br>Please refrain from reloading our website with your browser's reload function and either use F5 or right click the website to open the context menu and click on 'reload'.",collapsed:!1,section:1},{title:"How many anime and streams have you got?",body:"Take a look at our <a href='/stats'>Aniwatch In Numbers</a> page!<br><small>You need an account for that.</small>",collapsed:!1,section:1},{title:"What is trending on aniwatch right now?",body:"Take a look at our <a href='/top?t=0&p=1'>Top Anime</a> page!<br><small>You need an account for that.</small>",collapsed:!1,section:1},{title:"What does 'launch' and 'broadcast' mean?",body:"Launch = Broadcast of the first episode of an anime on aniwatch.<br>Broadcast = Broadcast of new episodes of an anime on aniwatch.<br><br><b>Note:</b> All displayed data is in CET/CEST (Central European Time/Central European Summer Time) and it always refers to aniwatch and not the japanese TV.",collapsed:!1,section:5},{title:"How can I report DMCA takedowns?",body:"Write us an email: <a href='mailto:"+t.Utils.deObfMail("7dv","e7rhm","2j",36,35,34)+"'>DMCA</a>",collapsed:!1,section:3},{title:"What do we work with?",body:"\n            <ul class=\"pd-20 list-circle\">\n                <li><a target=\"_blank\" rel=\"noopener\" href=\"https://mariadb.org\">MariaDB</a></li>\n                <li><a target=\"_blank\" rel=\"noopener\" href=\"https://redis.io\">Redis</a></li>\n                <li>\n                    JavaScript (ES6+)\n                    <ul class=\"pd-20 list-circle\">\n                        <li><a target=\"_blank\" rel=\"noopener\" href=\"https://angularjs.org\">AngularJS</a></li>\n                        <li><a target=\"_blank\" rel=\"noopener\" href=\"https://nodejs.org\">Node.js</a></li>\n                        <li><a target=\"_blank\" rel=\"noopener\" href=\"https://babeljs.io\">Babel</a></li>\n                        <li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/GoogleChrome/puppeteer\">Puppeteer</a></li>\n                        <li><a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/video-dev/hls.js\">HLS</a></li>\n                        <li><a target=\"_blank\" rel=\"noopener\" href=\"https://socket.io\">Socket.IO</a></li>\n                        <li>Anilyr&nbsp;(Forked from <a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/sampotts/plyr\">Plyr</a>)</li>\n                    </ul>\n                </li>\n                <li><a target=\"_blank\" rel=\"noopener\" href=\"https://ffmpeg.org\">FFmpeg</a></li>\n                <li><a target=\"_blank\" rel=\"noopener\" href=\"https://material.io\">Google Material Design</a></li>\n            </ul>",collapsed:!1,section:4},{title:"Does your player have shortcuts/hotkeys?",body:"\n            Sure thing! Touch controls to come :soonTM: tho.\n            <hr class=\"mg-20\">\n            <div class=\"layout-row layout-xs-column card-row\">\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>0</code> to <code>9</code></b>&nbsp;&nbsp;&nbsp;Seek from 0 to 90% respectively</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>SPACE</code></b>&nbsp;&nbsp;&nbsp;Toggle playback</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>K</code></b>&nbsp;&nbsp;&nbsp;Toggle playback</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>\u2190</code></b>&nbsp;&nbsp;&nbsp;Seek backward by your defined time (default 5s)</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>\u2191</code></b>&nbsp;&nbsp;&nbsp;Increase volume</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>M</code></b>&nbsp;&nbsp;&nbsp;Toggle mute</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>\u2192</code></b>&nbsp;&nbsp;&nbsp;Seek forward by your defined time (default 5s)</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>\u2193</code></b>&nbsp;&nbsp;&nbsp;Decrease volume</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>F</code></b>&nbsp;&nbsp;&nbsp;Toggle fullscreen</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>SHIFT</code> + <code>P</code></b>&nbsp;&nbsp;&nbsp;Previous episode</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>SHIFT</code> + <code>C</code></b>&nbsp;&nbsp;&nbsp;Set episode as completed</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>S</code></b>&nbsp;&nbsp;&nbsp;Capture screenshot</span>\n                </div>\n                <div class=\"flex-33 flex-sm-50 flex-xs-100\">\n                    <span><b><code>SHIFT</code> + <code>N</code></b>&nbsp;&nbsp;&nbsp;Next episode</span>\n                </div>\n            </div>\n            ",collapsed:!("hotkeys"!==e.view),anchor:"hotkeys",section:3},{title:"Backlinks",body:"<ul class='pd-20 list-circle'><li><a target='_blank' rel='noopener' href='https://elitepvpers.com/forum'>elitepvpers.com</a></li></ul>",collapsed:!1,section:4},{title:"How can I contact you?",body:"Join our <a href=\"https://aniwatch.me/discord\">Discord</a> server or write us an <a href=\"mailto:".concat(t.Utils.deObfMailSup("6hill","fx0ej","2l",35,34,33),"\">email</a>!"),collapsed:!1,section:1},{title:"Do you have social media accounts?",body:"Sure, follow us on <a href=\"https://fb.me/AniwatchME\" rel=\"noopener\" target=\"_blank\">Facebook</a> and <a href=\"https://twitter.com/AniwatchME\" rel=\"noopener\" target=\"_blank\">Twitter</a>!",collapsed:!1,section:1},{title:"Links",body:"\n            <ul class=\"pd-20 list-circle\">\n                <li><a target=\"_blank\" rel=\"noopener\" aria-label=\"Aniwatch's Roadmap\" href=\"https://trello.com/b/WwB16Ttp/roadmap\">Roadmap</a></li>\n                <li><a aria-label=\"Aniwatch's Discord Invite Link\" href=\"https://aniwatch.me/discord\">Discord Invite</a></li>\n            </ul>",collapsed:!1,section:7}],e.main=function(){e.initSite(e.controllerName,function(){t.AniwatchMeta.set("FAQ"),s(function(){n()},100)})},e.initNgPro(function(){return e.main()})}]),app.controller("HomeController",["$scope","$rootScope","HTTPService","$interval",function(e,t,i,a){e.callbacked=0,e.motd_v=new Date().getTime(),e.bundleObjects=[{caption:"Latest Releases",desc:"[Airing] Triggered once <b>one</b> quality is online, other qualities are usually available a few minutes afterwards.<br>Please be patient if this shouldn't be the case."},{caption:"Latest Uploads",desc:"[Non-Airing] Triggered once <b>one</b> quality is online, other qualities are usually available a few minutes afterwards.<br>Please be patient if this shouldn't be the case."},{caption:"Airing Anime",desc:"Some anime which are airing. Sorted <b>randomly</b>. For more details, visit our <a href=\"/airing\">airing page</a>."},{caption:"Latest Additions",desc:"Some anime which have been added recently to our database. Sorted by <b>newest</b>. You can <a href=\"/search\">search</a> for them."}],e.loading_motd=!0,e.hideLoadingScreen=function(){return e.loading_motd=!1},e.reloadMOTD=function(){return e.motd_v=new Date().getTime()},e.getLatestReleases=function(){i.Execute({controller:"Anime",action:"getLatestReleases"},e,!1).then(function(t){t.success&&(e.bundleObjects[0].object=t.entries),e.callbacked++})},e.getLatestUploads=function(){i.Execute({controller:"Anime",action:"getLatestUploads"},e,!1).then(function(t){t.success&&(e.bundleObjects[1].object=t.entries),e.callbacked++})},e.getAiringAnime=function(){i.Execute({controller:"Anime",action:"getAiringAnime",randomize:!0},e,!1).then(function(t){t.success&&(e.bundleObjects[2].object=t.entries),e.callbacked++})},e.getLatestAnime=function(){i.Execute({controller:"Anime",action:"getLatestAnime"},e,!1).then(function(t){t.success&&(e.bundleObjects[3].object=t.entries),e.callbacked++})},e.initNgPro(function(){t.enable_banner=!t.session.userid,t.AniwatchMeta.set("Home"),e.getLatestReleases(),e.getLatestUploads(),e.getAiringAnime(),e.getLatestAnime();var i=a(function(){4===e.callbacked&&(e.initSite(e.controllerName),a.cancel(i))},1e3/16)})}]),app.controller("LoginController",["$scope","$rootScope","AuthenticationService","$location",function(e,t,i,a){e.remember_login=!0,e.has_token=!!a.search().token,e.initNgPro(function(){t.AniwatchMeta.set("Login"),e.initSite(e.controllerName,function(){t.session.userid?a.path("/home"):a.search().v&&("register"===a.search().v?e.showRegister():"resetpw"===a.search().v&&e.has_token&&e.resetPW())})}),e.login=function(){i.Login(e.username,e.password,e.remember_login)},e.register=function(){i.Register(e.new_username,e.new_email,e.new_password)},e.forgotPW=function(){i.ForgotPW()},e.resetPW=function(){if(e.has_token){var t=a.search().token;i.ResetPW(t)}},e.showRegister=function(){$(".login-wrapper").stop().addClass("active"),t.aniReModelExpiration(),a.search().v===void 0&&a.search_update("v","register"),t.AniwatchMeta.set("Register"),t.switchNavbar("login?v=register")},e.showLogin=function(){$(".login-wrapper").stop().removeClass("active"),a.search().v!==void 0&&a.search_update("v",null),t.AniwatchMeta.set("Login"),t.switchNavbar("login")}}]),app.controller("MediaController",["$scope","$rootScope","HTTPService","$location","Toast","$routeParams","Anilyr",function(e,t,i,a,n,s,o){e.getMedia=function(){i.Execute({controller:"Media",action:"getMedia",media_id:s.media_id},e,!1).then(function(i){!i.success&&i.error?e.initSite(e.controllerName,function(){a.path("/404"),i.error&&n.Show(i.error)}):(e.media=i,t.AniwatchMeta.set(e.media.media_title,"Listen to "+e.media.media_title+" on Aniwatch!"),$("#mediaPlayer").attr("data-src",e.media.media_value),e.initSite(e.controllerName,function(){o.initPlayer({PATH:2,YOUTUBE:!0,BIND_EVENTS:!1,EP_CONTROLS:!1,ANILYR_SCREENSHOTS:!1,EP_TITLE:!1,POSTER_ATTR:!1,THEATER_MODE:!1,PLAYER_LANG:!1,NO_SPEED_SETTINGS:!1,LOADING_SPINNER:!1,AUTO_PLAY:!1,EP_TOOLTIP:!1,RESUME_STREAM:!1,SCOPE:e},function(){e.dataLoading=!1})}))})},e.favMedia=function(){i.Execute({controller:"Media",action:"favMedia",media_id:s.media_id},e).then(function(t){t.success?n.Show("Action successfully!"):n.Show(t.error),e.media.media_hasFaved=t.hasFaved,e.media.media_favorites=t.faved})},e.initNgPro(function(){return e.getMedia()})}]),app.controller("PolicyController",["$scope","$rootScope",function(e,t){e.initNgPro(function(){e.initSite(e.controllerName),t.AniwatchMeta.set("Privacy Policy")})}]),app.controller("RandomController",["$scope","$rootScope","HTTPService",function(e,t,i){e.animeObject=null,e.historyObjects=[],e.getRandomAnime=function(){var a=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];i.Execute({controller:"Anime",action:"getRandomAnime"},e,!1).then(function(i){a&&(e.initSite(e.controllerName),t.AniwatchMeta.set("Random Pick")),i.success&&(e.animeObject=i.entries[0],e.historyObjects.unshift(angular.copy(e.animeObject)))})},e.loadHistory=function(t){return e.animeObject=angular.copy(t)},e.clearHistory=function(){return e.historyObjects=[]},e.initNgPro(function(){return e.getRandomAnime(!0)})}]),app.controller("SearchController",["$rootScope","$scope","$location","$timeout","HTTPService","$sce","Swal","Toast","$interval",function(e,t,i,a,n,s,o,r){t.safeSearch=e.session.nsfw,t.anyGenre=!1,t.anyStaff=!1,t.anyTag=!1,t.genreHentai=!1,t.selectedGenres=[],t.selectedStaffs=[],t.selectedTags=[],t.selectedLangs=[],t.selectedFilters=[],t.selectedTypes=[],t.selectedStatus=[],t.selectedSeason=-1,t.range_slider=!0,t.has_relation=!1,t.allAnimeAiringsV=angular.copy(e.allAnimeAirings),t.allAnimeAiringsV.unshift({str:"All",index:-1}),t.resetParams={q:{set:null,reset:!1,id:-1},g:{set:null,reset:!1,id:0},s:{set:null,reset:!1,id:1},t:{set:null,reset:!1,id:4},l:{set:null,reset:!1,id:5},anyG:{set:null,reset:!1,id:-1},anyS:{set:null,reset:!1,id:-1},anyT:{set:null,reset:!1,id:-1},anyL:{set:null,reset:!1,id:-1},r:{set:null,reset:!1,id:-1},a:{set:null,reset:!1,id:-1},type:{set:null,reset:!1,id:-1},status:{set:null,reset:!1,id:-1},e:{set:null,reset:!1,id:-1},y:{set:null,reset:!1,id:-1},season:{set:null,reset:!1,id:-1},o:{set:null,reset:!1,id:-1},oD:{set:null,reset:!1,id:-1}},t.firstSearch=!1,t.loadMoreResults="There are no more results to be displayed!",t.listOrderOptions=[{str:"Alphabetical (A-Z)",value:"title"},{str:"Alphabetical (Z-A)",value:"title:r"},{str:"Recently Added",value:"added:r"},{str:"Initially Added",value:"added"},{str:"Most Episodes",value:"episodes:r"},{str:"Least Episodes",value:"episodes"},{str:"Newest",value:"start:r"},{str:"Oldest",value:"start"}],t.listOrder=t.listOrderOptions[0],t.setListOrder=function(e){return t.listOrder=e},t.listTypeOptions=[{str:"All",value:0},{str:"Anime",value:1},{str:"Special",value:2},{str:"Movie",value:3}],t.listStatusOptions=[{str:"All",value:0},{str:"Not yet aired",value:1},{str:"Finished airing",value:2},{str:"Currently airing",value:3},{str:"TBA",value:4}],t.maxEpisodesOptions=[{str:"Everything",value:0},{str:"Short (< 14)",value:1},{str:"Medium (< 27)",value:2},{str:"Long (< 53)",value:3},{str:"No Life (< 105)",value:4},{str:"Weeb (< 500)",value:5}],t.languageOptions=[{str:"EngDub",value:1},{str:"EngSub",value:2},{str:"GerDub",value:3},{str:"GerSub",value:4}],t.tagOptions=[{str:"Nudity",value:1},{str:"Isekai",value:2},{str:"Moe",value:3},{str:"Sukebei",value:4},{str:"CGI",value:5},{str:"OP Character",value:6}],t.loadMore=function(){-1!=t.loadMoreResults.indexOf("Load more")&&t.animeObject!=null&&t.onInput(t.animeObject.length)},t.extend=function(e,i){return t.Utils.LoopObj(i,function(t){return e[t]=i[t]}),e},t.onInput=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,o=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!e.dataLoading){var l=t.searchInput||"",d={controller:"Search",action:"search"};if(-1==s?t.animeObject=void 0:(t.loadMoreResults="",d.limit=s),d.rOrder=!!t.listOrder.value.includes(":r"),d.order=t.listOrder.value.replace(":r",""),0==l.length?t.resetParams.q.reset=!0:!o&&(i.search().q?i.search().q!=l&&(t.resetParams.q.set=encodeURI(l)):t.resetParams.q.set=encodeURI(l)),d.typed=l,d.genre=angular.toJson(t.selectedGenres),d.staff=angular.toJson(t.selectedStaffs),d.tags=t.selectedTags,d.langs=t.selectedLangs,d.anyGenre=t.anyGenre,d.anyStaff=t.anyStaff,d.anyTag=t.anyTag,d.anyLang=t.anyLang,d.animelist=t.selectedFilters,d.types=t.selectedTypes,d.status=t.selectedStatus,d.yearRange=!0===t.range_slider?t.yearRange:t.year,!1===t.range_slider&&(d.season=t.selectedSeason),d.maxEpisodes=t.selectedMaxEpisodes,d.hasRelation=t.has_relation,!o)for(var c in t.resetParams)if(c.startsWith("any")||"r"==c||"e"==c||"season"==c||"o"==c||"q"==c){var m=!1;"anyG"==c?m=t.anyGenre:"anyT"==c?m=t.anyTag:"anyS"==c?m=t.anyStaff:"anyL"==c?m=t.anyLang:"r"==c?m=t.has_relation:"e"==c?m=t.selectedMaxEpisodes:"season"==c&&!1===t.range_slider?m=t.selectedSeason:"o"==c?m=t.listOrder.value:"q"==c&&(m=t.searchInput),!0!=m&&("string"!=typeof m||"o"!=c&&"q"!=c)&&(isNaN(m)||"e"!=c)&&("season"!=c||!1!==t.range_slider)?t.resetParams[c].reset=!0:(m=m.toString(),i.search()[c]?i.search()[c]!=m&&(t.resetParams[c].set=m):t.resetParams[c].set=m)}else(function(){var e=[],a=!0;"g"==c?e=angular.copy(t.selectedGenres):"t"==c?(e=angular.copy(t.selectedTags),a=!1):"s"==c?e=angular.copy(t.selectedStaffs):"l"==c?(e=angular.copy(t.selectedLangs),a=!1):"a"==c?(e=angular.copy(t.selectedFilters),a=!1):"type"==c?(e=angular.copy(t.selectedTypes),a=!1):"status"==c?(e=angular.copy(t.selectedStatus),a=!1):"y"==c&&(e=!0===t.range_slider?angular.copy(t.yearRange):angular.copy(t.year),a=!1);var n=[];e.forEach(function(e){var t;t=!1===a?e:e.name,n.push(t)}),0<n.length?(n=JSON.stringify(n),i.search()[c]?i.search()[c]!=n&&(t.resetParams[c].set=n):t.resetParams[c].set=n):t.resetParams[c].reset=!0})();if(!t.firstSearch){t.firstSearch=!0,$("#search_carousel").fadeOut(300);var p=document.querySelector("[search-caption]");t.Utils.LoopNum(0,30,function(e){a(function(){p&&(document.querySelector("[search-caption]").style.marginTop=30-e-1+"vh")},20*e)})}n.Execute(d,t).then(function(i){return o?(t.initSite(t.controllerName,function(){t.updateParams()}),e.AniwatchMeta.set("Search","Find your anime, movie, special or hentai on Aniwatch!")):t.updateParams(!1),i?!i.success&&i.error?(t.animeObject=[],r.Show(i.error)):void(t.animeObject?t.Utils.LoopObj(i,function(e){t.animeObject.push(e)}):t.animeObject=i,t.loadMoreResults=0==t.animeObject.length%32&&0!=t.animeObject.length?"Load more":"There are no more results to be displayed!",l&&e.AniwatchMeta.set("Searching for: "+decodeURIComponent(l),"Find your anime, movie, special or hentai on Aniwatch!")):(t.animeObject=[],r.Show("An unknown error occured."))})}},t.updateParams=function(){var e=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0];for(var n in t.resetParams)t.resetParams[n].reset?(void 0!==i.search()[n]&&i.search_update(n,null),t.resetParams[n].reset=!1):t.resetParams[n].set&&(i.search_update(n,t.resetParams[n].set),t.resetParams[n].set="");e&&a(function(){return document.querySelector("input[auto-focus=\"\"]").focus()},0)},t.doInputFocus=function(){a(function(){return document.querySelector("input[auto-focus=\"\"]").focus()},0)},t.highlight=function(e,t){return t?s.trustAsHtml(unescape(escape(e).replace(new RegExp(escape(t),"gi"),"<span class=\"highlightedText\">$&</span>"))):s.trustAsHtml(e)},t.querySearch=function(e,i){var a=n.Execute({controller:"Search",action:"searchExtended",type:i,query:e,anime_type:"SEARCH"},t,!1).then(function(i){if(!i.success&&i.error)return[];var a=t.loadObjects(i);return e?a.filter(t.createFilterFor(e)):[]});return a},t.transformChip=function(e){return angular.isObject(e)?e:{name:e}},t.createFilterFor=function(e){return e=e.charAt(0).toUpperCase()+e.slice(1),function(t){return 0===t.indexOf(e)}},t.loadObjects=function(e){return e.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)})},t.resetYearRange=function(){!0===t.range_slider?t.yearRange=[e.airingYearsOptions.minYear,e.airingYearsOptions.maxYear]:t.year=[new Date().getFullYear()]},t.resetChips=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;0>=e||4<e||(1===e?t.selectedLangs=[]:2===e?t.selectedGenres=[]:3===e?t.selectedTags=[]:4===e&&(t.selectedStaffs=[]))},t.resetSeason=function(){t.selectedFilters=[e.filterOptions[0].value],t.selectedTypes=[t.listTypeOptions[0].value],t.selectedStatus=[t.listStatusOptions[0].value],!1===t.range_slider&&(t.selectedSeason=t.allAnimeAiringsV[0].index)},t.resetSelects=function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;0>=i||4<i||(1===i?t.selectedFilters=[e.filterOptions[0].value]:2===i?t.selectedTypes=[t.listTypeOptions[0].value]:3===i?t.selectedStatus=[t.listStatusOptions[0].value]:4===i&&(t.selectedMaxEpisodes=[t.maxEpisodesOptions[0].value]))},t.manageSelections=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!(0===e||3<e)){var i="",a="",n=0,s=[1,2,3,4];if(1===e?(a="selectedFilters",n=2,s=[0,1,4,5,6]):2===e?(s=[1,2,3],a="selectedTypes"):3===e&&(a="selectedStatus"),i="t"+a.charAt(0).toUpperCase()+a.substr(1,a.length),t[i]&&t[a]){var o=t[a].filter(function(e){return!t[i].includes(e)});if(!(0===o.length&&0<t[a].length)){if(o.includes(n)||0===t[a].length)t[a]=[n];else{var r=0;if(s.forEach(function(e){t[a].includes(e)&&r++}),r===s.length)t[a]=[n];else{var l=t[a].indexOf(n);-1!==l&&t[a].splice(l,1)}}t[i]=angular.copy(t[a])}}}},t.initNgPro(function(){if(t.selectedFilters=[e.filterOptions[0].value],t.selectedTypes=[t.listTypeOptions[0].value],t.selectedStatus=[t.listStatusOptions[0].value],t.selectedSeason=t.allAnimeAiringsV[0].index,t.selectedMaxEpisodes=t.maxEpisodesOptions[0].value,t.selectedLangs=[],t.selectedTags=[],t.tSelectedFilters=angular.copy(t.selectedFilters),t.tSelectedTypes=angular.copy(t.selectedTypes),t.tSelectedStatus=angular.copy(t.selectedStatus),t.tSelectedLangs=angular.copy(t.selectedLangs),t.tSelectedTags=angular.copy(t.selectedTags),t.yearRange=[e.airingYearsOptions.minYear,e.airingYearsOptions.maxYear],t.year=[new Date().getFullYear()],(e.Utils.isJsonString(i.search().g)||e.Utils.isJsonString(i.search().s)||i.search().anyG||i.search().anyS||i.search().anyT||i.search().anyL||i.search().r||i.search().a||i.search().type||i.search().status||i.search().t||i.search().l||i.search().e||i.search().season||i.search().y||i.search().o||i.search().oD||i.search().q)&&!e.isPrerenderBot){var a=function(e){var a=i.search()[e];if(e.startsWith("any")||"r"===e||"e"===e||"season"===e||"o"===e||"q"===e){if("e"===e||"season"===e)a=!isNaN(a)&&parseInt(a);else if("o"!==e)a="q"===e?a?decodeURIComponent(a):"":!!a&&"true"===a;else if(a="string"==typeof a&&a,a){var r=t.listOrderOptions.findIndex(function(e){return e.value===a});a=!!t.listOrderOptions[r]&&t.listOrderOptions[r]}a||0===a?"anyG"===e?t.anyGenre=a:"anyS"===e?t.anyStaff=a:"anyT"===e?t.anyTag=a:"anyL"===e?t.anyLang=a:"r"===e?t.has_relation=a:"e"===e?t.selectedMaxEpisodes=a:"season"===e?t.selectedSeason=a:"o"===e?t.listOrder=a:"q"==e&&(t.searchInput=a):t.resetParams[e].reset=!0}else if(a){var l=JSON.parse(a);if("a"===e)t.selectedFilters=l,t.tSelectedFilters=angular.copy(t.selectedFilters);else if("type"===e)t.selectedTypes=l,t.tSelectedTypes=angular.copy(t.selectedTypes);else if("status"===e)t.selectedStatus=l,t.tSelectedStatus=angular.copy(t.selectedStatus);else if("y"===e){if(1===l.length)t.year=l,t.range_slider=!1;else if(2===l.length)t.yearRange=l,t.range_slider=!0;else return t.resetParams[e].reset=!0,"continue";}else if("t"===e)t.selectedTags=l,t.tSelectedTags=angular.copy(t.selectedTags);else if("l"===e)t.selectedLangs=l,t.tSelectedLangs=angular.copy(t.selectedLangs);else{var d="g";1===t.resetParams[e].id&&(d="s");var n=t.loadObjects(l),s=0,o=[];l.forEach(function(i){var a=i?n.filter(t.createFilterFor(i)):[];if(0<a.length){var r=a[0],l={name:r};0===t.resetParams[e].id?t.selectedGenres.push(l):1===t.resetParams[e].id&&t.selectedStaffs.push(l),o.push(r),s++}});var c=JSON.stringify(o);c!==i.search()[d]&&(t.resetParams[d].set=c),0===s&&(t.resetParams[d].reset=!0)}}else t.resetParams[e].reset=!0};for(var param in t.resetParams){var n=a(param)}t.onInput(-1,!0)}else{for(var s in t.resetParams)t.resetParams[s].reset=!0;t.initSite(t.controllerName,function(){t.updateParams()}),e.AniwatchMeta.set("Search","Find your anime, movie, special or hentai on Aniwatch!")}})}]),app.controller("SeasonalController",["$rootScope","$routeParams","$location","$scope","HTTPService",function(e,t,i,a,n){a.getSeasonalAnime=function(){var s=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],o=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],r=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2],l={controller:"Anime",action:"getSeasonalAnime"};!1==s?(l.current_index=a.cur_season_index.index,l.current_year=a.year[0],i.path_update("/seasonal/"+l.current_index+"/"+l.current_year,!1)):!o&&a.isValidAiring(t.index,t.year)?(a.cur_season_index=e.allAnimeAirings[t.index],a.year=[t.year],l.current_index=a.cur_season_index.index,l.current_year=a.year[0]):(l.current_index="null",l.current_year="null",a.year=[new Date().getFullYear()],i.path_update("/seasonal",!1));var d=document.querySelector("span[ani-slider-year=\"\"]");d&&(d.innerHTML=a.year[0]),n.Execute(l,a,!0).then(function(t){r&&a.initSite(a.controllerName),a.seasonal=t,a.animeObject=a.seasonal.entries,a.current_airing=a.seasonal.current_airing,a.calcAirings(),e.AniwatchMeta.set("Seasonal Anime ("+a.seasonal.current_airing+")","Find all seasonal anime on Aniwatch! Currently showing: "+a.seasonal.current_airing)})},a.calcAirings=function(){a.cur_season_index=e.allAnimeAirings[a.seasonal.current_index],a.cur_season_year=a.seasonal.current_year-e.allAnimeYears[0].str},a.isValidAiring=function(t,i){return void 0!==t&&void 0!==i&&!(isNaN(t)||isNaN(i))&&void 0!==e.allAnimeAirings[t]&&void 0!==e.allAnimeYears[i-e.allAnimeYears[0].str]},a.selectPreviousSeason=function(){var t=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(a.cur_season_index){if(0===a.cur_season_index.index){if(parseInt(a.year[0])-1<a.airingYearsOptions.minYear)return null;if(t)return e.allAnimeAirings[3].str+" "+(parseInt(a.year[0])-1);a.cur_season_index=e.allAnimeAirings[3],a.year[0]--}else{if(t)return e.allAnimeAirings[a.cur_season_index.index-1].str+" "+a.year[0];a.cur_season_index=e.allAnimeAirings[a.cur_season_index.index-1]}a.getSeasonalAnime(!1)}},a.selectNextSeason=function(){var t=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(a.cur_season_index){if(3===a.cur_season_index.index){if(parseInt(a.year[0])+1>a.airingYearsOptions.maxYear)return null;if(t)return e.allAnimeAirings[0].str+" "+(parseInt(a.year[0])+1);a.cur_season_index=e.allAnimeAirings[0],a.year[0]++}else{if(t)return e.allAnimeAirings[a.cur_season_index.index+1].str+" "+a.year[0];a.cur_season_index=e.allAnimeAirings[a.cur_season_index.index+1]}a.getSeasonalAnime(!1)}},a.initNgPro(function(){a.listFilter=a.filterOptions[0],a.getSeasonalAnime(!0,!1,!0)}),a.selectMode=function(e){return a.listFilter=e},a.selectSeason=function(e){return a.cur_season_index=e}}]);
